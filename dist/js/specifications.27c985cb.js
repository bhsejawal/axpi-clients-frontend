(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["specifications"],{bff9:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"specifications"},[i("loading-screen",{attrs:{"is-loading":e.isDeleting}}),i("div",{staticClass:"page-header"},[i("h1",{staticClass:"page-title"},[e._v("Specifications")]),i("div",{staticClass:"actions"},[i("a-button",{attrs:{icon:"plus",type:"primary",loading:e.isLoading},on:{click:e.createSpecification}},[e._v("Add Specification ")])],1)]),i("specifications-table",{attrs:{"reload-key":e.reloadOrdersKey},on:{"set-selected-specification-ids":e.setSelectedSpecificationIds,"delete-specification":e.deleteSpecification,selected:e.handleSpecificationSelected}}),e.order&&"specification"===e.type?i("edit-order-modal"):e._e()],1)},n=[],c=i("5530"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-table",{staticClass:"axpi-table",attrs:{"row-selection":e.rowSelection,columns:e.columns,"row-key":function(e){return e.id},"data-source":e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"name",fn:function(t,a){return i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.handleRecordSelected(a)}}},[e._v(e._s(t))])}},{key:"type",fn:function(t){return i("div",{},[e._v(" "+e._s(e.formatType(t))+" ")])}},{key:"updated_at",fn:function(t){return i("div",{},[e._v(" "+e._s(e.displayTimeAgo(t))+" ")])}},{key:"actions",fn:function(t,a){return i("div",{staticClass:"table-actions"},[i("a-dropdown",{attrs:{trigger:["click"]}},[i("a-button",{attrs:{type:"link",icon:"ellipsis"},on:{click:function(e){return e.preventDefault(),function(e){return e.preventDefault()}(e)}}}),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-menu-item",[i("a",{attrs:{href:"#"},on:{click:function(t){return e.handleRecordSelected(a)}}},[e._v("Edit")])]),i("a-menu-item",[i("a",{staticClass:"text-danger",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.deleteRecord(a)}}},[e._v("Delete")])])],1)],1)],1)}}])})],1)},s=[],r=(i("b0c0"),i("bc3a")),d=i.n(r),l=i("2d20"),p=i("6e12"),u=[{title:"Name",dataIndex:"product_name",sorter:!0,scopedSlots:{customRender:"name"}},{title:"Type",dataIndex:"product_type",sorter:!0,scopedSlots:{customRender:"type"}},{title:"Last Updated",dataIndex:"updated_at",sorter:!0,scopedSlots:{customRender:"updated_at"}},{title:"",scopedSlots:{customRender:"actions"},width:10}],f={props:["reloadKey"],data:function(){return{data:[],pagination:{},loading:!1,columns:u,selectedSpecificationIds:[]}},mixins:[l["a"],p["a"]],mounted:function(){this.fetch()},watch:{reloadKey:function(){this.fetch()},selectedSpecificationIds:function(e){this.$emit("set-selected-specification-ids",e)}},computed:{rowSelection:function(){var e=this;return{onChange:function(t){e.selectedSpecificationIds=t},getCheckboxProps:function(e){return{props:{disabled:"Disabled User"===e.name,name:e.name}}}}}},methods:{handleTableChange:function(e,t,i){var a=Object(c["a"])({},this.pagination);a.current=e.current,this.pagination=a,this.fetch(Object(c["a"])({results_per_page:e.pageSize,page:e.current,sort_field:i.field,sort_order:i.order},t))},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,d.a.post(window.API_BASE+"/specifications/search",Object(c["a"])({results_per_page:10,status:this.statusToShow},t)).then((function(t){var i=Object(c["a"])({},e.pagination);i.total=t.data.total,e.loading=!1,e.data=t.data.data,e.pagination=i})).catch((function(t){console.log(t),e.$message.error("Error loading specifications")}))},handleRecordSelected:function(e){this.$emit("selected",e)},deleteRecord:function(e){this.$emit("delete-specification",e)}}},h=f,g=i("2877"),S=Object(g["a"])(h,o,s,!1,null,null,null),m=S.exports,b=i("655a"),v=i("2f62"),y={name:"Specifications",computed:Object(c["a"])({},Object(v["c"])("orderEditor",{type:"type",order:"order",reloadOrdersKey:"reloadOrdersKey",isLoading:"isLoading"})),components:{SpecificationsTable:m,EditOrderModal:b["a"]},data:function(){return{selectedSpecificationIds:[],isDeleting:!1}},methods:Object(c["a"])(Object(c["a"])({},Object(v["b"])("orderEditor",{loadSpecification:"loadSpecification",setWizardStage:"setWizardStage",createSpecification:"createSpecification",incrementReloadOrdersKey:"incrementReloadOrdersKey"})),{},{deleteSpecification:function(e){var t=this;t.isDeleting=!0,d.a.delete(window.API_BASE+"/specifications/"+e.id).then((function(){t.isDeleting=!1,t.$message.success("Specification deleted successfully"),t.incrementReloadOrdersKey()})).catch((function(e){console.log(e),t.isDeleting=!1,t.$message.success("Error deleting order")}))},setSelectedSpecificationIds:function(e){this.selectedSpecificationIds=e},handleSpecificationSelected:function(e){this.setWizardStage(0),this.loadSpecification(e.id)}})},_=y,w=Object(g["a"])(_,a,n,!1,null,"b7dbab8a",null);t["default"]=w.exports}}]);
//# sourceMappingURL=specifications.27c985cb.js.map