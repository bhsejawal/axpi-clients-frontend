{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/views/Intelligence/Clusters/Show/Sidebar.vue?b226","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/GroupInsightsTable/InsightRow.vue?65b5","webpack:///./node_modules/export-to-csv/build/export-to-csv.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/internals/number-parse-float.js","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/AllProductDetailsTable.vue?433a","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs.vue?83e4","webpack:///./src/mixins/Units.js","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterStatsSidebar.vue?f8d5","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterDemandGraph.vue?8c25","webpack:///./src/views/Intelligence/Clusters/Show/ClusterOrdersTable.vue?72a7","webpack:///./node_modules/core-js/modules/es.number.parse-float.js","webpack:///./node_modules/moment-range/dist/moment-range.js","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterOrdersGraph.vue?2319","webpack:///./src/views/Intelligence/Clusters/Show.vue?ce04","webpack:///./src/views/Intelligence/Clusters/Show/ClusterOrdersTable.vue?1009","webpack:///src/views/Intelligence/Clusters/Show/ClusterOrdersTable.vue","webpack:///./src/views/Intelligence/Clusters/Show/ClusterOrdersTable.vue?37f0","webpack:///./src/views/Intelligence/Clusters/Show/ClusterOrdersTable.vue?9367","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs.vue?2d6f","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterStatsSidebar.vue?e808","webpack:///src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterStatsSidebar.vue","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterStatsSidebar.vue?1e7d","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterStatsSidebar.vue?78f6","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterOrdersGraph.vue?12a3","webpack:///src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterOrdersGraph.vue","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterOrdersGraph.vue?0763","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterOrdersGraph.vue?af24","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterDemandGraph.vue?07ee","webpack:///src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterDemandGraph.vue","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterDemandGraph.vue?fba0","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/ClusterDemandGraph.vue?b75a","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/AllProductDetailsTable.vue?a1ea","webpack:///src/views/Intelligence/Clusters/Show/ClusterGraphs/AllProductDetailsTable.vue","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/AllProductDetailsTable.vue?62fe","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs/AllProductDetailsTable.vue?5531","webpack:///src/views/Intelligence/Clusters/Show/ClusterGraphs.vue","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs.vue?1348","webpack:///./src/views/Intelligence/Clusters/Show/ClusterGraphs.vue?0dd0","webpack:///./src/views/Intelligence/Clusters/Show/Sidebar.vue?612b","webpack:///src/views/Intelligence/Clusters/Show/Sidebar.vue","webpack:///./src/views/Intelligence/Clusters/Show/Sidebar.vue?e800","webpack:///./src/views/Intelligence/Clusters/Show/Sidebar.vue?2b31","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar.vue?839c","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/InsightsSummaryTable.vue?0b2b","webpack:///src/views/Intelligence/Clusters/Show/InsightsSidebar/InsightsSummaryTable.vue","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/InsightsSummaryTable.vue?7d6e","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/InsightsSummaryTable.vue","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/GroupInsightsTable.vue?bcbf","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/GroupInsightsTable/InsightRow.vue?3985","webpack:///src/views/Intelligence/Clusters/Show/InsightsSidebar/GroupInsightsTable/InsightRow.vue","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/GroupInsightsTable/InsightRow.vue?bee1","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/GroupInsightsTable/InsightRow.vue?b4e5","webpack:///src/views/Intelligence/Clusters/Show/InsightsSidebar/GroupInsightsTable.vue","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/GroupInsightsTable.vue?642c","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar/GroupInsightsTable.vue","webpack:///src/views/Intelligence/Clusters/Show/InsightsSidebar.vue","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar.vue?e39a","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar.vue?ae25","webpack:///./src/views/Intelligence/Clusters/Show/ClusterFilters.vue?704b","webpack:///src/views/Intelligence/Clusters/Show/ClusterFilters.vue","webpack:///./src/views/Intelligence/Clusters/Show/ClusterFilters.vue?261e","webpack:///./src/views/Intelligence/Clusters/Show/ClusterFilters.vue","webpack:///src/views/Intelligence/Clusters/Show.vue","webpack:///./src/views/Intelligence/Clusters/Show.vue?4a2c","webpack:///./src/views/Intelligence/Clusters/Show.vue?3311","webpack:///./src/views/Intelligence/Clusters/Show/InsightsSidebar.vue?49b5","webpack:///./node_modules/export-to-csv/build/index.js","webpack:///./src/views/Intelligence/Clusters/Show.vue?49e2"],"names":["$","$values","values","target","stat","O","Object","defineProperty","exports","value","CsvConfigConsts","EOL","BOM","DEFAULT_FIELD_SEPARATOR","DEFAULT_DECIMAL_SEPARATOR","DEFAULT_QUOTE","DEFAULT_SHOW_TITLE","DEFAULT_TITLE","DEFAULT_FILENAME","DEFAULT_SHOW_LABELS","DEFAULT_USE_TEXT_FILE","DEFAULT_USE_BOM","DEFAULT_HEADER","DEFAULT_KEYS_AS_HEADERS","ConfigDefaults","filename","fieldSeparator","quoteStrings","decimalSeparator","showLabels","showTitle","title","useTextFile","useBom","headers","useKeysAsHeaders","ExportToCsv","options","this","_csv","config","_options","objectAssign","length","console","warn","prototype","get","set","enumerable","configurable","generateCsv","jsonData","shouldReturnCsv","_parseData","_getHeaders","_getBody","FileType","fileExtension","blob","Blob","navigator","msSaveBlob","replace","attachmentType","link","encodeURI","document","createElement","href","URL","createObjectURL","setAttribute","download","body","appendChild","click","removeChild","log","keys","_data","row","keyPos","slice","i","key","_formatData","data","_isFloat","toLocaleString","toString","indexOf","input","isFinite","Boolean","JSON","parse","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","from","source","_i","arguments","symbols","to","s","call","getOwnPropertySymbols","DESCRIPTORS","objectKeys","toIndexedObject","f","createMethod","TO_ENTRIES","it","result","push","module","entries","global","trim","whitespaces","$parseFloat","parseFloat","FORCED","Infinity","string","trimmedString","String","charAt","_","require","unitOptions","type","unit","display","methods","formatUnit","u","find","forced","Number","t","e","r","n","o","l","m","c","d","__esModule","default","p","Symbol","writable","range","y","h","startOf","endOf","rangeFromInterval","isMoment","isValid","Error","clone","add","min","max","rangeFromISOString","a","parseZone","parseZoneRange","fn","constructor","isRange","within","contains","toDate","split","DateRange","iterator","next","done","return","Array","isArray","extendMoment","v","year","quarter","month","week","day","hour","minute","second","start","end","isSame","valueOf","adjacent","overlaps","excludeEnd","step","Math","abs","diff","exclusive","floor","excludeStart","isEqual","intersect","subtract","format","gs","assign","foo","bar","trzy","forEach","create","object","symbol","toPrimitive","toStringTag","name","defineProperties","__description__","__name__","for","keyFor","hasInstance","isConcatSpreadable","match","search","species","unscopables","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","isLoading","isLoadingInsights","isLoadingOrdersWithMatches","isDeleting","staticStyle","cluster","on","backToAllClusters","slot","$event","preventDefault","exportCsv","toggleSidebar","_v","_e","reloadKey","graphReloadKey","activeGraph","record","viewInsightsFor","removeOrder","style","background","borderLeft","sidebarType","model","callback","$$v","shouldHideSidebar","expression","shouldShowSidebar","incrementReloadKey","insightsApplied","selectedErpOrderId","insights","staticRenderFns","x","columns","id","dataToShow","loading","handleTableChange","scopedSlots","_u","getFirstProduct","getImageSrc","getProductLink","_s","datePurchased","formatDatePurchased","quantity","order","getQuantity","cost","formatCost","cost_currency","potentialSavings","calculateMaxPotentialSavings","calculateMinPotentialSavings","round","normalisedMeasure","domProps","getNormalisedMeasure","productUnitOfMeasure","getFirstProductUnitOfMeasure","handleRecordSelected","editMatch","deleteRecord","props","mixins","Orders","window","open","$emit","product","insight","each","groupedByType","getNormalisedMeasureMagnitude","magnitude","toReturn","orderQuantity","setSortField","sorter","field","setSortOrder","setFilters","filters","computed","vendorFilterOptions","uniq","map","ordersWithMatches","productNameOptions","selectedOrders","filter","ordersWithMatchesFiltered","ids","includes","orderDateMoment","orderDate","order_date","order_date_moment","isBefore","isAfter","sortField","orderBy","sortOrder","maxSaving","measureMagnitude","timestamp","component","active_graph","clusterId","_l","stats","statsToShow","created","fetch","watch","vm","startDate","params","endDate","clusterViewerReloadKey","graphDataToShow","scale","tooltipCrosshairs","tooltipItemTpl","formatGraphLabel","xLabel","xUnit","costPerLabel","pointTooltip","handlePointClicked","start_date","setStartDate","end_date","setEndDate","datesFromGraphData","earliestDate","latestDate","graphDateRange","xType","graphData","measure","propertyValue","property_type","propertyName","propertyUnit","properties","property","totalQuantity","selectedOrderIds","opacity","color","colourByProperty","size","sizeByProperty","gd","description","vendor","cost_per_unit","xOptions","selectedXOption","selectXOption","height","setXOptions","label","toUpperCase","substring","formatCostGraph","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","toggleOrderSelected","intervalTooltip","graphPoints","date","orders","summedQuantity","graphDateRangeByDays","by","graphDateRangeByMonths","graphDateRangeByYears","selectedBinByOption","dateFormatted","pointFromData","points","daysData","beginningOfMonth","beginningOfYear","tableData","Units","enriched","enrich","datesFromTableData","tableDateRange","uniqueProperties","dataIndex","width","product_name","product_id","imageURLs","variableType","productRow","magnitudeFormatted","propertyUnitFormatted","td","$message","error","components","setActiveGraph","isSaving","searchQuery","rowSelection","pagination","searchQueryIsDirty","canSave","save","serverErrors","setup","determineSearchParams","results_per_page","q","cluster_id","pager","current","pageSize","page","onChange","getCheckboxProps","headerTitle","handleBack","insightType","erpOrderId","setInsightType","insightsAppliedLocal","groupInsightsToShow","toggleInsightApplied","needsToSaveInsightsApplied","persistInsightsApplied","insightsToShow","_m","formatType","getMinSavings","getMaxSavings","selectedOrderId","erp_order_id","insightsGroupedByType","getSavingsForGroupAndSelectedOrder","class","showMoreDetails","toggleShowMoreDetails","fontSize","matchPercentage","isInsightSelected","getProperty","doesPropertyMatch","selectedOrganisationalUnit","volumePercentageDifference","pricePerUnitPercentageDifference","timeDifference","propertiesThatMatch","baseVolume","comparedToVolume","volumeOfComparedTo","volumeOfBase","percentageDifference","comparedToDatePurchased","comparedToMoment","baseOrderDatePurchased","baseOrderMoment","getBaseErpOrder","getComparedToErpOrder","getFirstBaseProduct","insightsAppliedSaved","insight_ids","success","erpOrderIdFilter","erpTypeFilter","clear","hasUnsavedChanges","showSelectedXOptionFilter","selectedXOptionLocal","option","showStartDateFilter","startDateLocal","showEndDateFilter","endDateLocal","showSelectedColourByOptionFilter","selectedColourByOptionLocal","showSelectedSizeByOptionFilter","selectedSizeByOptionLocal","showSelectedBinByOptionFilter","selectedBinByOptionLocal","binByOptions","selectedColourByOption","selectedSizeByOption","newVal","colourBy","selectColourByOption","sizeBy","selectSizeByOption","binBy","selectBinByOption","hasUnsaved","incrementClusterViewerReloadKey","ClusterFilters","InsightsSidebar","ClusterOrdersTable","ClusterGraphs","Sidebar","loadCluster","$route","exportData","csvExporter","$router","setTimeout","setCluster","setOrdersWithMatches","setInsights","loadOrdersWithMatches","loadInsights","__export"],"mappings":"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","file":"js/view-cluster.7008c3f6.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=01b229f0&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightRow.vue?vue&type=style&index=0&id=27a0ab92&scoped=true&lang=scss&\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CsvConfigConsts = (function () {\n    function CsvConfigConsts() {\n    }\n    CsvConfigConsts.EOL = \"\\r\\n\";\n    CsvConfigConsts.BOM = \"\\ufeff\";\n    CsvConfigConsts.DEFAULT_FIELD_SEPARATOR = ',';\n    CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR = '.';\n    CsvConfigConsts.DEFAULT_QUOTE = '\"';\n    CsvConfigConsts.DEFAULT_SHOW_TITLE = false;\n    CsvConfigConsts.DEFAULT_TITLE = 'My Generated Report';\n    CsvConfigConsts.DEFAULT_FILENAME = 'generated';\n    CsvConfigConsts.DEFAULT_SHOW_LABELS = false;\n    CsvConfigConsts.DEFAULT_USE_TEXT_FILE = false;\n    CsvConfigConsts.DEFAULT_USE_BOM = true;\n    CsvConfigConsts.DEFAULT_HEADER = [];\n    CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS = false;\n    return CsvConfigConsts;\n}());\nexports.CsvConfigConsts = CsvConfigConsts;\nexports.ConfigDefaults = {\n    filename: CsvConfigConsts.DEFAULT_FILENAME,\n    fieldSeparator: CsvConfigConsts.DEFAULT_FIELD_SEPARATOR,\n    quoteStrings: CsvConfigConsts.DEFAULT_QUOTE,\n    decimalSeparator: CsvConfigConsts.DEFAULT_DECIMAL_SEPARATOR,\n    showLabels: CsvConfigConsts.DEFAULT_SHOW_LABELS,\n    showTitle: CsvConfigConsts.DEFAULT_SHOW_TITLE,\n    title: CsvConfigConsts.DEFAULT_TITLE,\n    useTextFile: CsvConfigConsts.DEFAULT_USE_TEXT_FILE,\n    useBom: CsvConfigConsts.DEFAULT_USE_BOM,\n    headers: CsvConfigConsts.DEFAULT_HEADER,\n    useKeysAsHeaders: CsvConfigConsts.DEFAULT_KEYS_AS_HEADERS,\n};\nvar ExportToCsv = (function () {\n    function ExportToCsv(options) {\n        this._csv = \"\";\n        var config = options || {};\n        this._options = objectAssign({}, exports.ConfigDefaults, config);\n        if (this._options.useKeysAsHeaders\n            && this._options.headers\n            && this._options.headers.length > 0) {\n            console.warn('Option to use object keys as headers was set, but headers were still passed!');\n        }\n    }\n    Object.defineProperty(ExportToCsv.prototype, \"options\", {\n        get: function () {\n            return this._options;\n        },\n        set: function (options) {\n            this._options = objectAssign({}, exports.ConfigDefaults, options);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Generate and Download Csv\n     */\n    ExportToCsv.prototype.generateCsv = function (jsonData, shouldReturnCsv) {\n        if (shouldReturnCsv === void 0) { shouldReturnCsv = false; }\n        // Make sure to reset csv data on each run\n        this._csv = '';\n        this._parseData(jsonData);\n        if (this._options.useBom) {\n            this._csv += CsvConfigConsts.BOM;\n        }\n        if (this._options.showTitle) {\n            this._csv += this._options.title + '\\r\\n\\n';\n        }\n        this._getHeaders();\n        this._getBody();\n        if (this._csv == '') {\n            console.log(\"Invalid data\");\n            return;\n        }\n        // When the consumer asks for the data, exit the function\n        // by returning the CSV data built at this point\n        if (shouldReturnCsv) {\n            return this._csv;\n        }\n        // Create CSV blob to download if requesting in the browser and the\n        // consumer doesn't set the shouldReturnCsv param\n        var FileType = this._options.useTextFile ? 'plain' : 'csv';\n        var fileExtension = this._options.useTextFile ? '.txt' : '.csv';\n        var blob = new Blob([this._csv], { \"type\": \"text/\" + FileType + \";charset=utf8;\" });\n        if (navigator.msSaveBlob) {\n            var filename = this._options.filename.replace(/ /g, \"_\") + fileExtension;\n            navigator.msSaveBlob(blob, filename);\n        }\n        else {\n            var attachmentType = this._options.useTextFile ? 'text' : 'csv';\n            var uri = 'data:attachment/' + attachmentType + ';charset=utf-8,' + encodeURI(this._csv);\n            var link = document.createElement(\"a\");\n            link.href = URL.createObjectURL(blob);\n            link.setAttribute('visibility', 'hidden');\n            link.download = this._options.filename.replace(/ /g, \"_\") + fileExtension;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        }\n    };\n    /**\n     * Create Headers\n     */\n    ExportToCsv.prototype._getHeaders = function () {\n        if (!this._options.showLabels && !this._options.useKeysAsHeaders) {\n            return;\n        }\n        var useKeysAsHeaders = this._options.useKeysAsHeaders;\n        var headers = useKeysAsHeaders ? Object.keys(this._data[0]) : this._options.headers;\n        if (headers.length > 0) {\n            var row = \"\";\n            for (var keyPos = 0; keyPos < headers.length; keyPos++) {\n                row += headers[keyPos] + this._options.fieldSeparator;\n            }\n            row = row.slice(0, -1);\n            this._csv += row + CsvConfigConsts.EOL;\n        }\n    };\n    /**\n     * Create Body\n     */\n    ExportToCsv.prototype._getBody = function () {\n        var keys = Object.keys(this._data[0]);\n        for (var i = 0; i < this._data.length; i++) {\n            var row = \"\";\n            for (var keyPos = 0; keyPos < keys.length; keyPos++) {\n                var key = keys[keyPos];\n                row += this._formatData(this._data[i][key]) + this._options.fieldSeparator;\n            }\n            row = row.slice(0, -1);\n            this._csv += row + CsvConfigConsts.EOL;\n        }\n    };\n    /**\n     * Format Data\n     * @param {any} data\n     */\n    ExportToCsv.prototype._formatData = function (data) {\n        if (this._options.decimalSeparator === 'locale' && this._isFloat(data)) {\n            return data.toLocaleString();\n        }\n        if (this._options.decimalSeparator !== '.' && this._isFloat(data)) {\n            return data.toString().replace('.', this._options.decimalSeparator);\n        }\n        if (typeof data === 'string') {\n            data = data.replace(/\"/g, '\"\"');\n            if (this._options.quoteStrings || data.indexOf(',') > -1 || data.indexOf('\\n') > -1 || data.indexOf('\\r') > -1) {\n                data = this._options.quoteStrings + data + this._options.quoteStrings;\n            }\n            return data;\n        }\n        if (typeof data === 'boolean') {\n            return data ? 'TRUE' : 'FALSE';\n        }\n        return data;\n    };\n    /**\n     * Check if is Float\n     * @param {any} input\n     */\n    ExportToCsv.prototype._isFloat = function (input) {\n        return +input === input && (!isFinite(input) || Boolean(input % 1));\n    };\n    /**\n     * Parse the collection given to it\n     *\n     * @private\n     * @param {*} jsonData\n     * @returns {any[]}\n     * @memberof ExportToCsv\n     */\n    ExportToCsv.prototype._parseData = function (jsonData) {\n        this._data = typeof jsonData != 'object' ? JSON.parse(jsonData) : jsonData;\n        return this._data;\n    };\n    return ExportToCsv;\n}());\nexports.ExportToCsv = ExportToCsv;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n/**\n * Convet to Object\n * @param {any} val\n */\nfunction toObject(val) {\n    if (val === null || val === undefined) {\n        throw new TypeError('Object.assign cannot be called with null or undefined');\n    }\n    return Object(val);\n}\n/**\n * Assign data  to new Object\n * @param {any}   target\n * @param {any[]} ...source\n */\nfunction objectAssign(target) {\n    var source = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        source[_i - 1] = arguments[_i];\n    }\n    var from;\n    var to = toObject(target);\n    var symbols;\n    for (var s = 1; s < arguments.length; s++) {\n        from = Object(arguments[s]);\n        for (var key in from) {\n            if (hasOwnProperty.call(from, key)) {\n                to[key] = from[key];\n            }\n        }\n        if (Object.getOwnPropertySymbols) {\n            symbols = Object.getOwnPropertySymbols(from);\n            for (var i = 0; i < symbols.length; i++) {\n                if (propIsEnumerable.call(from, symbols[i])) {\n                    to[symbols[i]] = from[symbols[i]];\n                }\n            }\n        }\n    }\n    return to;\n}\n//# sourceMappingURL=export-to-csv.js.map","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllProductDetailsTable.vue?vue&type=style&index=0&id=5c83f338&scoped=true&lang=scss&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterGraphs.vue?vue&type=style&index=0&lang=scss&\"","const _ = require('lodash');\n\nexport default {\n    data() {\n        return {\n            unitOptions: [\n                {\n                    type: 'length',\n                    unit: 'meter',\n                    display: 'm'\n                },\n                {\n                    type: 'area',\n                    unit: 'meter ** 2',\n                    display: 'm²'\n                },\n                {\n                    type: 'volume',\n                    unit: 'meter ** 3',\n                    display: 'm³'\n                },\n                {\n                    type: 'time',\n                    unit: 'second',\n                    display: 's'\n                },\n                {\n                    type: 'angle',\n                    unit: 'rad',\n                    display: 'radians'\n                },\n                {\n                    type: 'mass',\n                    unit: 'kilogram',\n                    display: 'kg'\n                },\n                {\n                    type: 'temperature',\n                    unit: 'kelvin',\n                    display: 'K'\n                },\n                {\n                    type: 'frequency',\n                    unit: '1 / second',\n                    display: `s<sup>-1</sup>`\n                },\n                {\n                    type: 'velocity',\n                    unit: 'meter / second',\n                    display: 'm/s'\n                },\n                {\n                    type: 'acceleration',\n                    unit: 'meter / second ** 2',\n                    display: 'm/s²'\n                },\n                {\n                    type: 'force',\n                    unit: 'kilogram * meter / second ** 2',\n                    display: 'N'\n                },\n                {\n                    type: 'energy',\n                    unit: 'kilogram * meter ** 2 / second ** 2',\n                    display: 'J'\n                },\n                {\n                    type: 'power',\n                    unit: 'kilogram * meter ** 2 / second ** 3',\n                    display: 'W'\n                },\n                {\n                    type: 'momentum',\n                    unit: 'meter * kilogram / second',\n                    display: `kg m s<sup>-1</sup>`\n                },\n                {\n                    type: 'density',\n                    unit: 'kilogram / meter ** 3',\n                    display: 'kg/m³'\n                },\n                {\n                    type: 'pressure',\n                    unit: 'kilogram / meter ** 2',\n                    display: 'Pa'\n                },\n                {\n                    type: 'electric potential',\n                    unit: 'kilogram * meter ** 2 / ampere / second ** 3',\n                    display: 'V'\n                },\n                {\n                    type: 'current',\n                    unit: 'ampere',\n                    display: 'A'\n                },\n                {\n                    type: 'count',\n                    unit: 'dimensionless',\n                    display: ''\n                },\n                {\n                    type: 'count',\n                    unit: 'count',\n                    display: ''\n                },\n                {\n                    type: 'count',\n                    unit: 'percentage',\n                    display: '%'\n                },\n                {\n                    type: 'sound intensity',\n                    unit: 'decibel',\n                    display: 'dB'\n                }\n            ]\n        }\n    },\n\n    methods: {\n        formatUnit(unit) {\n            let u = _.find(this.unitOptions, {unit: unit});\n            if (u) {\n                return u.display;\n            }\n            return unit;\n        }\n    }\n}","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterStatsSidebar.vue?vue&type=style&index=0&id=2e659fe2&scoped=true&lang=css&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterDemandGraph.vue?vue&type=style&index=0&id=e99a0fdc&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterOrdersTable.vue?vue&type=style&index=0&id=1dc89480&scoped=true&lang=scss&\"","var $ = require('../internals/export');\nvar parseFloat = require('../internals/number-parse-float');\n\n// `Number.parseFloat` method\n// https://tc39.es/ecma262/#sec-number.parseFloat\n$({ target: 'Number', stat: true, forced: Number.parseFloat != parseFloat }, {\n  parseFloat: parseFloat\n});\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"moment\")):\"function\"==typeof define&&define.amd?define(\"moment-range\",[\"moment\"],e):\"object\"==typeof exports?exports[\"moment-range\"]=e(require(\"moment\")):t[\"moment-range\"]=e(t.moment)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=3)}([function(t,e,n){\"use strict\";var r=n(5)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){\"use strict\";t.exports=n(18)()?Symbol:n(20)},function(e,n){e.exports=t},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function u(t){return t.range=function(e,n){var r=this;return\"string\"==typeof e&&y.hasOwnProperty(e)?new h(t(r).startOf(e),t(r).endOf(e)):new h(e,n)},t.rangeFromInterval=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t();if(t.isMoment(r)||(r=t(r)),!r.isValid())throw new Error(\"Invalid date.\");var o=r.clone().add(n,e),i=[];return i.push(t.min(r,o)),i.push(t.max(r,o)),new h(i)},t.rangeFromISOString=function(e){var n=a(e),r=t.parseZone(n[0]),o=t.parseZone(n[1]);return new h(r,o)},t.parseZoneRange=t.rangeFromISOString,t.fn.range=t.range,t.range.constructor=h,t.isRange=function(t){return t instanceof h},t.fn.within=function(t){return t.contains(this.toDate())},t}function a(t){return t.split(\"/\")}Object.defineProperty(e,\"__esModule\",{value:!0}),e.DateRange=void 0;var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.extendMoment=u;var l=n(2),v=r(l),d=n(1),p=r(d),y={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},h=e.DateRange=function(){function t(e,n){i(this,t);var r=e,o=n;if(1===arguments.length||void 0===n)if(\"object\"===(void 0===e?\"undefined\":c(e))&&2===e.length){var u=s(e,2);r=u[0],o=u[1]}else if(\"string\"==typeof e){var f=a(e),l=s(f,2);r=l[0],o=l[1]}this.start=r||0===r?(0,v.default)(r):(0,v.default)(-864e13),this.end=o||0===o?(0,v.default)(o):(0,v.default)(864e13)}return f(t,[{key:\"adjacent\",value:function(t){var e=this.start.isSame(t.end),n=this.end.isSame(t.start);return e&&t.start.valueOf()<=this.start.valueOf()||n&&t.end.valueOf()>=this.end.valueOf()}},{key:\"add\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1};return this.overlaps(t,e)?new this.constructor(v.default.min(this.start,t.start),v.default.max(this.end,t.end)):null}},{key:\"by\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeEnd:!1,step:1},n=this;return o({},p.default.iterator,function(){var r=e.step||1,o=Math.abs(n.start.diff(n.end,t))/r,i=e.excludeEnd||!1,u=0;return e.hasOwnProperty(\"exclusive\")&&(i=e.exclusive),{next:function(){var e=n.start.clone().add(u*r,t),a=i?!(u<o):!(u<=o);return u++,{done:a,value:a?void 0:e}}}})}},{key:\"byRange\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeEnd:!1,step:1},n=this,r=e.step||1,i=this.valueOf()/t.valueOf()/r,u=Math.floor(i),a=e.excludeEnd||!1,s=0;return e.hasOwnProperty(\"exclusive\")&&(a=e.exclusive),o({},p.default.iterator,function(){return u===1/0?{done:!0}:{next:function(){var e=(0,v.default)(n.start.valueOf()+t.valueOf()*s*r),o=u===i&&a?!(s<u):!(s<=u);return s++,{done:o,value:o?void 0:e}}}})}},{key:\"center\",value:function(){var t=this.start.valueOf()+this.diff()/2;return(0,v.default)(t)}},{key:\"clone\",value:function(){return new this.constructor(this.start.clone(),this.end.clone())}},{key:\"contains\",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeStart:!1,excludeEnd:!1},r=this.start.valueOf(),o=this.end.valueOf(),i=e.valueOf(),u=e.valueOf(),a=n.excludeStart||!1,s=n.excludeEnd||!1;n.hasOwnProperty(\"exclusive\")&&(a=s=n.exclusive),e instanceof t&&(i=e.start.valueOf(),u=e.end.valueOf());var c=r<i||r<=i&&!a,f=o>u||o>=u&&!s;return c&&f}},{key:\"diff\",value:function(t,e){return this.end.diff(this.start,t,e)}},{key:\"duration\",value:function(t,e){return this.diff(t,e)}},{key:\"intersect\",value:function(t){var e=this.start.valueOf(),n=this.end.valueOf(),r=t.start.valueOf(),o=t.end.valueOf(),i=e==n,u=r==o;if(i){var a=e;if(a==r||a==o)return null;if(a>r&&a<o)return this.clone()}else if(u){var s=r;if(s==e||s==n)return null;if(s>e&&s<n)return new this.constructor(s,s)}return e<=r&&r<n&&n<o?new this.constructor(r,n):r<e&&e<o&&o<=n?new this.constructor(e,o):r<e&&e<=n&&n<o?this.clone():e<=r&&r<=o&&o<=n?new this.constructor(r,o):null}},{key:\"isEqual\",value:function(t){return this.start.isSame(t.start)&&this.end.isSame(t.end)}},{key:\"isSame\",value:function(t){return this.isEqual(t)}},{key:\"overlaps\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1},n=null!==this.intersect(t);return e.adjacent&&!n?this.adjacent(t):n}},{key:\"reverseBy\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeStart:!1,step:1},n=this;return o({},p.default.iterator,function(){var r=e.step||1,o=Math.abs(n.start.diff(n.end,t))/r,i=e.excludeStart||!1,u=0;return e.hasOwnProperty(\"exclusive\")&&(i=e.exclusive),{next:function(){var e=n.end.clone().subtract(u*r,t),a=i?!(u<o):!(u<=o);return u++,{done:a,value:a?void 0:e}}}})}},{key:\"reverseByRange\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeStart:!1,step:1},n=this,r=e.step||1,i=this.valueOf()/t.valueOf()/r,u=Math.floor(i),a=e.excludeStart||!1,s=0;return e.hasOwnProperty(\"exclusive\")&&(a=e.exclusive),o({},p.default.iterator,function(){return u===1/0?{done:!0}:{next:function(){var e=(0,v.default)(n.end.valueOf()-t.valueOf()*s*r),o=u===i&&a?!(s<u):!(s<=u);return s++,{done:o,value:o?void 0:e}}}})}},{key:\"snapTo\",value:function(t){var e=this.clone();return e.start.isSame((0,v.default)(-864e13))||(e.start=e.start.startOf(t)),e.end.isSame((0,v.default)(864e13))||(e.end=e.end.endOf(t)),e}},{key:\"subtract\",value:function(t){var e=this.start.valueOf(),n=this.end.valueOf(),r=t.start.valueOf(),o=t.end.valueOf();return null===this.intersect(t)?[this]:r<=e&&e<n&&n<=o?[]:r<=e&&e<o&&o<n?[new this.constructor(o,n)]:e<r&&r<n&&n<=o?[new this.constructor(e,r)]:e<r&&r<o&&o<n?[new this.constructor(e,r),new this.constructor(o,n)]:e<r&&r<n&&o<n?[new this.constructor(e,r),new this.constructor(r,n)]:[]}},{key:\"toDate\",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:\"toString\",value:function(){return this.start.format()+\"/\"+this.end.format()}},{key:\"valueOf\",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),t}()},function(t,e,n){\"use strict\";var r,o=n(6),i=n(13),u=n(9),a=n(15);r=t.exports=function(t,e){var n,r,u,s,c;return arguments.length<2||\"string\"!=typeof t?(s=e,e=t,t=null):s=arguments[2],null==t?(n=u=!0,r=!1):(n=a.call(t,\"c\"),r=a.call(t,\"e\"),u=a.call(t,\"w\")),c={value:e,configurable:n,enumerable:r,writable:u},s?o(i(s),c):c},r.gs=function(t,e,n){var r,s,c,f;return\"string\"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:u(e)?null==n?n=void 0:u(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(r=!0,s=!1):(r=a.call(t,\"c\"),s=a.call(t,\"e\")),f={get:e,set:n,configurable:r,enumerable:s},c?o(i(c),f):f}},function(t,e,n){\"use strict\";t.exports=function(){}},function(t,e,n){\"use strict\";t.exports=n(7)()?Object.assign:n(8)},function(t,e,n){\"use strict\";t.exports=function(){var t,e=Object.assign;return\"function\"==typeof e&&(t={foo:\"raz\"},e(t,{bar:\"dwa\"},{trzy:\"trzy\"}),t.foo+t.bar+t.trzy===\"razdwatrzy\")}},function(t,e,n){\"use strict\";var r=n(10),o=n(14),i=Math.max;t.exports=function(t,e){var n,u,a,s=i(arguments.length,2);for(t=Object(o(t)),a=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},u=1;u<s;++u)e=arguments[u],r(e).forEach(a);if(void 0!==n)throw n;return t}},function(t,e,n){\"use strict\";t.exports=function(t){return\"function\"==typeof t}},function(t,e,n){\"use strict\";t.exports=n(11)()?Object.keys:n(12)},function(t,e,n){\"use strict\";t.exports=function(){try{return Object.keys(\"primitive\"),!0}catch(t){return!1}}},function(t,e,n){\"use strict\";var r=n(0),o=Object.keys;t.exports=function(t){return o(r(t)?Object(t):t)}},function(t,e,n){\"use strict\";var r=n(0),o=Array.prototype.forEach,i=Object.create,u=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=i(null);return o.call(arguments,function(t){r(t)&&u(Object(t),e)}),e}},function(t,e,n){\"use strict\";var r=n(0);t.exports=function(t){if(!r(t))throw new TypeError(\"Cannot use null or undefined\");return t}},function(t,e,n){\"use strict\";t.exports=n(16)()?String.prototype.contains:n(17)},function(t,e,n){\"use strict\";var r=\"razdwatrzy\";t.exports=function(){return\"function\"==typeof r.contains&&(!0===r.contains(\"dwa\")&&!1===r.contains(\"foo\"))}},function(t,e,n){\"use strict\";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){\"use strict\";var r={object:!0,symbol:!0};t.exports=function(){var t;if(\"function\"!=typeof Symbol)return!1;t=Symbol(\"test symbol\");try{String(t)}catch(t){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(t,e,n){\"use strict\";t.exports=function(t){return!!t&&(\"symbol\"==typeof t||!!t.constructor&&(\"Symbol\"===t.constructor.name&&\"Symbol\"===t[t.constructor.toStringTag]))}},function(t,e,n){\"use strict\";var r,o,i,u,a=n(4),s=n(21),c=Object.create,f=Object.defineProperties,l=Object.defineProperty,v=Object.prototype,d=c(null);if(\"function\"==typeof Symbol){r=Symbol;try{String(r()),u=!0}catch(t){}}var p=function(){var t=c(null);return function(e){for(var n,r,o=0;t[e+(o||\"\")];)++o;return e+=o||\"\",t[e]=!0,n=\"@@\"+e,l(v,n,a.gs(null,function(t){r||(r=!0,l(this,n,a(t)),r=!1)})),n}}();i=function(t){if(this instanceof i)throw new TypeError(\"Symbol is not a constructor\");return o(t)},t.exports=o=function t(e){var n;if(this instanceof t)throw new TypeError(\"Symbol is not a constructor\");return u?r(e):(n=c(i.prototype),e=void 0===e?\"\":String(e),f(n,{__description__:a(\"\",e),__name__:a(\"\",p(e))}))},f(o,{for:a(function(t){return d[t]?d[t]:d[t]=o(String(t))}),keyFor:a(function(t){var e;s(t);for(e in d)if(d[e]===t)return e}),hasInstance:a(\"\",r&&r.hasInstance||o(\"hasInstance\")),isConcatSpreadable:a(\"\",r&&r.isConcatSpreadable||o(\"isConcatSpreadable\")),iterator:a(\"\",r&&r.iterator||o(\"iterator\")),match:a(\"\",r&&r.match||o(\"match\")),replace:a(\"\",r&&r.replace||o(\"replace\")),search:a(\"\",r&&r.search||o(\"search\")),species:a(\"\",r&&r.species||o(\"species\")),split:a(\"\",r&&r.split||o(\"split\")),toPrimitive:a(\"\",r&&r.toPrimitive||o(\"toPrimitive\")),toStringTag:a(\"\",r&&r.toStringTag||o(\"toStringTag\")),unscopables:a(\"\",r&&r.unscopables||o(\"unscopables\"))}),f(i.prototype,{constructor:a(o),toString:a(\"\",function(){return this.__name__})}),f(o.prototype,{toString:a(function(){return\"Symbol (\"+s(this).__description__+\")\"}),valueOf:a(function(){return s(this)})}),l(o.prototype,o.toPrimitive,a(\"\",function(){var t=s(this);return\"symbol\"==typeof t?t:t.toString()})),l(o.prototype,o.toStringTag,a(\"c\",\"Symbol\")),l(i.prototype,o.toStringTag,a(\"c\",o.prototype[o.toStringTag])),l(i.prototype,o.toPrimitive,a(\"c\",o.prototype[o.toPrimitive]))},function(t,e,n){\"use strict\";var r=n(19);t.exports=function(t){if(!r(t))throw new TypeError(t+\" is not a symbol\");return t}}])});\n//# sourceMappingURL=moment-range.js.map","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterOrdersGraph.vue?vue&type=style&index=0&id=984492b8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cluster-show\"},[_c('loading-screen',{attrs:{\"is-loading\":_vm.isLoading || _vm.isLoadingInsights || _vm.isLoadingOrdersWithMatches || _vm.isDeleting}}),_c('a-layout',[_c('a-layout',{staticStyle:{\"padding\":\"7px 30px\"}},[_c('div',{staticClass:\"wrapper\"},[(_vm.cluster)?_c('a-page-header',{attrs:{\"title\":_vm.cluster.name},on:{\"back\":_vm.backToAllClusters}},[_c('template',{slot:\"extra\"},[_c('a-button',{attrs:{\"icon\":\"download\"},on:{\"click\":function($event){$event.preventDefault();return _vm.exportCsv($event)}}}),_c('cluster-filters'),_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"plus\"},on:{\"click\":function($event){$event.preventDefault();return (function () { return _vm.toggleSidebar(); })($event)}}},[_vm._v(\"Add Order \")])],1)],2):_vm._e(),(_vm.cluster && !_vm.isLoadingOrdersWithMatches)?_c('div',[_c('div',{staticClass:\"cluster-graphs-wrapper\"},[_c('cluster-graphs',{key:_vm.reloadKey,attrs:{\"graph-reload-key\":_vm.graphReloadKey,\"cluster-id\":_vm.cluster['_id']}})],1),(_vm.activeGraph !== 'product-details')?_c('a-tabs',[_c('a-tab-pane',{attrs:{\"tab\":\"All Orders\"}},[_c('cluster-orders-table',{key:_vm.reloadKey,attrs:{\"cluster-id\":_vm.cluster['_id']},on:{\"record-selected\":function (record) { return _vm.viewInsightsFor(record); },\"remove-order\":_vm.removeOrder}})],1)],1):_vm._e()],1):_vm._e()],1)]),_c('a-layout-sider',{style:({ background: '#f7fafc', borderLeft: '1px solid #e3e8ee' }),attrs:{\"width\":_vm.sidebarType === 'add-order' ? 500 : 500,\"theme\":\"dark\",\"collapsed-width\":0,\"trigger\":null,\"collapsible\":\"\"},model:{value:(_vm.shouldHideSidebar),callback:function ($$v) {_vm.shouldHideSidebar=$$v},expression:\"shouldHideSidebar\"}},[(_vm.shouldShowSidebar && _vm.sidebarType === 'add-order')?_c('sidebar',{attrs:{\"cluster-id\":_vm.cluster['_id']},on:{\"close\":function () { return _vm.toggleSidebar(); },\"reload\":_vm.incrementReloadKey}}):_vm._e(),(_vm.shouldShowSidebar && _vm.sidebarType === 'insights')?_c('insights-sidebar',{attrs:{\"cluster-id\":_vm.cluster['_id'],\"insights-applied\":_vm.insightsApplied,\"erp-order-id\":_vm.selectedErpOrderId,\"insights\":_vm.insights},on:{\"close\":function () { return _vm.toggleSidebar('insights'); },\"reload\":_vm.incrementReloadKey,\"insights-saved\":_vm.incrementReloadKey}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-table',{staticClass:\"axpi-table\",attrs:{\"scroll\":{ x: 1300 },\"columns\":_vm.columns,\"row-key\":function (record) { return record.id; },\"data-source\":_vm.dataToShow,\"loading\":_vm.loading},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"name\",fn:function(name, record){return _c('div',{},[_c('div',{staticClass:\"product-name-wrapper\"},[_c('div',{staticClass:\"left\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.getFirstProduct(record) ? _vm.getFirstProduct(record)['URL'] : '#'}},[_c('a-avatar',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"size\":\"large\",\"src\":_vm.getImageSrc(_vm.getFirstProduct(record))}})],1)]),_c('div',{staticClass:\"right\"},[(_vm.getFirstProduct(record))?_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.getProductLink(_vm.getFirstProduct(record))}},[_vm._v(\" \"+_vm._s(name)+\" \")]):_c('span',[_vm._v(_vm._s(record['PO Li Description']))])])])])}},{key:\"datePurchased\",fn:function(datePurchased){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.formatDatePurchased(datePurchased))+\" \")])}},{key:\"quantity\",fn:function(quantity, order){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.getQuantity(order))+\" \")])}},{key:\"cost\",fn:function(cost){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.formatCost({cost: cost, cost_currency: 'USD'}))+\" \")])}},{key:\"potentialSavings\",fn:function(potentialSavings, record){return _c('div',{},[(_vm.calculateMaxPotentialSavings(record))?_c('span',[(_vm.calculateMinPotentialSavings(record) !== _vm.calculateMaxPotentialSavings(record) && Math.round(_vm.calculateMinPotentialSavings(record)) !== 0)?_c('span',[_vm._v(\" \"+_vm._s(_vm.formatCost({cost: _vm.calculateMinPotentialSavings(record), cost_currency: 'USD'}))+\" - \")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.formatCost({cost: _vm.calculateMaxPotentialSavings(record), cost_currency: 'USD'}))+\" \")]):_c('span')])}},{key:\"normalisedMeasure\",fn:function(normalisedMeasure, record){return _c('div',{},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.getNormalisedMeasure(record))}})])}},{key:\"productUnitOfMeasure\",fn:function(productUnitOfMeasure, record){return _c('div',{},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.getFirstProductUnitOfMeasure(record))}})])}},{key:\"insights\",fn:function(insights, record){return _c('div',{staticClass:\"insights-column\"},[_c('a',{staticStyle:{\"margin-right\":\"15px\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleRecordSelected(record)}}},[_c('a-icon',{staticStyle:{\"margin-right\":\"4px\"},attrs:{\"type\":\"eye\"}}),_vm._v(\" View \")],1),_c('a-dropdown',{attrs:{\"trigger\":['click']}},[_c('a-button',{attrs:{\"type\":\"link\",\"icon\":\"ellipsis\"},on:{\"click\":function($event){$event.preventDefault();return (function (e) { return e.preventDefault(); })($event)}}}),_c('a-menu',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},[_c('a-menu-item',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.editMatch(record)}}},[_vm._v(\"Edit Match\")])]),_c('a-menu-item',[_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteRecord(record)}}},[_vm._v(\"Remove\")])])],1)],1)],1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-table\n      class=\"axpi-table\"\n      :scroll=\"{ x: 1300 }\"\n      :columns=\"columns\"\n      :row-key=\"(record) => record.id\"\n      @change=\"handleTableChange\"\n      :data-source=\"dataToShow\"\n      :loading=\"loading\"\n  >\n    <div slot=\"name\" slot-scope=\"name, record\">\n      <div class=\"product-name-wrapper\">\n        <div class=\"left\">\n          <a target=\"_blank\"\n             :href=\"getFirstProduct(record) ? getFirstProduct(record)['URL'] : '#'\">\n            <a-avatar style=\"margin-right: 20px;\"\n                      size=\"large\" :src=\"getImageSrc(getFirstProduct(record))\"/>\n          </a>\n        </div>\n        <div class=\"right\">\n          <a v-if=\"getFirstProduct(record)\" target=\"_blank\" :href=\"getProductLink(getFirstProduct(record))\">\n            {{ name }}\n          </a>\n          <span v-else>{{ record['PO Li Description'] }}</span>\n        </div>\n      </div>\n    </div>\n    <div slot=\"datePurchased\" slot-scope=\"datePurchased\">\n      {{ formatDatePurchased(datePurchased) }}\n    </div>\n    <div slot=\"quantity\" slot-scope=\"quantity, order\">\n      {{ getQuantity(order) }}\n    </div>\n    <div slot=\"cost\" slot-scope=\"cost\">\n      {{ formatCost({cost: cost, cost_currency: 'USD'}) }}\n    </div>\n    <div slot=\"potentialSavings\" slot-scope=\"potentialSavings, record\">\n      <span v-if=\"calculateMaxPotentialSavings(record)\">\n        <span\n            v-if=\"calculateMinPotentialSavings(record) !== calculateMaxPotentialSavings(record) && Math.round(calculateMinPotentialSavings(record)) !== 0\">\n          {{ formatCost({cost: calculateMinPotentialSavings(record), cost_currency: 'USD'}) }} -\n        </span>\n        {{ formatCost({cost: calculateMaxPotentialSavings(record), cost_currency: 'USD'}) }}\n      </span>\n      <span v-else></span>\n    </div>\n    <div slot=\"normalisedMeasure\" slot-scope=\"normalisedMeasure, record\">\n      <span v-html=\"getNormalisedMeasure(record)\"></span>\n    </div>\n    <div slot=\"productUnitOfMeasure\" slot-scope=\"productUnitOfMeasure, record\">\n      <span v-html=\"getFirstProductUnitOfMeasure(record)\"></span>\n    </div>\n    <div class=\"insights-column\" slot=\"insights\" slot-scope=\"insights, record\">\n      <a style=\"margin-right: 15px;\" href=\"#\" @click.prevent=\"handleRecordSelected(record)\">\n        <a-icon type=\"eye\" style=\"margin-right: 4px;\"/>\n        View\n      </a>\n\n      <a-dropdown :trigger=\"['click']\">\n        <a-button\n            type=\"link\"\n            icon=\"ellipsis\"\n            @click.prevent=\"(e) => e.preventDefault()\"\n        ></a-button>\n        <a-menu slot=\"overlay\">\n          <a-menu-item>\n            <a\n                href=\"#\"\n                @click.prevent=\"editMatch(record)\"\n            >Edit Match</a\n            >\n          </a-menu-item>\n          <a-menu-item>\n            <a\n                href=\"#\"\n                class=\"text-danger\"\n                @click.prevent=\"deleteRecord(record)\"\n            >Remove</a\n            >\n          </a-menu-item>\n        </a-menu>\n      </a-dropdown>\n    </div>\n    <!--    <div slot=\"actions\" class=\"table-actions\" slot-scope=\"actions, record\">-->\n\n    <!--    </div>-->\n  </a-table>\n</template>\n<script>\nimport Orders from \"../../../../mixins/Orders\";\nimport Units from \"../../../../mixins/Units\";\nimport {mapGetters, mapActions} from \"vuex\";\nimport Moment from 'moment';\nimport {extendMoment} from 'moment-range';\n\nconst moment = extendMoment(Moment);\n\nconst _ = require('lodash');\n\nexport default {\n  props: [\"clusterId\"],\n  mixins: [Orders, Units],\n  data() {\n    return {\n      data: [],\n      loading: false\n    };\n  },\n  methods: {\n    ...mapActions('clusterViewer', {\n      setSortField: 'setSortField',\n      setSortOrder: 'setSortOrder',\n      setFilters: 'setFilters'\n    }),\n\n    editMatch(order) {\n      window.open('/matcher?erpOrderId=' + order['_id']);\n    },\n\n    deleteRecord(order) {\n      this.$emit(\"remove-order\", order);\n    },\n\n    handleRecordSelected(record) {\n      this.$emit('record-selected', record);\n    },\n\n    getFirstProduct(record) {\n      return record[\"products\"][0];\n    },\n\n    getImageSrc(product) {\n      if (product[\"imageURLs\"] && product[\"imageURLs\"].length) {\n        return product[\"imageURLs\"][0];\n      }\n    },\n\n    getQuantity(order) {\n      // if (order[\"products\"] && order[\"products\"].length) {\n      //   if (order[\"products\"][0] && order[\"products\"][0][\"normalisedQuantity\"] && order[\"products\"][0][\"normalisedQuantity\"]['totalQuantity'] && order[\"products\"][0][\"normalisedQuantity\"][\"totalQuantity\"][\"normalisedUnitMagnitude\"]) {\n      //     order['product_quantity'] = order['products'][0]['normalisedQuantity']['totalQuantity']['normalisedUnitMagnitude'];\n      //   }\n      // }\n      //\n      // let orderQuantity = order[\"Quantity\"] !== \"None\" ? Number(order[\"Quantity\"]) : 1;\n      // let totalQuantity = orderQuantity;\n      // if (order['product_quantity']) {\n      //   totalQuantity = Number(orderQuantity) * Number(order['product_quantity']);\n      // }\n      //\n      // return totalQuantity;\n\n      return order['total_quantity'] ? order['total_quantity'] : Number(order['Quantity']);\n    },\n\n    calculateMinPotentialSavings(order) {\n      let insights = _.filter(this.insights, insight => {\n        return insight['erp_order_id'] == order['_id'];\n      });\n\n      let potentialSavings = 0;\n      let groupedByType = _.groupBy(insights, 'insight_type');\n      _.each(groupedByType, insightsForType => {\n        let max = _.min(\n            _.map(insightsForType, 'potential_savings')\n        );\n        potentialSavings += max;\n      });\n\n      return potentialSavings;\n    },\n\n    calculateMaxPotentialSavings(order) {\n      let insights = _.filter(this.insights, insight => {\n        return insight['erp_order_id'] == order['_id'];\n      });\n\n      let potentialSavings = 0;\n      let groupedByType = _.groupBy(insights, 'insight_type');\n      _.each(groupedByType, insightsForType => {\n        let max = _.max(\n            _.map(insightsForType, 'potential_savings')\n        );\n        potentialSavings += max;\n      });\n\n      return potentialSavings;\n    },\n\n    formatDatePurchased(datePurchased) {\n      if (datePurchased['$date'] && datePurchased['$date']['$numberLong']) {\n        let timestamp = datePurchased['$date']['$numberLong'] / 1000;\n        return moment.unix(timestamp).format('DD/MM/YYYY');\n      }\n      return '-';\n    },\n\n    getNormalisedMeasureMagnitude(order) {\n      let orderQuantity = order[\"Quantity\"] !== \"None\" ? Number(order[\"Quantity\"]) : 1;\n      let product = this.getFirstProduct(order);\n      let toReturn = null;\n      if (product && product['normalisedMeasure']) {\n        let magnitude = product['normalisedMeasure']['normalisedUnitMagnitude'];\n        if (magnitude) {\n          toReturn = magnitude * orderQuantity;\n        }\n      }\n      return toReturn;\n    },\n\n    getFirstProductUnitOfMeasure(order) {\n      let product = this.getFirstProduct(order);\n      if (product && product['normalisedQuantity']) {\n        return product['normalisedQuantity']['unit'];\n      }\n      return null;\n    },\n\n    getNormalisedMeasure(order) {\n      let orderQuantity = order[\"Quantity\"] !== \"None\" ? Number(order[\"Quantity\"]) : 1;\n      let product = this.getFirstProduct(order);\n\n      let toReturn = null;\n      if (product && product['normalisedMeasure'] && product['normalisedMeasure']) {\n        let magnitude = product['normalisedMeasure']['normalisedUnitMagnitude'] * orderQuantity;\n        // let magnitude = product['normalisedQuantity']['totalMeasure']['rawMagnitude'];\n        let unit = product['normalisedMeasure']['normalisedUnitBase'];\n\n        if (magnitude && unit) {\n          if (magnitude < 1) {\n            // magnitude = Number.parseFloat(magnitude).toExponential(3);\n            let exp = Number.parseFloat(magnitude).toExponential(3);\n            let split = exp.split('e');\n            magnitude = split[0] + ' x 10' + '<sup>' + split[1] + '</sup>'\n          }\n          // toReturn = String(magnitude) + ' ' + (unit !== 'dimensionless' ? unit : null);\n          toReturn = String(magnitude) + ' ' + this.formatUnit(unit);\n        }\n      }\n      if (toReturn) {\n        return toReturn;\n      }\n      return '';\n    },\n\n    getProductLink(product) {\n      return '/products/' + product['_id'];\n    },\n\n    // handleTableChange(pagination, filters, sorter) {\n    //   console.log(pagination);\n    //   const pager = {...this.pagination};\n    //   pager.current = pagination.current;\n    //   this.pagination = pager;\n    //   this.fetch({\n    //     results: pagination.pageSize,\n    //     page: pagination.current,\n    //     sortField: sorter.field,\n    //     sortOrder: sorter.order,\n    //     ...filters,\n    //   });\n    // }\n\n    handleTableChange(pagination, filters, sorter) {\n      // this.sortField = sorter.field;\n      // this.sortOrder = sorter.order;\n      // this.filters = filters;\n      this.setSortField(sorter.field);\n      this.setSortOrder(sorter.order);\n      this.setFilters(filters);\n    }\n  },\n  computed: {\n    ...mapGetters('clusterViewer', {\n      selectedOrders: 'selectedOrders',\n      ordersWithMatches: 'ordersWithMatches',\n      ordersWithMatchesFiltered: 'ordersWithMatchesFiltered',\n      insights: 'insights',\n      sortField: 'sortField',\n      sortOrder: 'sortOrder',\n      filters: 'filters',\n      startDate: 'startDate',\n      endDate: 'endDate'\n    }),\n\n    columns() {\n      return [\n        {\n          title: \"Name\",\n          // sorter: true,\n          dataIndex: 'product_name',\n          scopedSlots: {customRender: 'name'},\n          fixed: 'left',\n          width: 350,\n          sorter: true,\n          filters: _.map(this.productNameOptions, o => {\n            return {\n              text: o,\n              value: o\n            }\n          })\n        },\n        {\n          title: \"Date Purchased\",\n          dataIndex: \"PO Initial Create Date\",\n          scopedSlots: {customRender: 'datePurchased'},\n          sorter: true,\n          width: 160\n        },\n        {\n          title: \"Quantity\",\n          dataIndex: \"total_quantity\",\n          // scopedSlots: {customRender: 'quantity'},\n          sorter: true,\n          width: 110\n        },\n        {\n          title: \"Cost\",\n          // dataIndex: \"Cost\",\n          dataIndex: \"CHF_FLOAT\",\n          scopedSlots: {customRender: 'cost'},\n          sorter: true,\n          width: 110\n        },\n        {\n          title: \"Potential Savings\",\n          dataIndex: \"Potential Savings\",\n          scopedSlots: {customRender: 'potentialSavings'},\n          sorter: true,\n          width: 150\n        },\n        {\n          title: \"Measure\",\n          dataIndex: 'Measure',\n          scopedSlots: {customRender: 'normalisedMeasure'},\n          sorter: true,\n          width: 170\n        },\n        {\n          title: \"PO Number\",\n          dataIndex: \"PO Number\",\n          width: 130,\n          sorter: true\n        },\n        {\n          title: \"PO Name\",\n          dataIndex: \"PO Li Description\",\n          sorter: true,\n          width: 300\n        },\n        {\n          title: \"Product Code\",\n          dataIndex: 'product_code',\n          // scopedSlots: {customRender: 'productCode'},\n          sorter: true,\n          width: 150\n        },\n        // {\n        //   title: \"PO Number\",\n        //   dataIndex: \"PO Number\",\n        //   sorter: true,\n        // },\n        {\n          title: \"Vendor\",\n          dataIndex: \"Vendor\",\n          width: 200,\n          filters: _.map(this.vendorFilterOptions, o => {\n            return {\n              text: o,\n              value: o\n            }\n          })\n        },\n        {\n          title: \"BU of Measure\",\n          dataIndex: \"BU of Measure\",\n          width: 150\n        },\n        {\n          title: \"Product Unit of Measure\",\n          dataIndex: \"Product Unit of Measure\",\n          scopedSlots: {customRender: 'productUnitOfMeasure'},\n          width: 200\n        },\n        {\n          title: \"Insights\",\n          scopedSlots: {customRender: 'insights'},\n          fixed: 'right',\n          width: 140\n        }\n        // {\n        //   title: \"\",\n        //   scopedSlots: {customRender: \"actions\"},\n        //   width: 10,\n        //   fixed: 'right'\n        // },\n      ];\n    },\n\n    vendorFilterOptions() {\n      return _.uniq(_.map(this.ordersWithMatches, 'Vendor'));\n    },\n\n    productNameOptions() {\n      return _.uniq(_.map(this.ordersWithMatches, 'product_name'));\n    },\n\n    dataToShow() {\n      let dataToShow = [];\n\n      if (this.selectedOrders.length) {\n        let ids = _.map(this.selectedOrders, '_id');\n        dataToShow = _.filter(this.ordersWithMatchesFiltered, d => {\n          return ids.includes(d['_id']);\n        });\n      } else {\n        dataToShow = this.ordersWithMatchesFiltered;\n      }\n\n      // Filter by date\n      dataToShow = _.filter(dataToShow, d => {\n        // Order date\n        let orderDate = null;\n        let orderDateMoment = null;\n        if (d[\"PO Initial Create Date\"] && d[\"PO Initial Create Date\"][\"$date\"] && d[\"PO Initial Create Date\"][\"$date\"][\"$numberLong\"]) {\n          orderDateMoment = moment.unix(\n              Number(d[\"PO Initial Create Date\"][\"$date\"][\"$numberLong\"]) / 1000\n          );\n          orderDate = orderDateMoment.format(\"DD/MM/YYYY\")\n        }\n        d.order_date = orderDate;\n        d.order_date_moment = orderDateMoment;\n\n        if (d.order_date_moment && moment(d.order_date_moment).isValid() && this.startDate) {\n          if (d.order_date_moment.isBefore(this.startDate)) {\n            return false;\n          }\n        }\n        if (d.order_date_moment && moment(d.order_date_moment).isValid() && this.endDate) {\n          if (d.order_date_moment.isAfter(this.endDate)) {\n            return false;\n          }\n        }\n        return true;\n      });\n\n      let sortOrder = this.sortOrder === 'ascend' ? 'asc' : 'desc';\n      switch (this.sortField) {\n        case 'product_name':\n          dataToShow = _.orderBy(dataToShow, 'product_name', sortOrder);\n          break;\n        case 'Potential Savings':\n          dataToShow = _.map(dataToShow, d => {\n            d.maxSaving = this.calculateMaxPotentialSavings(d);\n            return d;\n          });\n          dataToShow = _.orderBy(dataToShow, 'maxSaving', sortOrder);\n          break;\n        case 'Measure':\n          dataToShow = _.map(dataToShow, d => {\n            d.measureMagnitude = this.getNormalisedMeasureMagnitude(d);\n            return d;\n          });\n          dataToShow = _.orderBy(dataToShow, 'measureMagnitude', sortOrder);\n          break;\n        case 'PO Initial Create Date':\n          dataToShow = _.map(dataToShow, d => {\n            if (d['PO Initial Create Date'] && d['PO Initial Create Date']['$date'] && d['PO Initial Create Date']['$date']['$numberLong']) {\n              d.timestamp = d['PO Initial Create Date']['$date']['$numberLong'];\n            } else {\n              d.timestamp = null;\n            }\n            return d;\n          });\n          dataToShow = _.orderBy(dataToShow, 'timestamp', sortOrder);\n          break;\n        case 'total_quantity':\n          dataToShow = _.orderBy(dataToShow, 'total_quantity', sortOrder);\n          break;\n        case 'Cost':\n          dataToShow = _.orderBy(dataToShow, 'Cost', sortOrder);\n          break;\n        case 'CHF_FLOAT':\n          dataToShow = _.orderBy(dataToShow, 'CHF_FLOAT', sortOrder);\n          break;\n        case 'PO Number':\n          dataToShow = _.orderBy(dataToShow, 'PO Number', sortOrder);\n          break;\n        case 'PO Li Description':\n          dataToShow = _.orderBy(dataToShow, 'PO Li Description', sortOrder);\n          break;\n        case 'product_code':\n          dataToShow = _.orderBy(dataToShow, 'product_code', sortOrder);\n          break;\n        default:\n          break;\n      }\n\n      return dataToShow;\n    }\n  }\n};\n</script>\n<style scoped lang=\"scss\">\n.product-name-wrapper {\n  display: flex;\n  flex-direction: row;\n\n  .left {\n    flex-shrink: 1;\n    display: flex;\n    align-items: center;\n  }\n\n  .right {\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n  }\n}\n\n.insights-column {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterOrdersTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterOrdersTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClusterOrdersTable.vue?vue&type=template&id=1dc89480&scoped=true&\"\nimport script from \"./ClusterOrdersTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ClusterOrdersTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ClusterOrdersTable.vue?vue&type=style&index=0&id=1dc89480&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dc89480\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cluster-graphs\"},[_c('a-tabs',{model:{value:(_vm.active_graph),callback:function ($$v) {_vm.active_graph=$$v},expression:\"active_graph\"}},[_c('a-tab-pane',{key:\"orders\",attrs:{\"tab\":\"Orders\"}}),_c('a-tab-pane',{key:\"demand\",attrs:{\"tab\":\"Demand\"}}),_c('a-tab-pane',{key:\"product-details\",attrs:{\"tab\":\"Product Details\"}})],1),(_vm.activeGraph !== 'product-details')?_c('a-card',[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":20}},[_c('a-col',{attrs:{\"span\":19}},[(_vm.isLoading)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('a-spin')],1):_c('div',[(_vm.activeGraph === 'orders')?_c('cluster-orders-graph',{attrs:{\"graph-reload-key\":_vm.graphReloadKey,\"orders\":_vm.ordersWithMatchesFiltered}}):_vm._e(),(_vm.activeGraph === 'demand')?_c('cluster-demand-graph',{attrs:{\"graph-reload-key\":_vm.graphReloadKey,\"orders\":_vm.ordersWithMatchesFiltered}}):_vm._e()],1)]),_c('a-col',{attrs:{\"span\":5}},[_c('div',{staticClass:\"sidebar-wrapper\"},[_c('cluster-stats-sidebar',{attrs:{\"cluster-id\":_vm.clusterId}})],1)])],1)],1):_vm._e(),(_vm.activeGraph === 'product-details')?_c('div',[(_vm.isLoading)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('a-spin')],1):_vm._e(),(_vm.activeGraph === 'product-details')?_c('all-product-details-table'):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[(_vm.isLoading)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('a-spin')],1):_vm._e(),_vm._l((_vm.statsToShow),function(stat,i){return _c('div',{key:i,staticClass:\"stat\"},[(!_vm.isLoading)?_c('a-statistic',{staticStyle:{\"text-align\":\"right\"},attrs:{\"title\":stat.title,\"value\":_vm.stats[stat.value],\"precision\":stat['precision'] ? stat['precision'] : 0,\"prefix\":stat['prefix'] ? stat['prefix'] : null}}):_vm._e()],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <div v-if=\"isLoading\" style=\"text-align: center\">\n      <a-spin></a-spin>\n    </div>\n    <div class=\"stat\" v-for=\"(stat, i) in statsToShow\" :key=\"i\">\n      <a-statistic\n          v-if=\"!isLoading\"\n          style=\"text-align: right\"\n          :title=\"stat.title\"\n          :value=\"stats[stat.value]\"\n          :precision=\"stat['precision'] ? stat['precision'] : 0\"\n          :prefix=\"stat['prefix'] ? stat['prefix'] : null\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {mapGetters} from 'vuex';\n\nexport default {\n  props: [\"clusterId\"],\n  data() {\n    return {\n      isLoading: false,\n      stats: null,\n      statsToShow: [\n        {\n          title: \"Orders\",\n          value: \"number_of_orders\",\n        },\n        {\n          title: \"Spend\",\n          value: \"spend\",\n          precision: 2,\n          prefix: \"$\",\n        },\n        {\n          title: \"Saved\",\n          value: \"saved\",\n          precision: 2,\n          prefix: \"$\",\n        },\n        {\n          title: \"Savings Potential\",\n          value: \"savings_potential_next_12_months\",\n          precision: 2,\n          prefix: \"$\",\n        },\n      ],\n    };\n  },\n  created() {\n    this.fetch();\n  },\n  computed: {\n   ...mapGetters('clusterViewer', {\n     startDate: 'startDate',\n     endDate: 'endDate'\n   })\n  },\n  watch: {},\n  methods: {\n    fetch() {\n      let vm = this;\n      vm.isLoading = true;\n\n      let params = {};\n      if (this.startDate) {\n        params['start_date'] = this.startDate;\n      }\n      if (this.endDate) {\n        params['end_date'] = this.endDate;\n      }\n\n      axios\n          .post(\n              window.API_BASE +\n              \"/intelligence/clusters/\" +\n              this.clusterId +\n              \"/stats\",\n              params\n          )\n          .then((r) => {\n            vm.isLoading = false;\n            vm.stats = r.data;\n          })\n          .catch((e) => {\n            console.log(e);\n            vm.$message.error(\"Error loading cluster stats\");\n          });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.wrapper {\n  padding-right: 20px;\n}\n\n.stat {\n  margin-bottom: 20px;\n}\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterStatsSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterStatsSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClusterStatsSidebar.vue?vue&type=template&id=2e659fe2&scoped=true&\"\nimport script from \"./ClusterStatsSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./ClusterStatsSidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ClusterStatsSidebar.vue?vue&type=style&index=0&id=2e659fe2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e659fe2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{key:_vm.clusterViewerReloadKey},[_c('v-chart',{key:_vm.graphReloadKey,attrs:{\"forceFit\":true,\"renderer\":\"svg\",\"height\":\"400\",\"data\":_vm.graphDataToShow,\"scale\":_vm.scale}},[(_vm.selectedColourByOption)?_c('v-legend',{attrs:{\"data-key\":\"Vendor\"}}):_vm._e(),_c('v-tooltip',{attrs:{\"showTitle\":false,\"crosshairs\":_vm.tooltipCrosshairs,\"itemTpl\":_vm.tooltipItemTpl}}),_c('v-axis',{attrs:{\"dataKey\":\"x\",\"title\":{'text': _vm.formatGraphLabel(_vm.xLabel) + (_vm.xUnit ? ' (' + _vm.xUnit + ')' : '')}}}),_c('v-axis',{attrs:{\"dataKey\":\"cost_per_unit\",\"title\":{'text': 'Cost per ' + _vm.costPerLabel}}}),_c('v-point',{attrs:{\"position\":\"x*cost_per_unit\",\"size\":\"size\",\"color\":\"color\",\"opacity\":\"opacity\",\"tooltip\":_vm.pointTooltip,\"shape\":\"circle\",\"on-click\":_vm.handlePointClicked}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :key=\"clusterViewerReloadKey\">\n    <!--    <div class=\"top-toolbar\">-->\n    <!--      <a-select v-model=\"xType\" style=\"width: 200px;\">-->\n    <!--        <a-select-option v-for=\"(option, i) in xOptions\" :value=\"option\" :key=\"i\">-->\n    <!--          {{ formatGraphLabel(option) }}-->\n    <!--        </a-select-option>-->\n    <!--      </a-select>-->\n    <!--    </div>-->\n    <v-chart\n        :key=\"graphReloadKey\"\n        :forceFit=\"true\"\n        renderer=\"svg\"\n        height=\"400\"\n        :data=\"graphDataToShow\"\n        :scale=\"scale\"\n    >\n      <v-legend v-if=\"selectedColourByOption\" data-key=\"Vendor\"/>\n      <v-tooltip\n          :showTitle=\"false\"\n          :crosshairs=\"tooltipCrosshairs\"\n          :itemTpl=\"tooltipItemTpl\"\n      />\n      <v-axis\n          dataKey=\"x\"\n          :title=\"{'text': formatGraphLabel(xLabel) + (xUnit ? ' (' + xUnit + ')' : '')}\"\n      >\n      </v-axis>\n      <v-axis\n          dataKey=\"cost_per_unit\"\n          :title=\"{'text': 'Cost per ' + costPerLabel}\"\n      >\n      </v-axis>\n      <v-point\n          position=\"x*cost_per_unit\"\n          size=\"size\"\n          color=\"color\"\n          opacity=\"opacity\"\n          :tooltip=\"pointTooltip\"\n          shape=\"circle\"\n          :on-click=\"handlePointClicked\"\n      />\n    </v-chart>\n  </div>\n</template>\n\n<script>\nconst _ = require(\"lodash\");\nimport Orders from \"../../../../../mixins/Orders\";\nimport {mapActions, mapGetters} from \"vuex\";\nimport Moment from 'moment';\nimport {extendMoment} from 'moment-range';\n\nconst moment = extendMoment(Moment);\n\nexport default {\n  props: [\"orders\", \"graphReloadKey\"],\n  mixins: [Orders],\n  computed: {\n    ...mapGetters('clusterViewer', {\n      selectedOrders: 'selectedOrders',\n      selectedXOption: 'selectedXOption',\n      selectedColourByOption: 'selectedColourByOption',\n      selectedSizeByOption: 'selectedSizeByOption',\n      clusterViewerReloadKey: 'clusterViewerReloadKey',\n      startDate: 'startDate',\n      endDate: 'endDate'\n    }),\n\n    start_date: {\n      get() {\n        return this.startDate;\n      },\n      set(val) {\n        this.setStartDate(val);\n      }\n    },\n\n    end_date: {\n      get() {\n        return this.endDate;\n      },\n      set(val) {\n        this.setEndDate(val);\n      }\n    },\n\n    datesFromGraphData() {\n      return _.map(this.graphData, 'order_date_moment');\n    },\n\n    earliestDate() {\n      return moment.min(this.datesFromGraphData);\n    },\n\n    latestDate() {\n      return moment.max(this.datesFromGraphData);\n    },\n\n    graphDateRange() {\n      let start_date = this.start_date;\n      let end_date = this.end_date;\n\n      if (!start_date) {\n        start_date = this.earliestDate;\n      }\n      if (!end_date) {\n        end_date = this.latestDate;\n      }\n\n      return moment.range(start_date, end_date);\n    },\n\n    xLabel() {\n      if (this.xType === 'Quantity') {\n        return 'Quantity'\n      }\n      return this.xType;\n    },\n\n    xUnit() {\n      if (this.xLabel === 'volume') {\n        return 'cubic metres';\n      }\n      return '';\n    },\n\n\n    costPerLabel() {\n      if (this.xType === 'Quantity') {\n        return 'unit';\n      } else if (this.xType === 'volume') {\n        return 'cubic metre';\n      }\n      return this.xLabel;\n    },\n\n    scale() {\n      return [\n        {\n          dataKey: 'cost_per_unit',\n          formatter: (val) => {\n            return this.formatCostGraph({cost: val, cost_currency: 'USD'})\n          }\n        }];\n    },\n\n    graphDataToShow() {\n      return _.filter(this.graphData, d => {\n        if (d.order_date_moment && moment(d.order_date_moment).isValid() && this.start_date) {\n          if (d.order_date_moment.isBefore(this.start_date)) {\n           return false;\n          }\n        }\n        if (d.order_date_moment && moment(d.order_date_moment).isValid() && this.end_date) {\n          if (d.order_date_moment.isAfter(this.end_date)) {\n            return false;\n          }\n        }\n        return true;\n      });\n    },\n\n    graphData() {\n      let gd = [];\n      // let colours = ['#267278', '#65338d', '#4770b3'];\n      // let colourMappings = {};\n      // let numberOfColoursUsedSoFar = 0;\n\n      _.each(this.orders, (order) => {\n        let x = 0;\n\n        // let cost = order[\"Cost\"];\n        let cost = order[\"CHF_FLOAT\"];\n        let orderQuantity = order[\"Quantity\"] !== \"None\" ? order[\"Quantity\"] : 1;\n\n        // Get total quantity (product quantity x erp order quantity)\n        let totalQuantity = order['total_quantity'];\n        // if (order['product_quantity']) {\n        //   totalQuantity = Number(orderQuantity) * Number(order['product_quantity']);\n        // }\n\n        // Measure\n        let measure = null;\n        if (order[\"products\"] && order[\"products\"].length) {\n          if (order[\"products\"][0]['normalisedMeasure']) {\n            measure = order['products'][0]['normalisedMeasure'];\n          }\n        }\n\n        // Properties\n        let properties = {};\n        if (order[\"products\"] && order[\"products\"].length) {\n          if (order['product_numeric_properties']) {\n            _.each(order['product_numeric_properties'], p => {\n              let property = {\n                // magnitude: p.propertyValue * orderQuantity,\n                magnitude: p.propertyValue,\n                property_type: p.propertyName,\n                unit: p.propertyUnit\n              };\n              properties[p.propertyName] = property;\n            });\n          }\n        }\n        order[\"properties\"] = properties;\n\n        // Get x value\n        if (this.xType === 'Quantity') {\n          x = totalQuantity;\n        } else {\n          if (measure && measure['entity'] === this.xType) {\n            // x = measure['normalisedUnitMagnitude'];\n            x = measure['normalisedUnitMagnitude'] * orderQuantity;\n          } else {\n            x = null;\n          }\n        }\n\n        // let opacity = 0.65;\n        let opacity = 0.7;\n        let selectedOrderIds = _.map(this.selectedOrders, '_id');\n        if (selectedOrderIds.includes(order['_id'])) {\n          opacity = 0.9;\n        }\n\n        let color = 'Other';\n        if (this.selectedColourByOption !== null) {\n          let key = this.selectedColourByOption.key;\n          if (key in order) {\n            color = order[key];\n          } else {\n            let colourByProperty = _.find(order['product_categorical_properties'], p => {\n              return p['propertyName'] === this.selectedColourByOption.key;\n            });\n            if (colourByProperty) {\n              color = colourByProperty['propertyValue'];\n            }\n          }\n        }\n\n        // Size by\n        let size = null;\n        if (this.selectedSizeByOption) {\n          let sizeByProperty = _.find(order['product_numeric_properties'], p => {\n            return p['propertyName'] === this.selectedSizeByOption;\n          });\n          if (sizeByProperty) {\n            size = sizeByProperty['propertyValue'];\n          } else {\n            size = 0;\n          }\n        }\n\n        // Order date\n        let orderDate = null;\n        let orderDateMoment = null;\n        if (order[\"PO Initial Create Date\"] && order[\"PO Initial Create Date\"][\"$date\"] && order[\"PO Initial Create Date\"][\"$date\"][\"$numberLong\"]) {\n          orderDateMoment = moment.unix(\n              Number(order[\"PO Initial Create Date\"][\"$date\"][\"$numberLong\"]) / 1000\n          );\n          orderDate = orderDateMoment.format(\"DD/MM/YYYY\")\n        }\n\n\n        gd.push({\n          id: order['_id'],\n          // description: order['PO Li Description'],\n          description: order['product_name'],\n          vendor: order['Vendor'] ? order['Vendor'] : '-',\n          order_date: orderDate ? orderDate : '-',\n          order_date_moment: orderDateMoment,\n          quantity: totalQuantity,\n          measure: measure,\n          cost: cost,\n          cost_per_unit: x ? cost / x : cost,\n          properties: properties,\n          x: x,\n          opacity: opacity,\n          color: color,\n          size: size\n        });\n      });\n\n      return gd;\n    },\n\n    xOptions() {\n      let options = ['Quantity'];\n      // _.each(this.graphData, gd => {\n      //   let propertyLabels = Object.keys(gd['properties']);\n      //   options.push(propertyLabels);\n      //   options = _.flatten(options);\n      // });\n      _.each(this.graphData, gd => {\n        if (gd['measure'] !== null) {\n          options.push(gd['measure']['entity']);\n        }\n      });\n      return _.uniq(options);\n    },\n\n    pointTooltip() {\n      return [\n        \"description*x*cost_per_unit*order_date*vendor\",\n        (description, x, cost_per_unit, order_date, vendor) => {\n          if (x < 1 && x !== 0) {\n            // x = Number.parseFloat(x).toExponential(3);\n            let exp = Number.parseFloat(x).toExponential(3);\n            let split = exp.split('e');\n            x = split[0] + ' x 10' + '<sup>' + split[1] + '</sup>'\n          }\n          return {\n            name: description,\n            // x: this.xLabel + ': ' +x,\n            x_description: '<b>' + this.formatGraphLabel(this.xLabel) + ': ' + '</b>' + x + ' ' + this.xUnit,\n            cost_per_unit: '<b>Cost per ' + this.costPerLabel + ': </b>' + this.formatCostGraph({\n              cost: cost_per_unit,\n              cost_currency: 'USD'\n            }),\n            order_date: '<b>Order date: </b>' + order_date,\n            vendor: '<b>Vendor: </b>' + vendor,\n            value: this.xLabel + \" (\" + x + \"), \" + 'Cost per unit ' + \"(\" + this.formatCostGraph({\n              cost: cost_per_unit,\n              cost_currency: 'USD'\n            }) + \")\",\n          };\n        },\n      ];\n    },\n\n    xType: {\n      get() {\n        return this.selectedXOption;\n      },\n      set(val) {\n        this.selectXOption(val);\n      }\n    }\n  },\n\n  data() {\n    return {\n      // xType: 'Quantity',\n      height: 500,\n      tooltipCrosshairs: {type: \"cross\"},\n      tooltipItemTpl: `\n        <li data-index={index} style=\"margin-bottom:4px;\">\n          <span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>\n          <b>{name}</b><br />\n          {x_description}<br />\n          {cost_per_unit}<br />\n          {order_date}<br />\n          {vendor}\n        </li>\n      `,\n    };\n  },\n\n  created() {\n    this.setXOptions(this.xOptions);\n    this.selectXOption('Quantity');\n\n    if (!this.start_date) {\n      this.start_date = this.earliestDate.clone();\n    }\n    if (!this.end_date) {\n      this.end_date = this.latestDate.clone();\n    }\n  },\n\n  methods: {\n    ...mapActions('clusterViewer', {\n      toggleOrderSelected: 'toggleOrderSelected',\n      setXOptions: 'setXOptions',\n      selectXOption: 'selectXOption',\n      setStartDate: 'setStartDate',\n      setEndDate: 'setEndDate'\n    }),\n\n    formatGraphLabel(label) {\n      return label.charAt(0).toUpperCase() + label.substring(1);\n    },\n\n    formatCostGraph(order) {\n      if (order.cost) {\n        let currency = order.cost_currency ? order.cost_currency : 'GBP';\n        return new Intl.NumberFormat('en-US', {\n          style: 'currency',\n          currency: currency,\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        }).format(order.cost);\n      }\n      return order.cost;\n    },\n\n    handlePointClicked(point) {\n      let orderId = point['data']['_origin']['id'];\n      let order = _.find(this.orders, {'_id': orderId});\n      // console.log(order);\n      this.toggleOrderSelected(order);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.top-toolbar {\n  margin-bottom: 30px;\n  /*float: right;*/\n}\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterOrdersGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterOrdersGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClusterOrdersGraph.vue?vue&type=template&id=984492b8&scoped=true&\"\nimport script from \"./ClusterOrdersGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./ClusterOrdersGraph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ClusterOrdersGraph.vue?vue&type=style&index=0&id=984492b8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"984492b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-chart',{key:_vm.graphReloadKey,attrs:{\"forceFit\":true,\"renderer\":\"svg\",\"height\":\"400\",\"scale\":_vm.scale,\"data\":_vm.graphDataToShow}},[_c('v-axis',{attrs:{\"dataKey\":\"quantity\",\"title\":{'text': _vm.formatGraphLabel(_vm.xLabel) + (_vm.xUnit ? ' (' + _vm.xUnit + ')' : '')}}}),_c('v-axis',{attrs:{\"dataKey\":\"order_date\",\"title\":{'text': 'Order Date'},\"tick\":{'tickCount': 3}}}),_c('v-tooltip',{attrs:{\"showTitle\":false,\"itemTpl\":_vm.tooltipItemTpl}}),_c('v-interval',{attrs:{\"tooltip\":_vm.intervalTooltip,\"position\":\"order_date*quantity\",\"opacity\":1}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!--    <div class=\"top-toolbar\">-->\n    <!--      <a-date-picker-->\n    <!--          v-model=\"start_date\"-->\n    <!--          placeholder=\"Start\"-->\n    <!--      />-->\n    <!--      <span class=\"separator\">-->\n    <!--        - -->\n    <!--      </span>-->\n    <!--      <a-date-picker-->\n    <!--          v-model=\"end_date\"-->\n    <!--          placeholder=\"End\"-->\n    <!--      />-->\n    <!--    </div>-->\n\n    <v-chart\n        :key=\"graphReloadKey\"\n        :forceFit=\"true\"\n        renderer=\"svg\"\n        height=\"400\"\n        :scale=\"scale\"\n        :data=\"graphDataToShow\">\n      <v-axis dataKey=\"quantity\"\n              :title=\"{'text': formatGraphLabel(xLabel) + (xUnit ? ' (' + xUnit + ')' : '')}\"\n      ></v-axis>\n      <v-axis dataKey=\"order_date\" :title=\"{'text': 'Order Date'}\"\n              :tick=\"{'tickCount': 3}\"></v-axis>\n      <v-tooltip :showTitle=\"false\" :itemTpl=\"tooltipItemTpl\"></v-tooltip>\n      <v-interval\n          :tooltip=\"intervalTooltip\"\n          position=\"order_date*quantity\"\n          :opacity=\"1\"\n      />\n    </v-chart>\n  </div>\n</template>\n\n<script>\nconst _ = require('lodash');\nimport Moment from 'moment';\nimport {extendMoment} from 'moment-range';\nimport {mapGetters, mapActions} from 'vuex';\n\nconst moment = extendMoment(Moment);\n\nexport default {\n  name: \"ClusterDemandGraph\",\n  props: [\"orders\", \"graphReloadKey\"],\n  data() {\n    return {\n      tooltipItemTpl: `\n        <li data-index={index} style=\"margin-bottom:4px;\">\n          <span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>\n          <b>{name}</b><br />\n          {value}\n        </li>\n      `,\n    }\n  },\n  created() {\n    // this.start_date = this.earliestDate.clone();\n    // this.end_date = this.latestDate.clone();\n  },\n  computed: {\n    ...mapGetters('clusterViewer', {\n      selectedBinByOption: 'selectedBinByOption',\n      startDate: 'startDate',\n      endDate: 'endDate',\n      selectedXOption: 'selectedXOption'\n    }),\n\n    xType: {\n      get() {\n        return this.selectedXOption;\n      },\n      set(val) {\n        this.selectXOption(val);\n      }\n    },\n\n    start_date: {\n      get() {\n        return this.startDate;\n      },\n      set(val) {\n        this.setStartDate(val);\n      }\n    },\n\n    end_date: {\n      get() {\n        return this.endDate;\n      },\n      set(val) {\n        this.setEndDate(val);\n      }\n    },\n\n    scale() {\n      return [\n        {\n          dataKey: 'order_date',\n          tickCount: 10\n        }\n      ]\n    },\n\n    xLabel() {\n      if (this.xType === 'Quantity') {\n        return 'Quantity'\n      }\n      return this.xType;\n    },\n\n    xUnit() {\n      if (this.xLabel === 'volume') {\n        return 'cubic metres';\n      }\n      return '';\n    },\n\n    graphData() {\n      let gd = [];\n\n      let orders = _.filter(this.orders, order => {\n        return (order[\"PO Initial Create Date\"] && order[\"PO Initial Create Date\"][\"$date\"] && order[\"PO Initial Create Date\"][\"$date\"][\"$numberLong\"]);\n      });\n\n      _.each(orders, order => {\n        // Now let's convert the timestamps into moment\n        let orderDate = null;\n        let orderDateMoment = null;\n        if (order[\"PO Initial Create Date\"] && order[\"PO Initial Create Date\"][\"$date\"] && order[\"PO Initial Create Date\"][\"$date\"][\"$numberLong\"]) {\n          orderDateMoment = moment.unix(\n              Number(order[\"PO Initial Create Date\"][\"$date\"][\"$numberLong\"]) / 1000\n          );\n          orderDate = orderDateMoment.format(\"DD/MM/YYYY\")\n        }\n        order[\"order_date_moment\"] = orderDateMoment;\n        order[\"order_date\"] = orderDate;\n\n        // Measure\n        let measure = null;\n        if (order[\"products\"] && order[\"products\"].length) {\n          if (order[\"products\"][0]['normalisedMeasure']) {\n            measure = order['products'][0]['normalisedMeasure'];\n          }\n        }\n\n        let quantity = null;\n        if (this.xType === 'Quantity') {\n          quantity = order['total_quantity'];\n        } else if (measure && measure['entity'] === this.xType) {\n          let orderQuantity = order[\"Quantity\"] !== \"None\" ? order[\"Quantity\"] : 1;\n          quantity = measure['normalisedUnitMagnitude'] * orderQuantity;\n        }\n\n        if (quantity !== null) {\n          gd.push({\n            '_id': order['_id'],\n            'order_date': order['order_date'],\n            'order_date_moment': order['order_date_moment'],\n            'quantity': quantity\n          });\n        }\n      });\n\n      let graphPoints = [];\n      let groupedByDate = _.groupBy(gd, 'order_date');\n      _.each(groupedByDate, (orders, date) => {\n        let summedQuantity = _.sum(_.map(orders, 'quantity'));\n        graphPoints.push({\n          order_date: date,\n          order_date_moment: orders[0]['order_date_moment'],\n          quantity: summedQuantity\n        });\n      });\n\n      return graphPoints;\n    },\n\n    datesFromGraphData() {\n      return _.map(this.graphData, 'order_date_moment');\n    },\n\n    earliestDate() {\n      return moment.min(this.datesFromGraphData);\n    },\n\n    latestDate() {\n      return moment.max(this.datesFromGraphData);\n    },\n\n    graphDateRange() {\n      let start_date = this.start_date;\n      let end_date = this.end_date;\n\n      if (!start_date) {\n        start_date = this.earliestDate;\n      }\n      if (!end_date) {\n        end_date = this.latestDate;\n      }\n\n      return moment.range(start_date, end_date);\n    },\n\n    graphDateRangeByDays() {\n      return Array.from(this.graphDateRange.by('days'));\n    },\n\n    graphDateRangeByMonths() {\n      return Array.from(this.graphDateRange.by('months'));\n    },\n\n    graphDateRangeByYears() {\n      return Array.from(this.graphDateRange.by('years'));\n    },\n\n    graphDataToShow() {\n      let points = [];\n\n      if (this.selectedBinByOption === 'day') {\n        _.each(this.graphDateRangeByDays, date => {\n          let dateFormatted = date.format('DD/MM/YYYY');\n          let pointFromData = _.find(this.graphData, {\n            order_date: dateFormatted\n          });\n          if (pointFromData) {\n            points.push(pointFromData);\n          } else {\n            points.push({\n              order_date: dateFormatted,\n              quantity: 0\n            });\n          }\n        });\n      }\n\n      if (this.selectedBinByOption === 'month') {\n        _.each(this.graphDateRangeByMonths, date => {\n          let beginningOfMonth = moment(date).startOf('month');\n          let endOfMonth = moment(date).endOf('month');\n          let monthRange = moment.range(beginningOfMonth, endOfMonth);\n\n          let daysData = [];\n          _.each(Array.from(monthRange.by('days')), date => {\n            let dateFormatted = date.format('DD/MM/YYYY');\n            let pointFromData = _.find(this.graphData, {\n              order_date: dateFormatted\n            });\n            daysData.push(pointFromData);\n          });\n\n          if (daysData) {\n            points.push({\n              order_date: beginningOfMonth.format('MM/YYYY'),\n              quantity: _.sum(_.map(daysData, 'quantity'))\n            });\n          }\n        });\n      }\n\n      if (this.selectedBinByOption === 'year') {\n        _.each(this.graphDateRangeByYears, date => {\n          let beginningOfYear = moment(date).startOf('year');\n          let endOfYear = moment(date).endOf('year');\n          let monthRange = moment.range(beginningOfYear, endOfYear);\n\n          let daysData = [];\n          _.each(Array.from(monthRange.by('days')), date => {\n            let dateFormatted = date.format('DD/MM/YYYY');\n            let pointFromData = _.find(this.graphData, {\n              order_date: dateFormatted\n            });\n            daysData.push(pointFromData);\n          });\n\n          if (daysData) {\n            points.push({\n              order_date: beginningOfYear.format('YYYY'),\n              quantity: _.sum(_.map(daysData, 'quantity'))\n            });\n          }\n        });\n      }\n\n      return points;\n    },\n\n    intervalTooltip() {\n      return [\n        \"order_date*quantity\",\n        (order_date, quantity) => {\n          if (quantity < 1 && quantity !== 0) {\n            // x = Number.parseFloat(x).toExponential(3);\n            let exp = Number.parseFloat(quantity).toExponential(3);\n            let split = exp.split('e');\n            quantity = split[0] + ' x 10' + '<sup>' + split[1] + '</sup>'\n          }\n          return {\n            name: order_date,\n            value: quantity + ' ' + this.xUnit\n          }\n        }\n      ]\n    }\n  },\n  methods: {\n    ...mapActions('clusterViewer', {\n      setStartDate: 'setStartDate',\n      setEndDate: 'setEndDate',\n      selectXOption: 'selectXOption'\n    }),\n\n    formatGraphLabel(label) {\n      return label.charAt(0).toUpperCase() + label.substring(1);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.top-toolbar {\n  margin-bottom: 30px;\n  /*float: right;*/\n}\n\n.separator {\n  display: inline-block;\n  padding-left: 12px;\n  padding-right: 12px;\n}\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterDemandGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterDemandGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClusterDemandGraph.vue?vue&type=template&id=e99a0fdc&scoped=true&\"\nimport script from \"./ClusterDemandGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./ClusterDemandGraph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ClusterDemandGraph.vue?vue&type=style&index=0&id=e99a0fdc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e99a0fdc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoading)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('a-spin')],1):_vm._e(),(!_vm.isLoading)?_c('a-table',{staticClass:\"axpi-table small-th column-dividers\",attrs:{\"scroll\":{ x: 'max-content' },\"columns\":_vm.columns,\"data-source\":_vm.tableData,\"loading\":_vm.isLoading},scopedSlots:_vm._u([{key:\"name\",fn:function(name, record){return _c('div',{},[_c('div',{staticClass:\"product-name-wrapper\"},[_c('div',{staticClass:\"left\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":record['URL'] ? record['URL'] : '#'}},[_c('a-avatar',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"size\":\"large\",\"src\":_vm.getImageSrc(record)}})],1)]),_c('div',{staticClass:\"right\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.getProductLink(record)}},[_vm._v(\" \"+_vm._s(name)+\" \")])])])])}},_vm._l((_vm.uniqueProperties),function(p,i){return {key:p,fn:function(property){return _c('div',{key:i},[_c('span',{domProps:{\"innerHTML\":_vm._s(property)}})])}}})],null,true)}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"isLoading\" style=\"text-align: center;\">\n      <a-spin></a-spin>\n    </div>\n    <!-- Table -->\n    <a-table v-if=\"!isLoading\"\n             class=\"axpi-table small-th column-dividers\"\n             :scroll=\"{ x: 'max-content' }\"\n             :columns=\"columns\"\n             :data-source=\"tableData\"\n             :loading=\"isLoading\"\n    >\n      <div slot=\"name\" slot-scope=\"name, record\">\n        <div class=\"product-name-wrapper\">\n          <div class=\"left\">\n            <a target=\"_blank\"\n               :href=\"record['URL'] ? record['URL'] : '#'\">\n              <a-avatar style=\"margin-right: 20px;\"\n                        size=\"large\" :src=\"getImageSrc(record)\"/>\n            </a>\n          </div>\n          <div class=\"right\">\n            <a target=\"_blank\" :href=\"getProductLink(record)\">\n              {{ name }}\n            </a>\n          </div>\n        </div>\n      </div>\n      <div v-for=\"(p,i) in uniqueProperties\" :slot=\"p\" :key=\"i\" slot-scope=\"property\">\n        <span v-html=\"property\"></span>\n      </div>\n    </a-table>\n    <!-- Table -->\n  </div>\n</template>\n\n<script>\nconst _ = require('lodash');\nimport {mapGetters} from 'vuex';\nimport axios from 'axios';\nimport Units from \"../../../../../mixins/Units\";\nimport Moment from 'moment';\nimport {extendMoment} from 'moment-range';\n\nconst moment = extendMoment(Moment);\n\nexport default {\n  name: \"AllProductDetailsTable\",\n  mixins: [Units],\n  data() {\n    return {\n      enriched: [],\n      isLoading: false\n    }\n  },\n  created() {\n    this.enrich();\n  },\n  computed: {\n    ...mapGetters('clusterViewer', {\n      ordersWithMatchesFiltered: 'ordersWithMatchesFiltered',\n      selectedOrders: 'selectedOrders',\n      startDate: 'startDate',\n      endDate: 'endDate'\n    }),\n\n    start_date: {\n      get() {\n        return this.startDate;\n      },\n      set(val) {\n        this.setStartDate(val);\n      }\n    },\n\n    end_date: {\n      get() {\n        return this.endDate;\n      },\n      set(val) {\n        this.setEndDate(val);\n      }\n    },\n\n    datesFromTableData() {\n      return _.map(this.tableData, 'order_date_moment');\n    },\n\n    earliestDate() {\n      return moment.min(this.datesFromTableData);\n    },\n\n    latestDate() {\n      return moment.max(this.datesFromTableData);\n    },\n\n    tableDateRange() {\n      let start_date = this.start_date;\n      let end_date = this.end_date;\n\n      if (!start_date) {\n        start_date = this.earliestDate;\n      }\n      if (!end_date) {\n        end_date = this.latestDate;\n      }\n\n      return moment.range(start_date, end_date);\n    },\n\n    uniqueProperties() {\n      let properties = [];\n      _.each(Object.values(this.enriched), ps => {\n        properties.push(_.map(ps, 'propertyName'));\n        properties = _.flatten(properties);\n      });\n      return _.uniq(properties);\n    },\n\n    columns() {\n      return [\n        {\n          title: 'Name',\n          dataIndex: 'product_name',\n          scopedSlots: {customRender: 'name'},\n          sorter: true,\n          width: 350,\n          fixed: 'left'\n        },\n        ..._.map(this.uniqueProperties, (p) => ({\n          title: p,\n          dataIndex: p,\n          sorter: true,\n          width: 200,\n          scopedSlots: {customRender: p}\n        })),\n        {\n          title: ''\n        }\n      ]\n    },\n\n    dataToShow() {\n      let dataToShow = [];\n\n      if (this.selectedOrders.length) {\n        let ids = _.map(this.selectedOrders, '_id');\n        dataToShow = _.filter(this.ordersWithMatchesFiltered, d => {\n          return ids.includes(d['_id']);\n        });\n      } else {\n        dataToShow = this.ordersWithMatchesFiltered;\n      }\n\n      return _.filter(dataToShow, d => {\n        // Order date\n        let orderDate = null;\n        let orderDateMoment = null;\n        if (d[\"PO Initial Create Date\"] && d[\"PO Initial Create Date\"][\"$date\"] && d[\"PO Initial Create Date\"][\"$date\"][\"$numberLong\"]) {\n          orderDateMoment = moment.unix(\n              Number(d[\"PO Initial Create Date\"][\"$date\"][\"$numberLong\"]) / 1000\n          );\n          orderDate = orderDateMoment.format(\"DD/MM/YYYY\")\n        }\n        d.order_date = orderDate;\n        d.order_date_moment = orderDateMoment;\n\n        if (d.order_date_moment && moment(d.order_date_moment).isValid() && this.startDate) {\n          if (d.order_date_moment.isBefore(this.startDate)) {\n            return false;\n          }\n        }\n        if (d.order_date_moment && moment(d.order_date_moment).isValid() && this.endDate) {\n          if (d.order_date_moment.isAfter(this.endDate)) {\n            return false;\n          }\n        }\n        return true;\n      });\n    },\n\n    tableData() {\n      let td = [];\n      _.each(this.dataToShow, o => {\n        if (o.product_name) {\n\n          let productRow = {\n            product_id: o.product_id,\n            product_name: o.product_name,\n            imageURLs: this.getFirstProduct(o)['imageURLs'],\n            URL: this.getFirstProduct(o)['URL']\n          };\n          _.each(this.uniqueProperties, p => {\n            let property = _.find(o.product_all_properties, {\n              propertyName: p\n            });\n            if (property) {\n              if (property.variableType && property.variableType === 'categorical') {\n                productRow[p] = property.propertyValue;\n              } else {\n                let magnitudeFormatted = property.propertyValue;\n                if (magnitudeFormatted < 1 && magnitudeFormatted !== 0) {\n                  let exp = Number.parseFloat(magnitudeFormatted).toExponential(3);\n                  let split = exp.split('e');\n                  magnitudeFormatted = split[0] + ' x 10' + '<sup>' + split[1] + '</sup>'\n                }\n\n                let propertyUnitFormatted = this.formatUnit(property.propertyUnit);\n                productRow[p] = magnitudeFormatted + ' ' + propertyUnitFormatted;\n              }\n            } else {\n              productRow[p] = '';\n            }\n          });\n          td.push(productRow);\n        }\n      });\n      return _.uniqBy(td, 'product_id');\n      // return td;\n    }\n  },\n  methods: {\n    getImageSrc(product) {\n      if (product[\"imageURLs\"] && product[\"imageURLs\"].length) {\n        return product[\"imageURLs\"][0];\n      }\n    },\n\n    getProductLink(row) {\n      return '/products/' + row['product_id'];\n    },\n\n    getFirstProduct(record) {\n      return record[\"products\"][0];\n    },\n\n\n    enrich() {\n      let vm = this;\n      vm.isLoading = true;\n      axios.post(window.API_BASE + '/products/enrich-many', {\n        ids: _.map(this.ordersWithMatchesFiltered, 'product_id')\n      }).then((r) => {\n        vm.isLoading = false;\n        vm.enriched = r.data;\n      }).catch(e => {\n        console.log(e);\n        vm.isLoading = false;\n        vm.$message.error('Error getting order properties');\n      });\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.product-name-wrapper {\n  display: flex;\n  flex-direction: row;\n\n  .left {\n    flex-shrink: 1;\n    display: flex;\n    align-items: center;\n  }\n\n  .right {\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n  }\n}\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllProductDetailsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllProductDetailsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AllProductDetailsTable.vue?vue&type=template&id=5c83f338&scoped=true&\"\nimport script from \"./AllProductDetailsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./AllProductDetailsTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AllProductDetailsTable.vue?vue&type=style&index=0&id=5c83f338&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c83f338\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"cluster-graphs\">\n    <!-- Graph selector -->\n    <a-tabs v-model=\"active_graph\">\n      <a-tab-pane key=\"orders\" tab=\"Orders\"></a-tab-pane>\n      <!--      <a-tab-pane key=\"prices\" tab=\"Prices\"></a-tab-pane>-->\n      <a-tab-pane key=\"demand\" tab=\"Demand\"></a-tab-pane>\n      <a-tab-pane key=\"product-details\" tab=\"Product Details\">\n      </a-tab-pane>\n    </a-tabs>\n    <!-- / Graph selector -->\n\n    <!-- Card -->\n    <a-card v-if=\"activeGraph !== 'product-details'\">\n      <a-row type=\"flex\" :gutter=\"20\">\n        <a-col :span=\"19\">\n          <!-- Graphs -->\n          <div v-if=\"isLoading\" style=\"text-align: center;\">\n            <a-spin></a-spin>\n          </div>\n          <div v-else>\n            <cluster-orders-graph :graph-reload-key=\"graphReloadKey\"\n                                  v-if=\"activeGraph === 'orders'\"\n                                  :orders=\"ordersWithMatchesFiltered\"></cluster-orders-graph>\n\n            <cluster-demand-graph :graph-reload-key=\"graphReloadKey\"\n                                  v-if=\"activeGraph === 'demand'\"\n                                  :orders=\"ordersWithMatchesFiltered\"></cluster-demand-graph>\n\n          </div>\n          <!-- / Graphs -->\n        </a-col>\n        <a-col :span=\"5\">\n          <div class=\"sidebar-wrapper\">\n            <cluster-stats-sidebar :cluster-id=\"clusterId\"></cluster-stats-sidebar>\n          </div>\n        </a-col>\n      </a-row>\n    </a-card>\n    <!-- / Card -->\n\n    <!-- Table -->\n    <div v-if=\"activeGraph === 'product-details'\">\n      <div v-if=\"isLoading\" style=\"text-align: center;\">\n        <a-spin></a-spin>\n      </div>\n      <all-product-details-table v-if=\"activeGraph === 'product-details'\"></all-product-details-table>\n    </div>\n    <!-- / Table -->\n  </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions} from \"vuex\";\nimport ClusterStatsSidebar from \"./ClusterGraphs/ClusterStatsSidebar.vue\";\n// import axios from 'axios';\nimport ClusterOrdersGraph from './ClusterGraphs/ClusterOrdersGraph.vue';\nimport ClusterDemandGraph from \"./ClusterGraphs/ClusterDemandGraph\";\nimport AllProductDetailsTable from \"./ClusterGraphs/AllProductDetailsTable\";\n\nexport default {\n  props: [\"clusterId\", \"graphReloadKey\"],\n  components: {AllProductDetailsTable, ClusterDemandGraph, ClusterStatsSidebar, ClusterOrdersGraph},\n  data() {\n    return {\n      // isLoading: false,\n      // clusterOrders: []\n    };\n  },\n  computed: {\n    ...mapGetters('clusterViewer', {\n      activeGraph: 'activeGraph',\n      ordersWithMatchesFiltered: 'ordersWithMatchesFiltered'\n    }),\n\n    isLoading() {\n      return !(this.ordersWithMatchesFiltered.length);\n    },\n\n    active_graph: {\n      get() {\n        return this.activeGraph;\n      },\n      set(val) {\n        this.setActiveGraph(val);\n      }\n    }\n  },\n  created() {\n    // this.fetch();\n  },\n  methods: {\n    ...mapActions('clusterViewer', {\n      setActiveGraph: 'setActiveGraph'\n    }),\n\n    // fetch() {\n    //   let vm = this;\n    //   vm.isLoading = true;\n    //   axios.get(window.API_BASE + '/intelligence/clusters/' + this.clusterId + '/orders-with-matches').then(r => {\n    //     vm.clusterOrders = r.data;\n    //     vm.isLoading = false;\n    //   }).catch(e => {\n    //     console.log(e);\n    //     vm.$message.error('Error loading cluster orders');\n    //   });\n    // }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.cluster-graphs {\n  .sidebar-wrapper {\n    border-left: 1px solid #eee;\n    height: 100%;\n    padding-left: 20px;\n    padding-top: 24px;\n  }\n\n  .ant-col-19 {\n    padding-top: 24px;\n  }\n\n  .ant-card-body {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n  }\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterGraphs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterGraphs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClusterGraphs.vue?vue&type=template&id=09fed725&\"\nimport script from \"./ClusterGraphs.vue?vue&type=script&lang=js&\"\nexport * from \"./ClusterGraphs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ClusterGraphs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar-wrapper\"},[_c('loading-screen',{attrs:{\"is-loading\":_vm.isSaving}}),_c('div',{staticClass:\"top\"},[_c('a-page-header',{attrs:{\"title\":\"Add Order\"},on:{\"back\":function($event){return _vm.$emit('close')}}}),_c('a-tabs',[_c('a-tab-pane',{key:\"manual\",attrs:{\"tab\":\"Add Manually\"}},[_c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"20px\",\"text-align\":\"left\"}},[_c('a-input-search',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"Search orders\"},on:{\"search\":_vm.fetch},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}})],1),_c('a-table',{key:_vm.reloadKey,staticClass:\"axpi-table\",attrs:{\"columns\":_vm.columns,\"row-selection\":_vm.rowSelection,\"row-key\":function (record) { return record['_id']; },\"data-source\":_vm.data,\"pagination\":_vm.pagination,\"loading\":_vm.loading || _vm.searchQueryIsDirty},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"name\",fn:function(name, order){return _c('div',{},[_c('div',{staticClass:\"product-name-wrapper\"},[_c('div',{staticClass:\"left\"},[_c('a-avatar',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"size\":\"large\",\"src\":order['match_details_images']}})],1),_c('div',{staticClass:\"right\"},[_vm._v(\" \"+_vm._s(order['match_details_names'][0])+\" \")])])])}},{key:\"cost\",fn:function(cost){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.formatCost({cost: cost, cost_currency: 'USD'}))+\" \")])}}])})],1)]),_c('a-tab-pane',{key:\"suggested\",attrs:{\"tab\":\"Suggested Orders\"}})],1)],1),_c('div',{staticClass:\"bottom\"},[_c('div',[_c('span',[_vm._v(\" \"+_vm._s(_vm.selectedOrderIds.length)+\" \"+_vm._s(_vm.selectedOrderIds.length === 1 ? 'order' : 'orders')+\" selected \")]),_c('a-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"default\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('close')}}},[_vm._v(\"Cancel\")]),_c('a-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.canSave},on:{\"click\":function($event){$event.preventDefault();return _vm.save($event)}}},[_vm._v(\"Add to cluster\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"sidebar-wrapper\">\n    <loading-screen :is-loading=\"isSaving\"></loading-screen>\n\n    <!-- Top -->\n    <div class=\"top\">\n      <!-- Header -->\n      <a-page-header title=\"Add Order\" @back=\"$emit('close')\"></a-page-header>\n      <!-- / Header -->\n\n      <a-tabs>\n        <a-tab-pane key=\"manual\" tab=\"Add Manually\">\n          <!-- Orders table -->\n          <div>\n            <div style=\"margin-bottom: 20px; text-align: left\">\n              <a-input-search\n                  placeholder=\"Search orders\"\n                  v-model=\"searchQuery\"\n                  style=\"width: 100%;\"\n                  @search=\"fetch\"\n              />\n            </div>\n\n            <a-table\n                :key=\"reloadKey\"\n                class=\"axpi-table\"\n                :columns=\"columns\"\n                :row-selection=\"rowSelection\"\n                :row-key=\"(record) => record['_id']\"\n                :data-source=\"data\"\n                :pagination=\"pagination\"\n                :loading=\"loading || searchQueryIsDirty\"\n                @change=\"handleTableChange\"\n            >\n              <div slot=\"name\" slot-scope=\"name, order\">\n                <!-- TODO: Get most relevant product if more than one product - in which case 0 element may not be the most appropriate match -->\n                <div class=\"product-name-wrapper\">\n                  <div class=\"left\">\n                    <a-avatar style=\"margin-right: 20px;\"\n                              size=\"large\" :src=\"order['match_details_images']\"/>\n                  </div>\n                  <div class=\"right\">\n                    {{ order['match_details_names'][0] }}\n                  </div>\n                </div>\n              </div>\n              <div slot=\"cost\" slot-scope=\"cost\">\n                {{ formatCost({cost: cost, cost_currency: 'USD'}) }}\n              </div>\n            </a-table>\n          </div>\n          <!-- / Orders table -->\n        </a-tab-pane>\n        <a-tab-pane key=\"suggested\" tab=\"Suggested Orders\">\n        </a-tab-pane>\n      </a-tabs>\n    </div>\n    <!-- / Top -->\n\n    <!-- Bottom -->\n    <div class=\"bottom\">\n      <div>\n        <span>\n          {{ selectedOrderIds.length }} {{ selectedOrderIds.length === 1 ? 'order' : 'orders' }} selected\n        </span>\n        <a-button @click.prevent=\"$emit('close')\" style=\"margin-right: 10px\" type=\"default\">Cancel</a-button>\n        <a-button @click.prevent=\"save\" type=\"primary\" :disabled=\"!canSave\">Add to cluster</a-button>\n      </div>\n    </div>\n    <!-- / Bottom -->\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Orders from \"../../../../mixins/Orders\";\n\nconst _ = require(\"lodash\");\n\nconst columns = [\n  {\n    title: \"Name\",\n    dataIndex: \"Name\",\n    sorter: true,\n    scopedSlots: {customRender: 'name'}\n  },\n  {\n    title: \"Cost\",\n    // dataIndex: \"Cost\",\n    dataIndex: \"CHF_FLOAT\",\n    scopedSlots: {customRender: 'cost'},\n    sorter: true,\n    width: 110\n  }\n  // {\n  //   title: \"PO Number\",\n  //   dataIndex: \"PO Number\",\n  //   sorter: true,\n  // },\n];\n\nexport default {\n  name: \"AddOrderToClusterButtonAndModal\",\n  props: [\"clusterId\"],\n  mixins: [Orders],\n  data() {\n    return {\n      isSaving: false,\n      serverErrors: [],\n\n      loading: false,\n      data: [],\n      pagination: {},\n      searchQuery: \"\",\n      searchQueryIsDirty: false,\n      selectedOrderIds: [],\n\n      columns,\n\n      reloadKey: 1,\n    };\n  },\n  watch: {\n    searchQuery: function () {\n      this.searchQueryIsDirty = true;\n      this.fetch();\n    },\n  },\n  created() {\n    this.setup();\n  },\n  methods: {\n    setup() {\n      this.data = [];\n      this.pagination = {};\n      this.searchQueryIsDirty = false;\n      this.selectedOrderIds = [];\n\n      this.reloadKey += 1;\n      this.fetch();\n    },\n\n    save() {\n      let vm = this;\n      if (!this.canSave) {\n        return false;\n      }\n      vm.isSaving = true;\n      axios\n          .post(\n              window.API_BASE +\n              \"/intelligence/clusters/\" +\n              this.clusterId +\n              \"/add-orders\",\n              {\n                erp_order_ids: this.selectedOrderIds,\n              }\n          )\n          .then(() => {\n            vm.isSaving = false;\n            vm.$message.success(\"Orders added to cluster successfully\");\n            vm.$emit(\"reload\");\n            vm.$emit(\"close\");\n          })\n          .catch((e) => {\n            console.log(e);\n            vm.isSaving = false;\n            vm.$message.error(\"Error adding orders to cluster\");\n          });\n    },\n\n    determineSearchParams(params) {\n      return {\n        results_per_page: 10,\n        q: this.searchQuery,\n        cluster_id: this.clusterId,\n        ...params,\n      };\n    },\n\n    fetch: _.debounce(function (params = {}) {\n      this.loading = true;\n      axios\n          .post(\n              window.API_BASE + \"/intelligence/clusters/search-erp-orders\",\n              this.determineSearchParams(params)\n          )\n          .then((r) => {\n            const pagination = {...this.pagination};\n            // Read total count from server\n            pagination.total = r.data.total;\n            this.loading = false;\n            this.data = r.data.data;\n            this.pagination = pagination;\n            this.searchQueryIsDirty = false;\n          })\n          .catch((e) => {\n            console.log(e);\n            this.$message.error(\"Error searching ERP orders\");\n          });\n    }, 500),\n\n    handleTableChange(pagination, filters, sorter) {\n      const pager = {...this.pagination};\n      pager.current = pagination.current;\n      this.pagination = pager;\n      this.fetch({\n        results_per_page: pagination.pageSize,\n        page: pagination.current,\n        sortField: sorter.field,\n        sortOrder: sorter.order,\n        ...filters,\n      });\n    },\n  },\n\n  computed: {\n    canSave() {\n      return this.selectedOrderIds.length > 0;\n    },\n\n    rowSelection() {\n      return {\n        onChange: (selectedRowKeys) => {\n          this.selectedOrderIds = selectedRowKeys;\n          // console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n        },\n        getCheckboxProps: (record) => ({\n          props: {\n            disabled: record.name === \"Disabled User\", // Column configuration not to be checked\n            name: record.name,\n          },\n        }),\n      };\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.product-name-wrapper {\n  display: flex;\n  flex-direction: row;\n\n  .left {\n    flex-shrink: 1;\n    display: flex;\n    align-items: center;\n  }\n\n  .right {\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n  }\n}\n\n.sidebar-wrapper {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .top {\n    flex: 1;\n    padding: 5px 20px;\n    overflow-y: scroll;\n  }\n\n  .bottom {\n    flex-shrink: 1;\n    background: #fff;\n    padding: 15px 20px;\n    border-top: 1px solid #e3e8ee;\n    text-align: right;\n\n    div {\n      float: right;\n\n      span {\n        margin-right: 20px;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=01b229f0&scoped=true&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&id=01b229f0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01b229f0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar-wrapper\"},[_c('div',{staticClass:\"top\"},[_c('loading-screen',{attrs:{\"is-loading\":_vm.isSaving}}),_c('a-page-header',{attrs:{\"title\":_vm.headerTitle},on:{\"back\":_vm.handleBack}}),(_vm.insightType === null)?_c('insights-summary-table',{attrs:{\"insights\":_vm.insights,\"selected-order-id\":_vm.erpOrderId},on:{\"set-insight-type\":_vm.setInsightType}}):_vm._e(),(_vm.insightType)?_c('group-insights-table',{attrs:{\"insights-applied-local\":_vm.insightsAppliedLocal,\"insights\":_vm.groupInsightsToShow},on:{\"toggle-insight-applied\":_vm.toggleInsightApplied}}):_vm._e()],1),_c('div',{staticClass:\"bottom\"},[_c('div',[_c('a-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.needsToSaveInsightsApplied},on:{\"click\":function($event){$event.preventDefault();return _vm.persistInsightsApplied($event)}}},[_vm._v(\"Save \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[(!_vm.insightsToShow.length)?_c('a-alert',{attrs:{\"type\":\"error\",\"message\":\"No insights for this order\"}}):_vm._e(),(_vm.insightsToShow.length)?_c('table',{staticClass:\"axpi-basic-table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.insightsGroupedByType),function(insights,type){return _c('tr',{key:type},[_c('td',[_vm._v(\" \"+_vm._s(_vm.formatType(type))+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.formatCost({cost: _vm.getMinSavings(insights), cost_currency: 'USD'}))+\" \"),(_vm.getMaxSavings(insights) !== _vm.getMinSavings(insights))?_c('span',[_vm._v(\"- \"+_vm._s(_vm.formatCost({cost: _vm.getMaxSavings(insights), cost_currency: 'USD'})))]):_vm._e()]),_c('td',{staticClass:\"action\"},[_c('a-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('set-insight-type', type)}}},[_vm._v(\"View\")])],1)])}),0)]):_vm._e(),_c('div',{staticClass:\"wrapper insights-list-wrapper\"})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Name\")]),_c('th',[_vm._v(\"Potential Savings\")]),_c('th')])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <!-- No matches -->\n    <a-alert type=\"error\"\n             message=\"No insights for this order\"\n             v-if=\"!insightsToShow.length\"/>\n    <!-- / No matches -->\n\n    <!-- Insights -->\n    <table v-if=\"insightsToShow.length\" class=\"axpi-basic-table\">\n      <thead>\n      <tr>\n        <th>Name</th>\n        <th>Potential Savings</th>\n        <th></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"(insights, type) in insightsGroupedByType\" :key=\"type\">\n        <td>\n          {{ formatType(type) }}\n        </td>\n        <td>\n<!--          {{ formatCost({cost: getSavingsForGroupAndSelectedOrder(insights), cost_currency: 'USD'}) }}-->\n          {{ formatCost({cost: getMinSavings(insights), cost_currency: 'USD'}) }} <span v-if=\"getMaxSavings(insights) !== getMinSavings(insights)\">- {{ formatCost({cost: getMaxSavings(insights), cost_currency: 'USD'}) }}</span>\n        </td>\n        <td class=\"action\">\n          <a-button @click.prevent=\"$emit('set-insight-type', type)\">View</a-button>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    <!-- / Insights -->\n\n    <div class=\"wrapper insights-list-wrapper\">\n\n    </div>\n  </div>\n</template>\n\n<script>\nlet _ = require('lodash');\nimport Orders from \"../../../../../mixins/Orders\";\nexport default {\n  name: \"InsightsSummaryTable\",\n  props: ['insights', 'selectedOrderId'],\n  mixins: [Orders],\n  computed: {\n    insightsToShow() {\n      if (this.selectedOrderId && this.insights.length) {\n        return _.filter(this.insights, insight => {\n          return String(insight.erp_order_id) === String(this.selectedOrderId);\n        });\n      }\n      return this.insights.length ? this.insights : [];\n    },\n\n    insightsGroupedByType() {\n      return _.groupBy(this.insights, 'insight_type');\n    }\n  },\n  methods: {\n    formatType(type) {\n      return type.charAt(0).toUpperCase() + type.slice(1);\n    },\n\n    getSavingsForGroupAndSelectedOrder(insights) {\n      return _.sum(_.map(_.filter(insights, insight => {\n        return String(insight.erp_order_id) === String(this.selectedOrderId);\n      }), 'potential_savings'));\n    },\n\n    getMinSavings(insights) {\n      return _.min(_.map(_.filter(insights, insight => {\n        return String(insight.erp_order_id) === String(this.selectedOrderId);\n      }), 'potential_savings'));\n    },\n\n    getMaxSavings(insights) {\n      return _.max(_.map(_.filter(insights, insight => {\n        return String(insight.erp_order_id) === String(this.selectedOrderId);\n      }), 'potential_savings'));\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightsSummaryTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightsSummaryTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsightsSummaryTable.vue?vue&type=template&id=3757a7a8&scoped=true&\"\nimport script from \"./InsightsSummaryTable.vue?vue&type=script&lang=js&\"\nexport * from \"./InsightsSummaryTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3757a7a8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{staticClass:\"axpi-basic-table\"},[_vm._m(0),_vm._l((_vm.insights),function(insight,i){return _c('insight-row',{key:i,attrs:{\"insights-applied-local\":_vm.insightsAppliedLocal,\"insight\":insight},on:{\"toggle-insight-applied\":function (insight) { return _vm.$emit('toggle-insight-applied', insight); }}})})],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"Details\")]),_c('th',[_vm._v(\"Match\")]),_c('th',[_vm._v(\"Potential Savings\")]),_c('th')])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',[_c('tr',{class:{'no-border-bottom': _vm.showMoreDetails}},[_c('td',[_c('a-avatar',{attrs:{\"size\":\"large\",\"src\":_vm.getImageSrc(_vm.getFirstProduct(_vm.insight))}})],1),_c('td',[_c('b',[_vm._v(_vm._s(_vm.getFirstProduct(_vm.insight)[\"name\"]))]),(!_vm.showMoreDetails)?_c('div',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleShowMoreDetails($event)}}},[_vm._v(\"Compare \"),_c('a-icon',{style:({fontSize: '10px'}),attrs:{\"type\":\"down\"}})],1)]):_vm._e()]),_c('td',[_vm._v(_vm._s(_vm.matchPercentage)+\"%\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.formatCost({cost: _vm.insight['potential_savings'], cost_currency: 'USD'}))+\" \")]),_c('td',{staticClass:\"action\"},[(!_vm.isInsightSelected)?_c('a-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.toggleInsightApplied($event)}}},[_vm._v(\"Select\")]):_c('a-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleInsightApplied($event)}}},[_vm._v(\"Deselect\")])],1)]),(_vm.showMoreDetails)?_c('tr',[_c('td'),_c('td',{attrs:{\"colspan\":\"4\"}},[_c('div',[_c('div',{staticClass:\"comparison-wrapper\"},[_c('a-row',{attrs:{\"gutter\":5}},[_c('a-col',{attrs:{\"span\":12}},[_c('p',[_c('b',[_vm._v(\"Country \")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.getProperty('country'))+\" \"),(_vm.doesPropertyMatch('country'))?_c('a-icon',{attrs:{\"type\":\"check-circle\",\"theme\":\"twoTone\",\"two-tone-color\":\"#52c41a\"}}):_c('a-icon',{attrs:{\"type\":\"close-circle\",\"theme\":\"twoTone\",\"two-tone-color\":\"#FF0000\"}})],1),_c('p',[_c('b',[_vm._v(\"Vendor \")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.getProperty('vendor'))+\" \"),(_vm.doesPropertyMatch('vendor'))?_c('a-icon',{attrs:{\"type\":\"check-circle\",\"theme\":\"twoTone\",\"two-tone-color\":\"#52c41a\"}}):_c('a-icon',{attrs:{\"type\":\"close-circle\",\"theme\":\"twoTone\",\"two-tone-color\":\"#FF0000\"}})],1),_c('p',[_c('b',[_vm._v(\"Business unit \")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.selectedOrganisationalUnit ? _vm.selectedOrganisationalUnit.name : '-')+\" \")])]),_c('a-col',{attrs:{\"span\":12}},[_c('p',[_c('b',[_vm._v(\"Volume difference \")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.volumePercentageDifference !== null ? _vm.volumePercentageDifference : 0)+\"% \")]),_c('p',[_c('b',[_vm._v(\"Unit price difference \")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.pricePerUnitPercentageDifference)+\"% \")]),_c('p',[_c('b',[_vm._v(\"Time difference \")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.timeDifference)+\" \")])])],1)],1),_c('a',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleShowMoreDetails($event)}}},[_vm._v(\"View less \"),_c('a-icon',{style:({fontSize: '10px'}),attrs:{\"type\":\"up\"}})],1)])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <tbody>\n  <tr :class=\"{'no-border-bottom': showMoreDetails}\">\n    <td>\n      <a-avatar size=\"large\" :src=\"getImageSrc(getFirstProduct(insight))\"/>\n    </td>\n    <td>\n      <b>{{ getFirstProduct(insight)[\"name\"] }}</b>\n\n      <div v-if=\"!showMoreDetails\">\n        <a href=\"#\" @click.prevent=\"toggleShowMoreDetails\">Compare\n          <a-icon type=\"down\" :style=\"{fontSize: '10px'}\"/>\n        </a>\n      </div>\n\n    </td>\n    <td>{{ matchPercentage }}%</td>\n    <td>\n      {{ formatCost({cost: insight['potential_savings'], cost_currency: 'USD'}) }}\n    </td>\n    <td class=\"action\">\n      <a-button v-if=\"!isInsightSelected\" @click.prevent=\"toggleInsightApplied\">Select</a-button>\n      <a-button type=\"danger\" v-else @click.prevent=\"toggleInsightApplied\">Deselect</a-button>\n    </td>\n  </tr>\n  <tr v-if=\"showMoreDetails\">\n    <td></td>\n    <td colspan=\"4\">\n      <div>\n        <div class=\"comparison-wrapper\">\n\n          <a-row :gutter=\"5\">\n            <a-col :span=\"12\">\n              <!-- Country comparison -->\n              <p>\n                <b>Country </b><br>\n                {{ getProperty('country') }}\n                <a-icon v-if=\"doesPropertyMatch('country')\"\n                        type=\"check-circle\" theme=\"twoTone\" two-tone-color=\"#52c41a\"></a-icon>\n                <a-icon v-else type=\"close-circle\" theme=\"twoTone\" two-tone-color=\"#FF0000\"></a-icon>\n              </p>\n              <!-- / Country comparison -->\n\n              <!-- Country comparison -->\n              <p>\n                <b>Vendor </b><br>\n                {{ getProperty('vendor') }}\n                <a-icon v-if=\"doesPropertyMatch('vendor')\"\n                        type=\"check-circle\" theme=\"twoTone\" two-tone-color=\"#52c41a\"></a-icon>\n                <a-icon v-else type=\"close-circle\" theme=\"twoTone\" two-tone-color=\"#FF0000\"></a-icon>\n              </p>\n              <!-- / Country comparison -->\n\n              <!-- Business unit -->\n              <p>\n                <b>Business unit </b><br>\n                {{ selectedOrganisationalUnit ? selectedOrganisationalUnit.name : '-' }}\n              </p>\n              <!-- / Business unit -->\n            </a-col>\n            <a-col :span=\"12\">\n              <!-- Volume difference -->\n<!--              <p v-if=\"volumePercentageDifference !== null\">-->\n              <p>\n                <b>Volume difference </b><br>\n                {{ volumePercentageDifference !== null ? volumePercentageDifference : 0 }}%\n              </p>\n              <!-- / Volume difference -->\n\n              <!-- Unit price difference -->\n              <p>\n                <b>Unit price difference </b><br>\n                {{ pricePerUnitPercentageDifference }}%\n              </p>\n              <!-- / Unit price difference -->\n\n              <!-- Time difference -->\n              <p>\n                <b>Time difference </b><br>\n                {{ timeDifference }}\n              </p>\n              <!-- / Time difference -->\n            </a-col>\n          </a-row>\n\n        </div>\n\n        <a href=\"#\" style=\"margin-top: 5px;\" @click.prevent=\"toggleShowMoreDetails\">View less\n          <a-icon :style=\"{fontSize: '10px'}\" type=\"up\"/>\n        </a>\n      </div>\n    </td>\n  </tr>\n  </tbody>\n</template>\n\n<script>\nimport Orders from \"../../../../../../mixins/Orders\";\nimport {mapGetters} from \"vuex\";\nconst _ = require('lodash');\nimport moment from \"moment\";\n\nexport default {\n  props: [\"insight\", \"insightsAppliedLocal\"],\n  mixins: [Orders],\n  data() {\n    return {\n      showMoreDetails: false\n    }\n  },\n  computed: {\n    ...mapGetters('clusterViewer', {\n      ordersWithMatches: 'ordersWithMatches'\n    }),\n\n    ...mapGetters('auth', {\n      selectedOrganisationalUnit: 'selectedOrganisationalUnit'\n    }),\n\n    matchPercentage() {\n      let properties = ['country', 'name', 'vendor'];\n      let propertiesThatMatch = [];\n\n      _.each(properties, property => {\n        if (this.doesPropertyMatch(property)) {\n          propertiesThatMatch.push(property);\n        }\n      });\n\n      return Math.round(100 * (propertiesThatMatch.length / properties.length));\n    },\n\n    baseVolume() {\n      return this.getProperty('volume');\n    },\n\n    comparedToVolume() {\n      return this.getProperty('volume', 'compared_to');\n    },\n\n    volumePercentageDifference() {\n      let volumeOfComparedTo = this.getProperty('volume', 'compared_to');\n      let volumeOfBase = this.getProperty('volume');\n\n      if (volumeOfComparedTo && volumeOfBase) {\n        let increase = volumeOfComparedTo - volumeOfBase;\n        let percentageDifference = (increase / volumeOfBase) * 100;\n        return Math.round(percentageDifference * 100) / 100;\n      }\n\n      return null;\n    },\n\n    pricePerUnitPercentageDifference() {\n      let basePrice = this.insight['price_per_unit']['base'];\n      let comparedToPrice = this.insight['price_per_unit']['compared_to'];\n\n      let increase = comparedToPrice - basePrice;\n      let percentageDifference = (increase / basePrice) * 100;\n      return Math.round(percentageDifference * 100) / 100;\n    },\n\n    isInsightSelected() {\n      return this.insightsAppliedLocal.includes(this.insight['insight_id']);\n    },\n\n    timeDifference() {\n     let comparedToErpOrder = _.find(this.ordersWithMatches, {\n       '_id': this.insight['compared_to_erp_order_id']\n     });\n     let comparedToDatePurchased = comparedToErpOrder['PO Initial Create Date']\n      let comparedToMoment = null;\n      if (comparedToDatePurchased && comparedToDatePurchased['$date'] && comparedToDatePurchased['$date']['$numberLong']) {\n        let timestamp1 = comparedToDatePurchased['$date']['$numberLong'] / 1000;\n        comparedToMoment = moment.unix(timestamp1);\n      }\n\n      let baseOrder = _.find(this.ordersWithMatches, {\n        '_id': this.insight['erp_order_id']\n      });\n      let baseOrderDatePurchased = baseOrder['PO Initial Create Date']\n      let baseOrderMoment = null;\n      if (baseOrderDatePurchased && baseOrderDatePurchased['$date'] && baseOrderDatePurchased['$date']['$numberLong']) {\n        let timestamp2 = baseOrderDatePurchased['$date']['$numberLong'] / 1000;\n        baseOrderMoment = moment.unix(timestamp2);\n      }\n\n      if (comparedToMoment && baseOrderMoment) {\n        return comparedToMoment.from(baseOrderMoment);\n      }\n      return '-';\n    }\n  },\n  methods: {\n    getFirstProduct(insight) {\n      let order = _.find(this.ordersWithMatches, {\n        '_id': insight['compared_to_erp_order_id']\n      });\n      return order[\"products\"][0];\n    },\n\n    getBaseErpOrder(insight) {\n      return _.find(this.ordersWithMatches, {\n        '_id': insight['erp_order_id']\n      });\n    },\n\n    getComparedToErpOrder(insight) {\n      return _.find(this.ordersWithMatches, {\n        '_id': insight['compared_to_erp_order_id']\n      });\n    },\n\n    getFirstBaseProduct(insight) {\n      // return insight[\"products\"][\"base\"][0];\n      let order = _.find(this.ordersWithMatches, {\n        '_id': insight['erp_order_id']\n      });\n      return order[\"products\"][0];\n    },\n\n    toggleShowMoreDetails() {\n      this.showMoreDetails = !this.showMoreDetails;\n    },\n\n    getImageSrc(product) {\n      if (product[\"imageURLs\"] && product[\"imageURLs\"].length) {\n        return product[\"imageURLs\"][0];\n      }\n    },\n\n    getProperty(property, type = 'compared_to') {\n      switch (property) {\n        case 'country':\n          if (type === 'compared_to') {\n            return this.getFirstProduct(this.insight)['country'];\n          } else {\n            return this.getFirstBaseProduct(this.insight)['country'];\n          }\n        case 'name':\n          if (type === 'compared_to') {\n            return this.getFirstProduct(this.insight)['name'];\n          } else {\n            return this.getFirstBaseProduct(this.insight)['name'];\n          }\n        case 'vendor':\n          if (type === 'compared_to') {\n            return this.getFirstProduct(this.insight)['vendor'];\n          } else {\n            return this.getFirstBaseProduct(this.insight)['vendor'];\n          }\n        case 'volume': {\n          let product = null;\n          if (type === 'compared_to') {\n            product = this.getFirstProduct(this.insight);\n          } else {\n            product = this.getFirstBaseProduct(this.insight);\n          }\n          let volume = null;\n          if (product['normalisedQuantity'] && product['normalisedQuantity']['entity'] === 'volume') {\n            volume = product['normalisedQuantity']['normalisedUnitMagnitude'];\n          }\n          // volume = 5;\n          return volume;\n        }\n        default:\n          return null;\n      }\n    },\n\n    doesPropertyMatch(property) {\n      return this.getProperty(property) === this.getProperty(property, 'base')\n    },\n\n    toggleInsightApplied() {\n      this.$emit('toggle-insight-applied', this.insight);\n    }\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\ntd {\n  vertical-align: top;\n}\n\n.comparison-wrapper {\n  margin-top: 10px;\n\n  b {\n    font-weight: 500;\n    margin-right: 5px;\n  }\n\n  p {\n    .anticon {\n      margin-left: 5px;\n    }\n  }\n}\n\n.no-border-bottom {\n  border-bottom: none !important;\n}\n</style>","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsightRow.vue?vue&type=template&id=27a0ab92&scoped=true&\"\nimport script from \"./InsightRow.vue?vue&type=script&lang=js&\"\nexport * from \"./InsightRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InsightRow.vue?vue&type=style&index=0&id=27a0ab92&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27a0ab92\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <table class=\"axpi-basic-table\">\n      <thead>\n      <tr>\n        <th colspan=\"2\">Details</th>\n        <th>Match</th>\n        <th>Potential Savings</th>\n        <th></th>\n      </tr>\n      </thead>\n<!--      <tbody>-->\n      <insight-row v-for=\"(insight, i) in insights\" :key=\"i\"\n                   :insights-applied-local=\"insightsAppliedLocal\"\n                   :insight=\"insight\"\n                   @toggle-insight-applied=\"insight => $emit('toggle-insight-applied', insight)\"></insight-row>\n<!--      </tbody>-->\n    </table>\n  </div>\n</template>\n\n<script>\nimport InsightRow from \"./GroupInsightsTable/InsightRow.vue\";\n\nexport default {\n  name: \"GroupInsightsTable\",\n  components: {InsightRow},\n  props: [\"insights\", \"insightsAppliedLocal\"],\n  methods: {},\n};\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupInsightsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupInsightsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GroupInsightsTable.vue?vue&type=template&id=419ba138&scoped=true&\"\nimport script from \"./GroupInsightsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupInsightsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"419ba138\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"sidebar-wrapper\">\n    <!-- Top -->\n    <div class=\"top\">\n      <loading-screen :is-loading=\"isSaving\"></loading-screen>\n\n      <!-- Header -->\n      <a-page-header :title=\"headerTitle\" @back=\"handleBack\"></a-page-header>\n      <!-- / Header -->\n\n      <!--      <b style=\"display: block; padding-bottom: 20px;\">Not showing properly where refactoring to be like Lucidchart</b>-->\n      <!--      <b style=\"display: block; padding-bottom: 20px;\">Showing insights for ERP order ID: {{ erpOrderId }}</b>-->\n\n      <insights-summary-table v-if=\"insightType === null\"\n                              @set-insight-type=\"setInsightType\"\n                              :insights=\"insights\"\n                              :selected-order-id=\"erpOrderId\"></insights-summary-table>\n\n      <group-insights-table v-if=\"insightType\"\n                            @toggle-insight-applied=\"toggleInsightApplied\"\n                            :insights-applied-local=\"insightsAppliedLocal\"\n                            :insights=\"groupInsightsToShow\"></group-insights-table>\n\n      <!--      <insight v-for=\"(theInsight, i) in insights\" :key=\"i\" :insight=\"theInsight\"></insight>-->\n    </div>\n    <!-- / Top -->\n\n    <!-- Bottom -->\n    <div class=\"bottom\">\n      <div>\n        <a-button type=\"primary\"\n                  @click.prevent=\"persistInsightsApplied\"\n                  :disabled=\"!needsToSaveInsightsApplied\">Save\n        </a-button>\n      </div>\n    </div>\n    <!-- / Bottom -->\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nconst _ = require(\"lodash\");\nimport LoadingScreen from \"../../../../components/LoadingScreen\";\n// import Insight from \"./InsightsSidebar/Insight\";\nimport InsightsSummaryTable from \"./InsightsSidebar/InsightsSummaryTable\";\nimport GroupInsightsTable from \"./InsightsSidebar/GroupInsightsTable\";\nimport {mapGetters} from \"vuex\";\n\nexport default {\n  name: \"InsightsSidebar\",\n  props: [\"clusterId\", \"erpOrderId\", \"insightsApplied\"],\n  components: {InsightsSummaryTable, GroupInsightsTable, LoadingScreen},\n  data() {\n    return {\n      insightType: null,\n      insightsAppliedSaved: [],\n      insightsAppliedLocal: [],\n      isSaving: false\n    };\n  },\n  watch: {\n    erpOrderId: function () {\n      this.insightType = null;\n      this.insightsAppliedLocal = _.cloneDeep(this.insightsApplied);\n    },\n  },\n  created() {\n    this.insightsAppliedSaved = _.cloneDeep(this.insightsApplied);\n    this.insightsAppliedLocal = _.cloneDeep(this.insightsApplied);\n  },\n  methods: {\n    setInsightType(type) {\n      this.insightType = type;\n    },\n\n    handleBack() {\n      if (this.insightType) {\n        this.insightType = null;\n      } else {\n        this.$emit('close');\n      }\n    },\n\n    toggleInsightApplied(insight) {\n      this.insightsAppliedLocal = _.xor(this.insightsAppliedLocal, [insight['insight_id']]);\n    },\n\n    persistInsightsApplied() {\n      if (!this.needsToSaveInsightsApplied) {\n        return false;\n      }\n      let vm = this;\n      vm.isSaving = true;\n      axios.put(window.API_BASE + '/intelligence/clusters/' + this.clusterId, {\n        insight_ids: vm.insightsAppliedLocal\n      }).then(() => {\n        vm.$emit('insights-saved', vm.insightsAppliedLocal);\n        vm.insightsAppliedSaved = vm.insightsAppliedLocal;\n        vm.$message.success('Insights saved successfully');\n        vm.isSaving = false;\n      }).catch(e => {\n        console.log(e);\n        vm.isSaving = false;\n        vm.$message.error('Error saving insights');\n      });\n    }\n  },\n\n  computed: {\n    ...mapGetters('clusterViewer', {\n      insights: 'insights'\n    }),\n\n    headerTitle() {\n      if (this.insightType) {\n        return this.insightType.charAt(0).toUpperCase() + this.insightType.slice(1) + ' Insights';\n      }\n      return 'Insights';\n    },\n\n    groupInsightsToShow() {\n      return _.filter(this.insights, insight => {\n        let erpOrderIdFilter = String(insight.erp_order_id) === String(this.erpOrderId);\n        let erpTypeFilter = String(insight.insight_type) === String(this.insightType);\n        return erpOrderIdFilter && erpTypeFilter;\n      });\n    },\n\n    needsToSaveInsightsApplied() {\n      let diffOne = _.difference(\n          this.insightsAppliedLocal, this.insightsAppliedSaved\n      );\n      let diffTwo = _.difference(\n          this.insightsAppliedSaved, this.insightsAppliedLocal\n      );\n      return _.union(diffOne, diffTwo).length > 0;\n    }\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.sidebar-wrapper {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .top {\n    flex: 1;\n    padding: 5px 20px;\n    overflow-y: scroll;\n  }\n\n  .bottom {\n    flex-shrink: 1;\n    background: #fff;\n    padding: 15px 20px;\n    border-top: 1px solid #e3e8ee;\n    text-align: right;\n\n    div {\n      float: right;\n\n      span {\n        margin-right: 20px;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightsSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightsSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsightsSidebar.vue?vue&type=template&id=233a31f8&scoped=true&\"\nimport script from \"./InsightsSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./InsightsSidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InsightsSidebar.vue?vue&type=style&index=0&id=233a31f8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"233a31f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cluster-filters\",staticStyle:{\"display\":\"inline\"}},[_c('a-popover',{attrs:{\"placement\":\"bottomRight\",\"trigger\":\"click\"}},[_c('template',{slot:\"title\"},[_c('div',{staticClass:\"filter-title-wrapper\"},[_c('div',{staticClass:\"left\"},[_c('a-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){$event.preventDefault();return _vm.clear($event)}}},[_vm._v(\"Clear\")])],1),_c('div',{staticClass:\"center\"},[_vm._v(\" Filters \")]),_c('div',{staticClass:\"right\"},[_c('a-button',{attrs:{\"disabled\":!_vm.hasUnsavedChanges,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.save}},[_vm._v(\"Save \")])],1)])]),_c('template',{slot:\"content\"},[_c('div',{staticClass:\"filters-inner\"},[_c('div',[_c('div',{staticClass:\"filter-wrapper\"},[_c('div',{staticClass:\"filter-header\"},[_c('a-checkbox',{model:{value:(_vm.showSelectedXOptionFilter),callback:function ($$v) {_vm.showSelectedXOptionFilter=$$v},expression:\"showSelectedXOptionFilter\"}},[_vm._v(\" Measure \")])],1),(_vm.showSelectedXOptionFilter)?_c('div',{staticClass:\"filter\"},[_c('a-select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.selectedXOptionLocal),callback:function ($$v) {_vm.selectedXOptionLocal=$$v},expression:\"selectedXOptionLocal\"}},_vm._l((_vm.xOptions),function(option,i){return _c('a-select-option',{key:i,attrs:{\"value\":option}},[_vm._v(\" \"+_vm._s(_vm.formatGraphLabel(option))+\" \")])}),1)],1):_vm._e()]),_c('div',{staticClass:\"filter-wrapper\"},[_c('div',{staticClass:\"filter-header\"},[_c('a-checkbox',{model:{value:(_vm.showStartDateFilter),callback:function ($$v) {_vm.showStartDateFilter=$$v},expression:\"showStartDateFilter\"}},[_vm._v(\" Start Date \")])],1),(_vm.showStartDateFilter)?_c('div',{staticClass:\"filter\"},[_c('a-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"Start\"},model:{value:(_vm.startDateLocal),callback:function ($$v) {_vm.startDateLocal=$$v},expression:\"startDateLocal\"}})],1):_vm._e()]),_c('div',{staticClass:\"filter-wrapper filter-last\"},[_c('div',{staticClass:\"filter-header\"},[_c('a-checkbox',{model:{value:(_vm.showEndDateFilter),callback:function ($$v) {_vm.showEndDateFilter=$$v},expression:\"showEndDateFilter\"}},[_vm._v(\" End Date \")])],1),(_vm.showEndDateFilter)?_c('div',{staticClass:\"filter\"},[_c('a-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"End\"},model:{value:(_vm.endDateLocal),callback:function ($$v) {_vm.endDateLocal=$$v},expression:\"endDateLocal\"}})],1):_vm._e()])]),(_vm.activeGraph === 'orders')?_c('div',[_c('div',{staticClass:\"filter-wrapper filter-last\"},[_c('div',{staticClass:\"filter-header\"},[_c('a-checkbox',{model:{value:(_vm.showSelectedColourByOptionFilter),callback:function ($$v) {_vm.showSelectedColourByOptionFilter=$$v},expression:\"showSelectedColourByOptionFilter\"}},[_vm._v(\" Colour \")])],1),(_vm.showSelectedColourByOptionFilter)?_c('div',{staticClass:\"filter\"},[_c('a-select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.selectedColourByOptionLocal),callback:function ($$v) {_vm.selectedColourByOptionLocal=$$v},expression:\"selectedColourByOptionLocal\"}},_vm._l((_vm.colourByOptions),function(option){return _c('a-select-option',{key:option.key,attrs:{\"value\":option.key}},[_vm._v(\" \"+_vm._s(option['label'])+\" \")])}),1)],1):_vm._e()]),_c('div',{staticClass:\"filter-wrapper filter-last\"},[_c('div',{staticClass:\"filter-header\"},[_c('a-checkbox',{model:{value:(_vm.showSelectedSizeByOptionFilter),callback:function ($$v) {_vm.showSelectedSizeByOptionFilter=$$v},expression:\"showSelectedSizeByOptionFilter\"}},[_vm._v(\" Size \")])],1),(_vm.showSelectedSizeByOptionFilter)?_c('div',{staticClass:\"filter\"},[_c('a-select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.selectedSizeByOptionLocal),callback:function ($$v) {_vm.selectedSizeByOptionLocal=$$v},expression:\"selectedSizeByOptionLocal\"}},_vm._l((_vm.sizeByOptions),function(option,i){return _c('a-select-option',{key:i,attrs:{\"value\":option}},[_vm._v(\" \"+_vm._s(option)+\" \")])}),1)],1):_vm._e()])]):_vm._e(),(_vm.activeGraph === 'demand')?_c('div',[_c('div',{staticClass:\"filter-wrapper\"},[_c('div',{staticClass:\"filter-header\"},[_c('a-checkbox',{model:{value:(_vm.showSelectedBinByOptionFilter),callback:function ($$v) {_vm.showSelectedBinByOptionFilter=$$v},expression:\"showSelectedBinByOptionFilter\"}},[_vm._v(\" Bin \")])],1),(_vm.showSelectedBinByOptionFilter)?_c('div',{staticClass:\"filter\"},[_c('a-select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.selectedBinByOptionLocal),callback:function ($$v) {_vm.selectedBinByOptionLocal=$$v},expression:\"selectedBinByOptionLocal\"}},_vm._l((_vm.binByOptions),function(option,i){return _c('a-select-option',{key:i,attrs:{\"value\":option}},[_vm._v(\" \"+_vm._s(_vm.formatGraphLabel(option))+\" \")])}),1)],1):_vm._e()])]):_vm._e()])]),_c('a-button',{attrs:{\"icon\":\"line-chart\"}},[_vm._v(\"Graph\")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"display: inline;\" class=\"cluster-filters\">\n    <a-popover placement=\"bottomRight\" trigger=\"click\">\n      <template slot=\"title\">\n        <div class=\"filter-title-wrapper\">\n          <div class=\"left\">\n            <a-button size=\"small\" @click.prevent=\"clear\">Clear</a-button>\n          </div>\n          <div class=\"center\">\n            Filters\n          </div>\n          <div class=\"right\">\n            <a-button :disabled=\"!hasUnsavedChanges\" @click=\"save\"\n                      type=\"primary\" size=\"small\">Save\n            </a-button>\n          </div>\n        </div>\n      </template>\n      <template slot=\"content\">\n        <div class=\"filters-inner\">\n\n          <!-- Common filters -->\n          <div>\n            <!-- Measure -->\n            <div class=\"filter-wrapper\">\n              <div class=\"filter-header\">\n                <a-checkbox v-model=\"showSelectedXOptionFilter\">\n                  Measure\n                </a-checkbox>\n              </div>\n              <div class=\"filter\" v-if=\"showSelectedXOptionFilter\">\n                <!--                <div class=\"form-label\">Measure</div>-->\n                <a-select v-model=\"selectedXOptionLocal\" style=\"width: 200px;\">\n                  <a-select-option v-for=\"(option, i) in xOptions\" :value=\"option\" :key=\"i\">\n                    {{ formatGraphLabel(option) }}\n                  </a-select-option>\n                </a-select>\n              </div>\n            </div>\n            <!-- / Measure -->\n\n            <!-- Start date -->\n            <div class=\"filter-wrapper\">\n              <div class=\"filter-header\">\n                <a-checkbox v-model=\"showStartDateFilter\">\n                  Start Date\n                </a-checkbox>\n              </div>\n              <div class=\"filter\" v-if=\"showStartDateFilter\">\n                <a-date-picker\n                    style=\"width: 100%\"\n                    v-model=\"startDateLocal\"\n                    placeholder=\"Start\"\n                />\n              </div>\n            </div>\n            <!-- / Start date -->\n\n            <!-- End date -->\n            <div class=\"filter-wrapper filter-last\">\n              <div class=\"filter-header\">\n                <a-checkbox v-model=\"showEndDateFilter\">\n                  End Date\n                </a-checkbox>\n              </div>\n              <div class=\"filter\" v-if=\"showEndDateFilter\">\n                <a-date-picker\n                    style=\"width: 100%\"\n                    v-model=\"endDateLocal\"\n                    placeholder=\"End\"\n                />\n              </div>\n            </div>\n            <!-- / End date -->\n          </div>\n          <!-- / Common filters -->\n\n          <!-- Orders graph -->\n          <div v-if=\"activeGraph === 'orders'\">\n            <!-- Colour by -->\n            <div class=\"filter-wrapper filter-last\">\n              <div class=\"filter-header\">\n                <a-checkbox v-model=\"showSelectedColourByOptionFilter\">\n                  Colour\n                </a-checkbox>\n              </div>\n              <div class=\"filter\" v-if=\"showSelectedColourByOptionFilter\">\n                <a-select v-model=\"selectedColourByOptionLocal\" style=\"width: 200px;\">\n                  <a-select-option v-for=\"option in colourByOptions\" :value=\"option.key\" :key=\"option.key\">\n                    {{ option['label'] }}\n                  </a-select-option>\n                </a-select>\n              </div>\n            </div>\n            <!-- / Colour by -->\n\n            <!-- Size by -->\n            <div class=\"filter-wrapper filter-last\">\n              <div class=\"filter-header\">\n                <a-checkbox v-model=\"showSelectedSizeByOptionFilter\">\n                  Size\n                </a-checkbox>\n              </div>\n              <div class=\"filter\" v-if=\"showSelectedSizeByOptionFilter\">\n                <a-select v-model=\"selectedSizeByOptionLocal\" style=\"width: 200px;\">\n                  <a-select-option v-for=\"(option, i) in sizeByOptions\" :value=\"option\" :key=\"i\">\n                    {{ option }}\n                  </a-select-option>\n                </a-select>\n              </div>\n            </div>\n            <!-- / Size by -->\n          </div>\n          <!-- / Orders graph -->\n\n          <!-- Demand graph -->\n          <div v-if=\"activeGraph === 'demand'\">\n            <!-- Bin by -->\n            <div class=\"filter-wrapper\">\n              <div class=\"filter-header\">\n                <a-checkbox v-model=\"showSelectedBinByOptionFilter\">\n                  Bin\n                </a-checkbox>\n              </div>\n              <div class=\"filter\" v-if=\"showSelectedBinByOptionFilter\">\n                <a-select v-model=\"selectedBinByOptionLocal\" style=\"width: 200px;\">\n                  <a-select-option v-for=\"(option, i) in binByOptions\" :value=\"option\" :key=\"i\">\n                    {{ formatGraphLabel(option) }}\n                  </a-select-option>\n                </a-select>\n              </div>\n            </div>\n            <!-- / Bin by -->\n          </div>\n          <!-- / Demand graph -->\n\n        </div>\n      </template>\n      <a-button icon=\"line-chart\">Graph</a-button>\n    </a-popover>\n  </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions} from \"vuex\";\nconst _ = require('lodash');\n\nexport default {\n  name: \"ClusterFilters\",\n  data() {\n    return {\n      binByOptions: ['day', 'month', 'year'],\n\n      showSelectedXOptionFilter: true,\n      selectedXOptionLocal: null,\n\n      showSelectedColourByOptionFilter: false,\n      selectedColourByOptionLocal: null,\n\n      showSelectedSizeByOptionFilter: false,\n      selectedSizeByOptionLocal: null,\n\n      showSelectedBinByOptionFilter: false,\n      selectedBinByOptionLocal: null,\n\n      showStartDateFilter: false,\n      startDateLocal: null,\n\n      showEndDateFilter: false,\n      endDateLocal: null\n    }\n  },\n  created() {\n    this.selectedXOptionLocal = this.selectedXOption;\n\n    this.selectedColourByOptionLocal = this.selectedColourByOption;\n    if (this.selectedColourByOptionLocal) {\n      this.showSelectedColourByOptionFilter = true;\n    }\n\n    this.selectedSizeByOptionLocal = this.selectedSizeByOption;\n    if (this.selectedSizeByOptionLocal) {\n      this.showSelectedSizeByOptionFilter = true;\n    }\n\n    this.selectedBinByOptionLocal = this.selectedBinByOption;\n    if (this.selectedBinByOptionLocal) {\n      this.showSelectedBinByOptionFilter = true;\n    }\n\n    this.startDateLocal = this.startDate;\n    if (this.startDateLocal) {\n      this.showStartDateFilter = true;\n    }\n\n    this.endDateLocal = this.endDate;\n    if (this.endDateLocal) {\n      this.showEndDateFilter = true;\n    }\n  },\n  watch: {\n    selectedXOption(newVal) {\n      this.selectedXOptionLocal = newVal;\n      if (newVal) {\n        this.showSelectedXOptionFilter = true;\n      }\n    },\n\n    selectedColourByOption(newVal) {\n      if (newVal) {\n        this.showSelectedColourByOptionFilter = true;\n        this.selectedColourByOptionLocal = newVal['key'];\n      } else {\n        this.selectedColourByOptionLocal = null;\n      }\n    },\n\n    selectedBinByOption(newVal) {\n      this.selectedBinByOptionLocal = newVal;\n      if (newVal) {\n        this.showSelectedBinByOptionFilter = true;\n      }\n    },\n\n    startDate(newVal) {\n      this.startDateLocal = newVal;\n      // if (newVal) {\n      //   this.showStartDateFilter = true;\n      // }\n    },\n\n    endDate(newVal) {\n      this.endDateLocal = newVal;\n      // if (newVal) {\n      //   this.showEndDateFilter = true;\n      // }\n    }\n  },\n  computed: {\n    ...mapGetters('clusterViewer', {\n      activeGraph: 'activeGraph',\n\n      xOptions: 'xOptions',\n      selectedXOption: 'selectedXOption',\n\n      colourByOptions: 'colourByOptions',\n      selectedColourByOption: 'selectedColourByOption',\n\n      sizeByOptions: 'sizeByOptions',\n      selectedSizeByOption: 'selectedSizeByOption',\n\n      selectedBinByOption: 'selectedBinByOption',\n\n      startDate: 'startDate',\n      endDate: 'endDate'\n    }),\n\n    xType: {\n      get() {\n        return this.selectedXOption;\n      },\n      set(val) {\n        this.selectXOption(val);\n      }\n    },\n\n    colourBy: {\n      get() {\n        return this.selectedColourByOption;\n      },\n      set(val) {\n        this.selectColourByOption(val);\n      }\n    },\n\n    sizeBy: {\n      get() {\n        return this.selectedSizeByOption;\n      },\n      set(val) {\n        this.selectSizeByOption(val);\n      }\n    },\n\n    binBy: {\n      get() {\n        return this.selectedBinByOption;\n      },\n      set(val) {\n        this.selectBinByOption(val);\n      }\n    },\n\n    hasUnsavedChanges() {\n      let hasUnsaved = false;\n\n      if (this.selectedXOptionLocal !== this.selectedXOption) {\n        hasUnsaved = true;\n      }\n\n      if (!this.showSelectedColourByOptionFilter && this.selectedColourByOption) {\n        hasUnsaved = true;\n      }\n      if (this.selectedColourByOptionLocal !== this.selectedColourByOption) {\n        hasUnsaved = true;\n      }\n\n      if (!this.showSelectedSizeByOptionFilter && this.selectedSizeByOption) {\n        hasUnsaved = true;\n      }\n      if (this.selectedSizeByOptionLocal !== this.selectedSizeByOption) {\n        hasUnsaved = true;\n      }\n\n      if (this.showSelectedBinByOptionFilter && this.selectedBinByOption) {\n        hasUnsaved = true;\n      }\n      if (this.selectedBinByOptionLocal !== this.selectedBinByOption) {\n        hasUnsaved = true;\n      }\n\n      if (this.showStartDateFilter && this.startDate) {\n        hasUnsaved = true;\n      }\n      if (this.startDateLocal !== this.startDate) {\n        hasUnsaved = true;\n      }\n\n      if (this.showEndDateFilter && this.endDate) {\n        hasUnsaved = true;\n      }\n      if (this.endDateLocal !== this.endDate) {\n        hasUnsaved = true;\n      }\n\n      return hasUnsaved;\n    }\n  },\n  methods: {\n    ...mapActions('clusterViewer', {\n      selectXOption: 'selectXOption',\n      selectColourByOption: 'selectColourByOption',\n      selectSizeByOption: 'selectSizeByOption',\n      selectBinByOption: 'selectBinByOption',\n      setStartDate: 'setStartDate',\n      setEndDate: 'setEndDate',\n      incrementClusterViewerReloadKey: 'incrementClusterViewerReloadKey'\n    }),\n\n    clear() {\n      this.showSelectedXOptionFilter = false;\n      this.showSelectedColourByOptionFilter = false;\n      this.showSelectedSizeByOptionFilter = false;\n      this.save();\n      this.incrementClusterViewerReloadKey();\n    },\n\n    save() {\n      if (this.showSelectedXOptionFilter) {\n        this.selectXOption(this.selectedXOptionLocal);\n      } else {\n        this.selectXOption('Quantity');\n      }\n\n      if (this.showSelectedColourByOptionFilter) {\n        this.selectColourByOption(\n            _.find(this.colourByOptions, {key: this.selectedColourByOptionLocal})\n        );\n      } else {\n        this.selectColourByOption(null);\n      }\n\n      if (this.showSelectedSizeByOptionFilter) {\n        this.selectSizeByOption(this.selectedSizeByOptionLocal);\n      } else {\n        this.selectSizeByOption(null);\n      }\n\n      if (this.showSelectedBinByOptionFilter) {\n        this.selectBinByOption(this.selectedBinByOptionLocal);\n      } else {\n        this.selectBinByOption('day');\n      }\n\n      if (this.showStartDateFilter) {\n        this.setStartDate(this.startDateLocal);\n      } else {\n        this.setStartDate(null);\n      }\n\n      if (this.showEndDateFilter) {\n        this.setEndDate(this.endDateLocal);\n      } else {\n        this.setEndDate(null);\n      }\n\n      this.incrementClusterViewerReloadKey();\n    },\n\n    formatGraphLabel(label) {\n      return label.charAt(0).toUpperCase() + label.substring(1);\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClusterFilters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClusterFilters.vue?vue&type=template&id=5366bb4c&scoped=true&\"\nimport script from \"./ClusterFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./ClusterFilters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5366bb4c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"cluster-show\">\n    <loading-screen\n        :is-loading=\"isLoading || isLoadingInsights || isLoadingOrdersWithMatches || isDeleting\"></loading-screen>\n\n    <a-layout>\n      <a-layout style=\"padding: 7px 30px\">\n        <div class=\"wrapper\">\n          <a-page-header\n              v-if=\"cluster\"\n              :title=\"cluster.name\"\n              @back=\"backToAllClusters\"\n          >\n            <template slot=\"extra\">\n              <a-button icon=\"download\" @click.prevent=\"exportCsv\"></a-button>\n\n              <cluster-filters></cluster-filters>\n\n              <a-button\n                  type=\"primary\"\n                  icon=\"plus\"\n                  @click.prevent=\"() => toggleSidebar()\"\n              >Add Order\n              </a-button>\n            </template>\n          </a-page-header>\n\n          <div v-if=\"cluster && !isLoadingOrdersWithMatches\">\n            <!-- Graphs -->\n            <div class=\"cluster-graphs-wrapper\">\n              <cluster-graphs\n                  :key=\"reloadKey\"\n                  :graph-reload-key=\"graphReloadKey\"\n                  :cluster-id=\"cluster['_id']\"\n              ></cluster-graphs>\n            </div>\n            <!-- / Graphs -->\n\n            <!-- Orders & Insights -->\n            <a-tabs v-if=\"activeGraph !== 'product-details'\">\n              <a-tab-pane tab=\"All Orders\">\n                <cluster-orders-table\n                    :key=\"reloadKey\"\n                    :cluster-id=\"cluster['_id']\"\n                    @record-selected=\"(record) => viewInsightsFor(record)\"\n                    @remove-order=\"removeOrder\"\n                ></cluster-orders-table>\n              </a-tab-pane>\n            </a-tabs>\n            <!-- / Orders & Insights -->\n          </div>\n        </div>\n      </a-layout>\n      <a-layout-sider\n          :width=\"sidebarType === 'add-order' ? 500 : 500\"\n          theme=\"dark\"\n          :style=\"{ background: '#f7fafc', borderLeft: '1px solid #e3e8ee' }\"\n          :collapsed-width=\"0\"\n          v-model=\"shouldHideSidebar\"\n          :trigger=\"null\"\n          collapsible\n      >\n        <sidebar\n            v-if=\"shouldShowSidebar && sidebarType === 'add-order'\"\n            @close=\"() => toggleSidebar()\"\n            @reload=\"incrementReloadKey\"\n            :cluster-id=\"cluster['_id']\"\n        ></sidebar>\n\n        <insights-sidebar\n            v-if=\"shouldShowSidebar && sidebarType === 'insights'\"\n            @close=\"() => toggleSidebar('insights')\"\n            @reload=\"incrementReloadKey\"\n            @insights-saved=\"incrementReloadKey\"\n            :cluster-id=\"cluster['_id']\"\n            :insights-applied=\"insightsApplied\"\n            :erp-order-id=\"selectedErpOrderId\"\n            :insights=\"insights\"\n\n        ></insights-sidebar>\n      </a-layout-sider>\n    </a-layout>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ClusterOrdersTable from \"./Show/ClusterOrdersTable\";\nimport ClusterGraphs from \"./Show/ClusterGraphs.vue\";\nimport Sidebar from \"./Show/Sidebar.vue\";\nimport InsightsSidebar from \"./Show/InsightsSidebar\";\nimport {mapActions, mapGetters} from \"vuex\";\nimport ClusterFilters from \"./Show/ClusterFilters\";\nimport {ExportToCsv} from 'export-to-csv';\nimport moment from \"moment\";\n\nconst _ = require(\"lodash\");\n\nexport default {\n  name: \"Show\",\n  components: {\n    ClusterFilters,\n    InsightsSidebar,\n    ClusterOrdersTable,\n    ClusterGraphs,\n    Sidebar,\n  },\n  created() {\n    this.loadCluster(this.$route.params.id);\n  },\n  data() {\n    return {\n      reloadKey: 1,\n      graphReloadKey: 1,\n      shouldShowSidebar: false,\n      sidebarType: \"add-order\",\n      selectedErpOrderId: null,\n      isDeleting: false,\n\n      isLoading: false,\n      isLoadingInsights: false,\n      isLoadingOrdersWithMatches: false\n    };\n  },\n  computed: {\n    ...mapGetters('clusterViewer', {\n      cluster: 'cluster',\n      activeGraph: 'activeGraph',\n      ordersWithMatchesFiltered: 'ordersWithMatchesFiltered'\n    }),\n\n    shouldHideSidebar() {\n      return !this.shouldShowSidebar;\n    },\n\n    insightsApplied() {\n      if (this.cluster['insights_applied']) {\n        return this.cluster['insights_applied'];\n      }\n      return [];\n    },\n\n    exportData() {\n      return _.map(this.ordersWithMatchesFiltered, o => {\n        let params = {\n          'Name': o['PO Li Description'],\n        }\n\n        // Date Purchased\n        let datePurchased = o['PO Initial Create Date'];\n        if (datePurchased && datePurchased['$date'] && datePurchased['$date']['$numberLong']) {\n          let timestamp = datePurchased['$date']['$numberLong'] / 1000;\n          params['Date Purchased'] = moment.unix(timestamp).format('DD/MM/YYYY');\n        } else {\n          params['Date Purchased'] = '-';\n        }\n\n        // Quantity\n        params['Quantity'] = o['total_quantity'] ? o['total_quantity'] : Number(o['Quantity']);\n\n        return params;\n      });\n    }\n  },\n  watch: {\n    $route() {\n      this.loadCluster(this.$route.params.id);\n    },\n  },\n  methods: {\n    ...mapActions('clusterViewer', {\n      setCluster: 'setCluster',\n      setSelectedOrders: 'setSelectedOrders',\n      setInsights: 'setInsights',\n      setOrdersWithMatches: 'setOrdersWithMatches',\n      setActiveGraph: 'setActiveGraph'\n    }),\n\n    exportCsv() {\n      const options = {\n        fieldSeparator: ',',\n        quoteStrings: '\"',\n        decimalSeparator: '.',\n        showLabels: true,\n        showTitle: true,\n        title: this.cluster.name,\n        useTextFile: false,\n        useBom: true,\n        useKeysAsHeaders: true,\n        filename: this.cluster.name\n      };\n      const csvExporter = new ExportToCsv(options);\n      csvExporter.generateCsv(this.exportData);\n    },\n\n    backToAllClusters() {\n      this.$router.push(\"/intelligence/clusters\");\n    },\n\n    toggleSidebar(sidebarType = \"add-order\") {\n      let vm = this;\n\n      if (sidebarType !== this.sidebarType) {\n        console.log(sidebarType);\n        console.log(this.sidebarType);\n        this.sidebarType = sidebarType;\n        if (!this.shouldShowSidebar) {\n          this.shouldShowSidebar = true;\n        }\n        window.setTimeout(() => {\n          vm.graphReloadKey += 1;\n        }, 250);\n        return false;\n      }\n\n      this.shouldShowSidebar = !this.shouldShowSidebar;\n      window.setTimeout(() => {\n        vm.graphReloadKey += 1;\n      }, 250);\n    },\n\n    viewInsightsFor(record) {\n      let vm = this;\n\n      this.sidebarType = \"insights\";\n      this.selectedErpOrderId = record[\"_id\"];\n\n      if (!this.shouldShowSidebar) {\n        this.shouldShowSidebar = true;\n      }\n\n      window.setTimeout(() => {\n        vm.graphReloadKey += 1;\n      }, 250);\n    },\n\n    loadCluster(id) {\n      let vm = this;\n      this.setCluster(null);\n      this.setOrdersWithMatches([]);\n      this.setInsights([]);\n      this.setActiveGraph('orders');\n      vm.isLoading = true;\n      axios\n          .get(window.API_BASE + \"/intelligence/clusters/\" + id)\n          .then((r) => {\n            vm.isLoading = false;\n            vm.setCluster(r.data);\n            vm.loadInsights();\n            vm.loadOrdersWithMatches();\n            vm.setSelectedOrders([]);\n          })\n          .catch((e) => {\n            vm.isLoading = false;\n            vm.$message.error(\"Error loading cluster\");\n            console.log(e);\n\n            let errors;\n            if (\n                e.response &&\n                e.response.data &&\n                typeof e.response.data === \"object\"\n            ) {\n              errors = _.flatten(_.toArray(e.response.data.errors));\n            } else {\n              errors = [\"Something went wrong. Please try again.\"];\n            }\n            vm.serverErrors = errors;\n          });\n    },\n\n    loadOrdersWithMatches() {\n      let vm = this;\n      // vm.insights = [];\n      vm.setOrdersWithMatches([]);\n      vm.isLoadingOrdersWithMatches = true;\n      axios\n          .get(\n              window.API_BASE +\n              \"/intelligence/clusters/\" +\n              vm.cluster[\"_id\"] +\n              \"/orders-with-matches\"\n          )\n          .then((r) => {\n            vm.isLoadingOrdersWithMatches = false;\n            vm.setOrdersWithMatches(r.data);\n            // vm.insights = r.data;\n          })\n          .catch((e) => {\n            vm.isLoadingOrdersWithMatches = false;\n            vm.$message.error(\"Error loading orders with matches\");\n            console.log(e);\n\n            let errors;\n            if (\n                e.response &&\n                e.response.data &&\n                typeof e.response.data === \"object\"\n            ) {\n              errors = _.flatten(_.toArray(e.response.data.errors));\n            } else {\n              errors = [\"Something went wrong. Please try again.\"];\n            }\n            vm.serverErrors = errors;\n          });\n    },\n\n    loadInsights() {\n      let vm = this;\n      // vm.insights = [];\n      vm.setInsights([]);\n      vm.isLoadingInsights = true;\n      axios\n          .get(\n              window.API_BASE +\n              \"/intelligence/clusters/\" +\n              vm.cluster[\"_id\"] +\n              \"/insights\"\n          )\n          .then((r) => {\n            vm.isLoadingInsights = false;\n            vm.setInsights(r.data);\n            // vm.insights = r.data;\n          })\n          .catch((e) => {\n            vm.isLoadingInsights = false;\n            vm.$message.error(\"Error loading insights\");\n            console.log(e);\n\n            let errors;\n            if (\n                e.response &&\n                e.response.data &&\n                typeof e.response.data === \"object\"\n            ) {\n              errors = _.flatten(_.toArray(e.response.data.errors));\n            } else {\n              errors = [\"Something went wrong. Please try again.\"];\n            }\n            vm.serverErrors = errors;\n          });\n    },\n\n    incrementReloadKey() {\n      this.reloadKey += 1;\n    },\n\n    removeOrder(order) {\n      let vm = this;\n      vm.isDeleting = true;\n      axios\n          .post(\n              window.API_BASE +\n              \"/intelligence/clusters/\" +\n              this.cluster[\"_id\"] +\n              \"/remove-order\",\n              {\n                erp_order_id: order[\"_id\"],\n              }\n          )\n          .then(() => {\n            vm.isDeleting = false;\n            vm.$message.success(\"Order removed successfully\");\n            vm.loadCluster(this.cluster[\"_id\"]);\n          })\n          .catch((e) => {\n            console.log(e);\n            vm.isDeleting = false;\n            vm.$message.error(\"Error removing order\");\n          });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.cluster-show {\n  height: 100%;\n}\n\n.wrapper {\n  max-height: 100%;\n  overflow-y: scroll;\n}\n\n.cluster-graphs-wrapper {\n  margin-bottom: 20px;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=bfd275ca&scoped=true&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Show.vue?vue&type=style&index=0&id=bfd275ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bfd275ca\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightsSidebar.vue?vue&type=style&index=0&id=233a31f8&scoped=true&lang=scss&\"","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./export-to-csv\"));\n//# sourceMappingURL=index.js.map","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=style&index=0&id=bfd275ca&scoped=true&lang=css&\""],"sourceRoot":""}