{"version":3,"sources":["webpack:///./src/views/Optimisations.vue?06c4","webpack:///./src/components/Optimisations/OptimisationsTable.vue?0cbd","webpack:///src/components/Optimisations/OptimisationsTable.vue","webpack:///./src/components/Optimisations/OptimisationsTable.vue?afba","webpack:///./src/components/Optimisations/OptimisationsTable.vue","webpack:///./src/components/Optimisations/CreateOptimisationButtonAndModal.vue?807a","webpack:///src/components/Optimisations/CreateOptimisationButtonAndModal.vue","webpack:///./src/components/Optimisations/CreateOptimisationButtonAndModal.vue?5542","webpack:///./src/components/Optimisations/CreateOptimisationButtonAndModal.vue?a1b6","webpack:///src/views/Optimisations.vue","webpack:///./src/views/Optimisations.vue?1766","webpack:///./src/views/Optimisations.vue","webpack:///./src/components/Optimisations/CreateOptimisationButtonAndModal.vue?ecbc"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticRenderFns","attrs","isDeleting","columns","record","id","data","pagination","loading","on","handleTableChange","scopedSlots","_u","key","fn","text","getOptimisationLink","_s","expectedCost","optimisation","formatCost","cost","min_expected_cost","cost_currency","max_expected_cost","_e","co2e","min_co2e","max_co2e","formatDate","actions","$event","preventDefault","e","slot","deleteOptimisation","mixins","Dates","mounted","fetch","methods","pager","current","results_per_page","pageSize","page","sort_field","sorter","field","sort_order","order","console","log","params","total","r","vm","component","showModal","visible","isSaving","attemptSave","handleCancel","form","directives","name","rawName","value","rules","required","message","expression","$form","createForm","serverErrors","validateFields","err","save","vals","$router","push","$message","error","errors","_","flatten","toArray","response"],"mappings":"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","file":"js/optimisations.46a95a1b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"page-header\"},[_c('h1',{staticClass:\"page-title\"},[_vm._v(\"Optimisations\")]),_c('div',{staticClass:\"actions\"},[_c('create-optimisation-button-and-modal')],1)]),_c('optimisations-table')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading-screen',{attrs:{\"is-loading\":_vm.isDeleting}}),_c('a-table',{staticClass:\"axpi-table\",attrs:{\"columns\":_vm.columns,\"row-key\":function (record) { return record.id; },\"data-source\":_vm.data,\"pagination\":_vm.pagination,\"loading\":_vm.loading},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"name\",fn:function(text, record){return [_c('router-link',{attrs:{\"to\":_vm.getOptimisationLink(record)}},[_vm._v(\" \"+_vm._s(text)+\" \")])]}},{key:\"expectedCost\",fn:function(expectedCost,optimisation){return [(optimisation.min_expected_cost)?_c('div',[_vm._v(\" \"+_vm._s(_vm.formatCost({cost: optimisation.min_expected_cost / 100, cost_currency: 'USD'}))+\" \"),(optimisation.max_expected_cost)?_c('span',[_vm._v(\" - \"+_vm._s(_vm.formatCost({cost: optimisation.max_expected_cost / 100, cost_currency: 'USD'})))]):_vm._e()]):_c('div',[_vm._v(\"-\")])]}},{key:\"co2e\",fn:function(co2e,optimisation){return [(optimisation.min_co2e)?_c('div',[_vm._v(\" \"+_vm._s(optimisation.min_co2e)+\"kg \"),(optimisation.max_co2e)?_c('span',[_vm._v(\" - \"+_vm._s(optimisation.max_co2e)+\"kg\")]):_vm._e()]):_c('div',[_vm._v(\"-\")])]}},{key:\"created-at\",fn:function(text){return [_vm._v(\" \"+_vm._s(_vm.formatDate(text))+\" \")]}},{key:\"actions\",fn:function(actions, record){return [_c('a-dropdown',{attrs:{\"trigger\":['click']}},[_c('a-button',{attrs:{\"type\":\"link\",\"icon\":\"ellipsis\"},on:{\"click\":function($event){$event.preventDefault();return (function (e) { return e.preventDefault(); })($event)}}}),_c('a-menu',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},[_c('a-menu-item',[_c('router-link',{attrs:{\"to\":_vm.getOptimisationLink(record)}},[_vm._v(\" Edit \")])],1),_c('a-menu-item',[_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteOptimisation(record)}}},[_vm._v(\"Delete\")])])],1)],1)]}}])},[_vm._v(\" A \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading-screen :is-loading=\"isDeleting\"></loading-screen>\n    <a-table\n        class=\"axpi-table\"\n        :columns=\"columns\"\n        :row-key=\"record => record.id\"\n        :data-source=\"data\"\n        :pagination=\"pagination\"\n        :loading=\"loading\"\n        @change=\"handleTableChange\"\n    >\n      <template slot=\"name\" slot-scope=\"text, record\">\n        <router-link :to=\"getOptimisationLink(record)\">\n          {{ text }}\n        </router-link>\n      </template>\n      <template slot=\"expectedCost\" slot-scope=\"expectedCost,optimisation\">\n        <div v-if=\"optimisation.min_expected_cost\">\n          {{ formatCost({cost: optimisation.min_expected_cost / 100, cost_currency: 'USD'}) }}\n          <span v-if=\"optimisation.max_expected_cost\"> - {{ formatCost({cost: optimisation.max_expected_cost / 100, cost_currency: 'USD'}) }}</span>\n        </div>\n        <div v-else>-</div>\n      </template>\n      <template slot=\"co2e\" slot-scope=\"co2e,optimisation\">\n        <div v-if=\"optimisation.min_co2e\">\n          {{ optimisation.min_co2e }}kg\n          <span v-if=\"optimisation.max_co2e\"> - {{ optimisation.max_co2e }}kg</span>\n        </div>\n        <div v-else>-</div>\n      </template>\n      <template slot=\"created-at\" slot-scope=\"text\">\n        {{ formatDate(text) }}\n      </template>\n      A\n      <template slot=\"actions\" class=\"table-actions\" slot-scope=\"actions, record\">\n        <a-dropdown :trigger=\"['click']\">\n          <a-button type=\"link\" icon=\"ellipsis\" @click.prevent=\"e => e.preventDefault()\"></a-button>\n          <a-menu slot=\"overlay\">\n            <a-menu-item>\n              <router-link :to=\"getOptimisationLink(record)\">\n                Edit\n              </router-link>\n            </a-menu-item>\n            <a-menu-item>\n              <a href=\"#\" @click.prevent=\"deleteOptimisation(record)\"\n                 class=\"text-danger\">Delete</a>\n            </a-menu-item>\n          </a-menu>\n        </a-dropdown>\n      </template>\n    </a-table>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nimport Dates from \"../../mixins/Dates\";\nimport Orders from \"../../mixins/Orders\";\n\nconst columns = [\n  {\n    title: 'Name',\n    dataIndex: 'name',\n    sorter: true,\n    scopedSlots: {\n      customRender: 'name'\n    }\n  },\n  {\n    title: 'Scenarios',\n    dataIndex: 'optimisation_scenario_count',\n    sorter: true\n  },\n  {\n    title: 'Items',\n    dataIndex: 'optimisation_specification_count',\n    sorter: true\n  },\n  {\n    title: 'Expected Cost',\n    dataIndex: 'expectedCost',\n    sorter: true,\n    scopedSlots: {\n      customRender: 'expectedCost'\n    }\n  },\n  {\n    title: 'CO2e',\n    dataIndex: 'co2e',\n    sorter: true,\n    scopedSlots: {\n      customRender: 'co2e'\n    }\n  },\n  {\n    title: 'Date Created',\n    dataIndex: 'created_at',\n    sorter: true,\n    scopedSlots: {\n      customRender: 'created-at'\n    }\n  },\n  {\n    title: '',\n    scopedSlots: {customRender: 'actions'},\n    width: 10\n  }\n];\n\nexport default {\n  data() {\n    return {\n      data: [],\n      pagination: {},\n      loading: false,\n      columns,\n      isDeleting: false\n    };\n  },\n  mixins: [Dates, Orders],\n  mounted() {\n    this.fetch();\n  },\n  methods: {\n    handleTableChange(pagination, filters, sorter) {\n      const pager = {...this.pagination};\n      pager.current = pagination.current;\n      this.pagination = pager;\n      this.fetch({\n        results_per_page: pagination.pageSize,\n        page: pagination.current,\n        sort_field: sorter.field,\n        sort_order: sorter.order,\n        ...filters,\n      });\n    },\n\n    fetch(params = {}) {\n      console.log('params:', params);\n      this.loading = true;\n      axios.post(window.API_BASE + '/optimisations/search', {\n        results_per_page: 10,\n        ...params\n      }).then(r => {\n        const pagination = {...this.pagination};\n        // Read total count from server\n        pagination.total = r.data.total;\n        this.loading = false;\n        this.data = r.data.data;\n        this.pagination = pagination;\n      }).catch(e => {\n        console.log(e);\n        this.$message.error('Error loading optimisations');\n      });\n    },\n\n    getOptimisationLink(optimisation) {\n      return '/optimisations/' + optimisation.id;\n    },\n\n    deleteOptimisation(optimisation) {\n      let vm = this;\n      vm.isDeleting = true;\n      axios.delete(window.API_BASE + '/optimisations/' + optimisation.id).then(() => {\n        vm.isDeleting = false;\n        this.$message.success('Optimisation deleted successfully');\n        vm.fetch();\n      }).catch(e => {\n        console.log(e);\n        vm.isDeleting = false;\n        this.$message.error('Error deleting optimisation');\n      });\n    }\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptimisationsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptimisationsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OptimisationsTable.vue?vue&type=template&id=fcc37400&\"\nimport script from \"./OptimisationsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./OptimisationsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"plus\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showModal($event)}}},[_vm._v(\"Create Optimisation\")]),_c('a-modal',{attrs:{\"title\":\"Create Optimisation\",\"visible\":_vm.visible,\"confirm-loading\":_vm.isSaving,\"ok-text\":\"Create\"},on:{\"ok\":_vm.attemptSave,\"cancel\":_vm.handleCancel}},[_c('a-form',{attrs:{\"layout\":\"vertical\",\"form\":_vm.form}},[_c('a-form-item',{attrs:{\"label\":\"Name\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['name', {rules:[{required: true, message: 'Please enter a name'}]}]),expression:\"['name', {rules:[{required: true, message: 'Please enter a name'}]}]\"}],attrs:{\"size\":\"large\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-button type=\"primary\" icon=\"plus\" @click.prevent=\"showModal\">Create Optimisation</a-button>\n\n    <a-modal\n        title=\"Create Optimisation\"\n        :visible=\"visible\"\n        :confirm-loading=\"isSaving\"\n        ok-text=\"Create\"\n        @ok=\"attemptSave\"\n        @cancel=\"handleCancel\"\n    >\n      <a-form layout=\"vertical\" :form=\"form\">\n        <a-form-item label=\"Name\">\n          <a-input v-decorator=\"['name', {rules:[{required: true, message: 'Please enter a name'}]}]\" size=\"large\"/>\n        </a-form-item>\n      </a-form>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nconst _ = require('lodash');\nexport default {\n  name: \"CreateOptimisationButtonAndModal\",\n  data() {\n    return {\n      visible: false,\n      isSaving: false,\n      form: this.$form.createForm(this, {name: 'create_optimisation_form'}),\n      serverErrors: []\n    }\n  },\n  methods: {\n    showModal() {\n      this.visible = true;\n    },\n    attemptSave() {\n      let vm = this;\n      vm.isSaving = true;\n      this.form.validateFields((err, vals) => {\n        if (!err) {\n          vm.save(vals);\n        } else {\n          vm.isSaving = false;\n        }\n      });\n    },\n    save(vals) {\n      let vm = this;\n      vm.isSaving = true;\n      vm.serverErrors = [];\n      axios.post(window.API_BASE + '/optimisations', {\n        name: vals.name\n      }).then(r => {\n        vm.$router.push('/optimisations/' + r.data.id);\n      }).catch(e => {\n        vm.$message.error('Error creating optimisation');\n        vm.isSaving = false;\n        let errors;\n        if (typeof e.response.data === 'object') {\n          errors = _.flatten(_.toArray(e.response.data.errors));\n        } else {\n          errors = ['Something went wrong. Please try again.'];\n        }\n        vm.serverErrors = errors;\n      });\n    },\n    handleCancel() {\n      this.visible = false;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.ant-form-vertical .ant-form-item {\n  margin-bottom: 0 !important;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateOptimisationButtonAndModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateOptimisationButtonAndModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateOptimisationButtonAndModal.vue?vue&type=template&id=7f623aa9&scoped=true&\"\nimport script from \"./CreateOptimisationButtonAndModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateOptimisationButtonAndModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreateOptimisationButtonAndModal.vue?vue&type=style&index=0&id=7f623aa9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f623aa9\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"home\">\n\n        <div class=\"page-header\">\n            <h1 class=\"page-title\">Optimisations</h1>\n            <div class=\"actions\">\n                <create-optimisation-button-and-modal></create-optimisation-button-and-modal>\n            </div>\n        </div>\n\n        <optimisations-table></optimisations-table>\n    </div>\n</template>\n\n<script>\n    import {mapGetters} from \"vuex\";\n    import OptimisationsTable from \"../components/Optimisations/OptimisationsTable\";\n    import CreateOptimisationButtonAndModal from \"../components/Optimisations/CreateOptimisationButtonAndModal\";\n\n    export default {\n        name: 'Optimisations',\n        computed: {\n            ...mapGetters('auth', {\n                user: 'user'\n            })\n        },\n        components: {CreateOptimisationButtonAndModal, OptimisationsTable},\n        data() {\n            return {\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Optimisations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Optimisations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Optimisations.vue?vue&type=template&id=798551b6&\"\nimport script from \"./Optimisations.vue?vue&type=script&lang=js&\"\nexport * from \"./Optimisations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateOptimisationButtonAndModal.vue?vue&type=style&index=0&id=7f623aa9&scoped=true&lang=css&\""],"sourceRoot":""}