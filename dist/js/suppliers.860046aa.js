(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["suppliers"],{"1e8b":function(e,t,a){"use strict";a("abc5")},a92d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goals"},[a("div",{staticClass:"page-header"},[a("h1",{staticClass:"page-title"},[e._v("Goals")]),a("div",{staticClass:"actions"},[a("router-link",{attrs:{to:"/goals/create"}},[a("a-button",{attrs:{type:"primary",icon:"plus"}},[e._v("Add Goal")])],1)],1)]),a("goals-table")],1)},r=[],i=a("5530"),s=a("2f62"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-table",{staticClass:"axpi-table",attrs:{columns:e.columns,"row-key":function(e){return e.id},"data-source":e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange}})},l=[],c=a("bc3a"),u=a.n(c),d=[{title:"Name",dataIndex:"name",sorter:!0}],p={data:function(){return{data:[],pagination:{},loading:!1,columns:d}},mounted:function(){this.fetch()},methods:{handleTableChange:function(e,t,a){var n=Object(i["a"])({},this.pagination);n.current=e.current,this.pagination=n,this.fetch(Object(i["a"])({results_per_page:e.pageSize,page:e.current,sort_field:a.field,sort_order:a.order},t))},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("params:",t),this.loading=!0,u.a.post(window.API_BASE+"/suppliers/search",Object(i["a"])({results_per_page:10},t)).then((function(t){var a=Object(i["a"])({},e.pagination);a.total=t.data.total,e.loading=!1,e.data=t.data.data,e.pagination=a})).catch((function(t){console.log(t),e.$message.error("Error loading goals")}))}}},m=p,g=a("2877"),f=Object(g["a"])(m,o,l,!1,null,null,null),h=f.exports,v={name:"Goals",computed:Object(i["a"])({},Object(s["c"])("auth",{user:"user"})),components:{GoalsTable:h},data:function(){return{activeSetupStep:1}}},b=v,_=Object(g["a"])(b,n,r,!1,null,null,null);t["default"]=_.exports},abc5:function(e,t,a){},e2b6:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"page-header"},[a("h1",{staticClass:"page-title"},[e._v("Suppliers")]),a("div",{staticClass:"actions"},[a("invite-suppliers-button-and-modal")],1)]),a("a-tabs",{model:{value:e.tabPane,callback:function(t){e.tabPane=t},expression:"tabPane"}},[a("a-tab-pane",{key:"active",attrs:{tab:"Active"}},[a("suppliers-table")],1),a("a-tab-pane",{key:"invited",attrs:{tab:"Invited"}},[a("invited-suppliers-table")],1)],1)],1)},r=[],i=a("5530"),s=a("2f62"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-table",{staticClass:"axpi-table",attrs:{columns:e.columns,"row-key":function(e){return e.id},"data-source":e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"name",fn:function(t,n){return a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.handleRecordSelected(n)}}},[e._v(e._s(t))])}},{key:"country",fn:function(t,a){return[e._v(" "+e._s(e.getCountry(a.name))+" ")]}},{key:"product-type",fn:function(t,n){return[a("a-badge",{attrs:{count:e.getProductType(n.name),"number-style":{backgroundColor:"#4dc8f2"}}})]}}])},[a("template",{slot:"last-order"},[e._v(" 10th February 2020 ")])],2)},l=[],c=a("bc3a"),u=a.n(c),d=[{title:"Name",dataIndex:"name",sorter:!0,scopedSlots:{customRender:"name"}},{title:"Country",dataIndex:"country",scopedSlots:{customRender:"country"}},{title:"Product Type",dataIndex:"product-type",scopedSlots:{customRender:"product-type"}}],p={data:function(){return{data:[],pagination:{},loading:!1,columns:d}},mounted:function(){this.fetch()},methods:{handleTableChange:function(e,t,a){var n=Object(i["a"])({},this.pagination);n.current=e.current,this.pagination=n,this.fetch(Object(i["a"])({results_per_page:e.pageSize,page:e.current,sortField:a.field,sortOrder:a.order},t))},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("params:",t),this.loading=!0,u.a.post(window.API_BASE+"/suppliers/search",Object(i["a"])({results_per_page:10},t)).then((function(t){var a=Object(i["a"])({},e.pagination);a.total=t.data.total,e.loading=!1,e.data=t.data.data,e.pagination=a})).catch((function(t){console.log(t),e.$message.error("Error loading suppliers")}))},getCountry:function(e){switch(e){case"Gunn + Taylor":return"United Kingdom";case"Courtney Colour":return"USA";case"Razer Graphix":return"Canada";case"Eco Design - Eco Print":return"Ireland";case"Waratah Group":return"USA";case"Trojan Print":return"United Kingdom";case"Southern Impact":return"USA";case"Immij":return"Australia";case"Dashing":return"United Kingdom";case"Tdc3":return"Australia";default:return"United Kingdom"}},getProductType:function(e){switch(e){case"Gunn + Taylor":return"POS";case"Courtney Colour":return"Print";case"Razer Graphix":return"Packaging";case"Eco Design - Eco Print":return"Print";case"Waratah Group":return"Print";case"Trojan Print":return"Print";case"Southern Impact":return"Print";case"Immij":return"Print";case"Dashing":return"POS";case"Tdc3":return"Packaging";default:return"Print"}},handleRecordSelected:function(e){this.$router.push("/suppliers/"+e.id)}}},m=p,g=a("2877"),f=Object(g["a"])(m,o,l,!1,null,null,null),h=f.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"invite-supplier-wrapper"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return t.preventDefault(),e.openModal(t)}}},[e._v("Invite Supplier")]),a("a-modal",{attrs:{title:"Invite Supplier",footer:null},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[a("errors",{attrs:{"error-list":e.serverErrors}}),a("a-form",{staticClass:"invite-supplier-form",attrs:{form:e.form,layout:"vertical"},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"Company Name"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_name",{rules:[{required:!0,message:"Please enter a company name"}]}],expression:"[\n        'company_name',\n        { rules: [{ required: true, message: 'Please enter a company name' }] },\n      ]"}],attrs:{size:"large"}})],1),a("a-form-item",{attrs:{label:"Name"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"Please enter a name"}]}],expression:"[\n        'name',\n        { rules: [{ required: true, message: 'Please enter a name' }] },\n      ]"}],attrs:{size:"large"}})],1),a("a-form-item",{attrs:{label:"Email"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"Please enter an email"},{type:"email",message:"Please enter a valid email address"}]}],expression:"[\n        'email',\n        { rules: [{ required: true, message: 'Please enter an email' }, {type: 'email', message: 'Please enter a valid email address'}] },\n      ]"}],attrs:{size:"large"}})],1),a("a-button",{staticClass:"invite-supplier-form-button",attrs:{type:"primary",size:"large","html-type":"submit",loading:e.isSaving}},[e._v(" Invite Supplier ")])],1)],1)],1)},b=[],_=(a("b0c0"),a("df21")),y=a("d9a4"),S={name:"InviteSuppliersButtonAndModal",data:function(){return{showModal:!1,form:this.$form.createForm(this,{name:"invite_supplier_form"}),isSaving:!1,serverErrors:[]}},mixins:[y["a"]],components:{Errors:_["a"]},methods:{openModal:function(){this.showModal=!0},handleSubmit:function(e){e.preventDefault();var t=this;t.serverErrors=[],t.form.validateFields((function(e,a){if(!e){t.isSaving=!0;var n=a.company_name,r=a.name,i=a.email;u.a.post(window.API_BASE+"/suppliers/invite",{company_name:n,name:r,email:i}).then((function(){t.isSaving=!1,t.form.resetFields(),t.showModal=!1,t.$message.success("Invite sent successfully!")})).catch((function(e){console.log(e),t.setErrors(e),t.isSaving=!1}))}}))}}},P=S,C=(a("1e8b"),Object(g["a"])(P,v,b,!1,null,"1cf25aa1",null)),w=C.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-table",{staticClass:"axpi-table",attrs:{columns:e.columns,"row-key":function(e){return e.id},"data-source":e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"created_at",fn:function(t){return a("div",{},[e._v(" "+e._s(t?e.formatDate(t):null)+" ")])}}])})},x=[],I=a("6e12"),O=[{title:"Invited On",dataIndex:"created_at",sorter:!0,scopedSlots:{customRender:"created_at"}},{title:"Company Name",dataIndex:"company_name",sorter:!0},{title:"Name",dataIndex:"name",sorter:!0},{title:"Email",dataIndex:"email",sorter:!0}],E={mixins:[I["a"]],data:function(){return{data:[],pagination:{},loading:!1,columns:O}},mounted:function(){this.fetch()},methods:{handleTableChange:function(e,t,a){var n=Object(i["a"])({},this.pagination);n.current=e.current,this.pagination=n,this.fetch(Object(i["a"])({results_per_page:e.pageSize,page:e.current,sort_field:a.field,sort_order:a.order},t))},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("params:",t),this.loading=!0,u.a.post(window.API_BASE+"/supplier-invites",Object(i["a"])({results_per_page:10},t)).then((function(t){var a=Object(i["a"])({},e.pagination);a.total=t.data.total,e.loading=!1,e.data=t.data.data,e.pagination=a})).catch((function(t){console.log(t),e.$message.error("Error loading supplier invites")}))}}},k=E,T=Object(g["a"])(k,j,x,!1,null,null,null),A=T.exports,$={name:"Suppliers",computed:Object(i["a"])({},Object(s["c"])("auth",{user:"user"})),components:{InviteSuppliersButtonAndModal:w,SuppliersTable:h,InvitedSuppliersTable:A},data:function(){return{tabPane:"active"}}},G=$,M=Object(g["a"])(G,n,r,!1,null,null,null);t["default"]=M.exports}}]);
//# sourceMappingURL=suppliers.860046aa.js.map