{"version":3,"sources":["webpack:///./src/views/Orders.vue?6952","webpack:///./src/components/Orders/OrdersTable.vue?9883","webpack:///src/components/Orders/OrdersTable.vue","webpack:///./src/components/Orders/OrdersTable.vue?0d92","webpack:///./src/components/Orders/OrdersTable.vue","webpack:///src/views/Orders.vue","webpack:///./src/views/Orders.vue?c7a6","webpack:///./src/views/Orders.vue","webpack:///./src/components/Orders/OrdersFilters.vue?2aec","webpack:///src/components/Orders/OrdersFilters.vue","webpack:///./src/components/Orders/OrdersFilters.vue?a00c","webpack:///./src/components/Orders/OrdersFilters.vue?cd47","webpack:///./src/components/Orders/InlineFilter.vue?6796","webpack:///./src/components/Orders/InlineFilter.vue?4db5","webpack:///src/components/Orders/InlineFilter.vue","webpack:///./src/components/Orders/InlineFilter.vue?97ed","webpack:///./src/components/Orders/InlineFilter.vue?0d13","webpack:///./src/views/Orders/Show.vue?479e","webpack:///./src/views/Orders/Show.vue?930a","webpack:///src/views/Orders/Show.vue","webpack:///./src/views/Orders/Show.vue?4b8f","webpack:///./src/views/Orders/Show.vue?f2c7","webpack:///./src/components/Orders/OrdersFilters.vue?4614"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoadingSuppliers","isDeleting","_v","staticStyle","model","value","callback","$$v","searchQuery","expression","filters","on","handleFilterUpdated","setFilters","isRequestingInformation","selectedOrderIds","length","requestInformation","isLoading","createOrder","reloadOrdersKey","setSelectedOrderIds","deleteOrder","handleOrderSelected","order","type","suppliers","_e","staticRenderFns","statusToShow","key","rowSelection","columns","record","id","data","pagination","loading","searchQueryIsDirty","handleTableChange","scopedSlots","_u","fn","name","$event","preventDefault","handleRecordSelected","_s","status","getHumanReadableStatus","getStatusBadgeStyle","formatType","cost","formatCostInPence","order_date","formatDate","updated_at","displayTimeAgo","actions","e","slot","editOrder","deleteRecord","props","mixins","Orders","mounted","fetch","watch","reloadKey","$emit","newSelection","computed","onChange","getCheckboxProps","methods","pager","current","results_per_page","pageSize","page","sortField","sorter","field","sortOrder","determineSearchParams","q","filters_enabled","search","_","each","filter","console","log","debounce","total","r","$router","push","backgroundColor","getStatusColor","component","components","created","loadSuppliers","vm","ids","setWizardStage","loadOrder","incrementReloadOrdersKey","clear","unsavedReloadKey","hasUnsavedChanges","save","filtersLocal","typeOptions","hasUnsavedChangesFromEvent","cloneDeep","merge","diffOne","diffTwo","hasUnsaved","incrementUnsavedReloadKey","isFilterEnabled","toggleFilterEnabled","label","details","_l","option","i","watchingEnabled","$nextTick","includes","xor","newVal","product_name","backToAllOrders","serverErrors","$route","params","$message","error","errors","response","flatten","toArray"],"mappings":"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","file":"js/orders.6339c1e3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('loading-screen',{attrs:{\"is-loading\":_vm.isLoadingSuppliers || _vm.isDeleting}}),_c('div',{staticClass:\"page-header\"},[_c('h1',{staticClass:\"page-title\"},[_vm._v(\"Orders\")]),_c('div',{staticClass:\"actions\"},[_c('a-input-search',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"Search orders\"},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('orders-filters',{attrs:{\"filters\":_vm.filters},on:{\"filter-updated\":_vm.handleFilterUpdated,\"set-filters\":_vm.setFilters}}),_c('a-button',{attrs:{\"icon\":\"export\"}},[_vm._v(\"Export\")]),_c('a-button',{attrs:{\"icon\":\"form\",\"loading\":_vm.isRequestingInformation,\"disabled\":_vm.selectedOrderIds.length == 0},on:{\"click\":_vm.requestInformation}},[_vm._v(\"Request Information \")]),_c('a-button',{attrs:{\"icon\":\"plus\",\"type\":\"primary\",\"loading\":_vm.isLoading},on:{\"click\":_vm.createOrder}},[_vm._v(\"Add Order \")])],1)]),_c('orders-table',{attrs:{\"search-query\":_vm.searchQuery,\"filters\":_vm.filters,\"reload-key\":_vm.reloadOrdersKey},on:{\"set-selected-order-ids\":_vm.setSelectedOrderIds,\"delete-order\":_vm.deleteOrder,\"selected\":_vm.handleOrderSelected}}),(_vm.order && _vm.type === 'order')?_c('edit-order-modal',{attrs:{\"suppliers\":_vm.suppliers}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-tabs',{model:{value:(_vm.statusToShow),callback:function ($$v) {_vm.statusToShow=$$v},expression:\"statusToShow\"}},[_c('a-tab-pane',{key:null,attrs:{\"tab\":\"All\"}}),_c('a-tab-pane',{key:0,attrs:{\"tab\":\"Incomplete\"}}),_c('a-tab-pane',{key:1,attrs:{\"tab\":\"Ready To Send\"}}),_c('a-tab-pane',{key:2,attrs:{\"tab\":\"Sent\"}}),_c('a-tab-pane',{key:3,attrs:{\"tab\":\"Rejected\"}}),_c('a-tab-pane',{key:4,attrs:{\"tab\":\"Completed\"}})],1),_c('a-table',{staticClass:\"axpi-table\",attrs:{\"row-selection\":_vm.rowSelection,\"columns\":_vm.columns,\"row-key\":function (record) { return record.id; },\"data-source\":_vm.data,\"pagination\":_vm.pagination,\"loading\":_vm.loading||_vm.searchQueryIsDirty},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"name\",fn:function(name, record){return _c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleRecordSelected(record)}}},[_vm._v(_vm._s(name))])}},{key:\"status\",fn:function(status){return _c('div',{},[_c('a-badge',{attrs:{\"count\":_vm.getHumanReadableStatus(status),\"number-style\":_vm.getStatusBadgeStyle(status)}})],1)}},{key:\"type\",fn:function(type){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.formatType(type))+\" \")])}},{key:\"cost\",fn:function(cost, order){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.formatCostInPence(order))+\" \")])}},{key:\"order_date\",fn:function(order_date){return _c('div',{},[_vm._v(\" \"+_vm._s(order_date ? _vm.formatDate(order_date) : null)+\" \")])}},{key:\"updated_at\",fn:function(updated_at){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.displayTimeAgo(updated_at))+\" \")])}},{key:\"actions\",fn:function(actions, record){return _c('div',{staticClass:\"table-actions\"},[_c('a-dropdown',{attrs:{\"trigger\":['click']}},[_c('a-button',{attrs:{\"type\":\"link\",\"icon\":\"ellipsis\"},on:{\"click\":function($event){$event.preventDefault();return (function (e) { return e.preventDefault(); })($event)}}}),_c('a-menu',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},[_c('a-menu-item',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.editOrder(record)}}},[_vm._v(\"Edit\")])]),_c('a-menu-item',[_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteRecord(record)}}},[_vm._v(\"Delete\")])])],1)],1)],1)}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-tabs v-model=\"statusToShow\">\n      <a-tab-pane :key=\"null\" tab=\"All\"></a-tab-pane>\n      <a-tab-pane :key=\"0\" tab=\"Incomplete\"></a-tab-pane>\n      <a-tab-pane :key=\"1\" tab=\"Ready To Send\"></a-tab-pane>\n      <a-tab-pane :key=\"2\" tab=\"Sent\"></a-tab-pane>\n      <a-tab-pane :key=\"3\" tab=\"Rejected\"></a-tab-pane>\n      <a-tab-pane :key=\"4\" tab=\"Completed\"></a-tab-pane>\n    </a-tabs>\n\n    <a-table class=\"axpi-table\"\n             :row-selection=\"rowSelection\"\n             :columns=\"columns\"\n             :row-key=\"record => record.id\"\n             :data-source=\"data\"\n             :pagination=\"pagination\"\n             :loading=\"loading||searchQueryIsDirty\"\n             @change=\"handleTableChange\"\n    >\n      <a href=\"#\" slot=\"name\" slot-scope=\"name, record\" @click.prevent=\"handleRecordSelected(record)\">{{\n          name\n        }}</a>\n      <div slot=\"status\" slot-scope=\"status\">\n        <a-badge :count=\"getHumanReadableStatus(status)\" :number-style=\"getStatusBadgeStyle(status)\"></a-badge>\n      </div>\n      <div slot=\"type\" slot-scope=\"type\">\n        {{ formatType(type) }}\n      </div>\n      <div slot=\"cost\" slot-scope=\"cost, order\">\n        {{ formatCostInPence(order) }}\n      </div>\n      <div slot=\"order_date\" slot-scope=\"order_date\">\n        {{ order_date ? formatDate(order_date) : null }}\n      </div>\n      <div slot=\"updated_at\" slot-scope=\"updated_at\">\n        {{ displayTimeAgo(updated_at) }}\n      </div>\n      <div slot=\"actions\" class=\"table-actions\" slot-scope=\"actions, record\">\n        <a-dropdown :trigger=\"['click']\">\n          <a-button type=\"link\" icon=\"ellipsis\" @click.prevent=\"e => e.preventDefault()\"></a-button>\n          <a-menu slot=\"overlay\">\n            <a-menu-item>\n              <a href=\"#\" @click=\"editOrder(record)\">Edit</a>\n            </a-menu-item>\n            <a-menu-item>\n              <a href=\"#\" class=\"text-danger\" @click.prevent=\"deleteRecord(record)\">Delete</a>\n            </a-menu-item>\n          </a-menu>\n        </a-dropdown>\n      </div>\n    </a-table>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nimport Orders from \"../../mixins/Orders\";\nimport Dates from \"../../mixins/Dates\";\n\nconst _ = require('lodash');\n\nconst columns = [\n  {\n    title: 'Name',\n    dataIndex: 'product_name',\n    sorter: true,\n    scopedSlots: {customRender: 'name'}\n  },\n  {\n    title: 'Status',\n    dataIndex: 'status',\n    sorter: true,\n    scopedSlots: {customRender: 'status'}\n  },\n  {\n    title: 'Type',\n    dataIndex: 'product_type',\n    sorter: true,\n    scopedSlots: {customRender: 'type'}\n  },\n  {\n    title: 'Cost',\n    dataIndex: 'cost',\n    sorter: true,\n    scopedSlots: {customRender: 'cost'}\n  },\n  {\n    title: 'Supplier',\n    dataIndex: 'supplier.name',\n    sorter: true,\n  },\n  {\n    title: 'Order Date',\n    dataIndex: 'order_date',\n    sorter: true,\n    scopedSlots: {customRender: 'order_date'}\n  },\n  {\n    title: 'Last Updated',\n    dataIndex: 'updated_at',\n    sorter: true,\n    scopedSlots: {customRender: 'updated_at'}\n  },\n  {\n    title: '',\n    scopedSlots: {customRender: 'actions'},\n    width: 10\n  }\n];\n\nexport default {\n  props: ['reloadKey', 'searchQuery', 'filters'],\n  data() {\n    return {\n      data: [],\n      pagination: {},\n      searchQueryIsDirty: false,\n      loading: false,\n      statusToShow: null,\n      columns,\n      selectedOrderIds: []\n    };\n  },\n  mixins: [Orders, Dates],\n  mounted() {\n    this.fetch();\n  },\n  watch: {\n    statusToShow() {\n      // this.selectedOrderIds = [];\n      this.fetch();\n    },\n    reloadKey() {\n      this.fetch();\n    },\n    selectedOrderIds(newSelection) {\n      this.$emit('set-selected-order-ids', newSelection);\n    },\n    searchQuery: function () {\n      this.searchQueryIsDirty = true;\n      this.fetch();\n    }\n  },\n  computed: {\n    rowSelection() {\n      return {\n        onChange: (selectedRowKeys) => {\n          this.selectedOrderIds = selectedRowKeys;\n          // console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n        },\n        getCheckboxProps: record => ({\n          props: {\n            disabled: record.name === 'Disabled User', // Column configuration not to be checked\n            name: record.name,\n          },\n        }),\n      };\n    }\n  },\n  methods: {\n    handleTableChange(pagination, filters, sorter) {\n      const pager = {...this.pagination};\n      pager.current = pagination.current;\n      this.pagination = pager;\n      this.fetch({\n        results_per_page: pagination.pageSize,\n        page: pagination.current,\n        sortField: sorter.field,\n        sortOrder: sorter.order,\n        ...filters,\n      });\n    },\n\n    determineSearchParams(params) {\n      let search = {\n        results_per_page: 10,\n        status: this.statusToShow,\n        q: this.searchQuery\n      };\n\n      if (this.filters && this.filters.filters_enabled.length) {\n        search.filters = {};\n        _.each(this.filters.filters_enabled, filter => {\n          search.filters[filter] = this.filters[filter];\n        });\n      }\n\n      console.log(search);\n\n      return {\n        ...search,\n        ...params\n      }\n    },\n\n    fetch: _.debounce(function (params = {}) {\n      this.loading = true;\n      axios.post(window.API_BASE + '/orders/search', this.determineSearchParams(params)).then(r => {\n        const pagination = {...this.pagination};\n        // Read total count from server\n        pagination.total = r.data.total;\n        this.loading = false;\n        this.data = r.data.data;\n        this.pagination = pagination;\n        this.searchQueryIsDirty = false;\n      }).catch(e => {\n        console.log(e);\n        this.$message.error('Error loading orders');\n      });\n    }, 500),\n\n    handleRecordSelected(order) {\n      // this.$emit('selected', order);\n      this.$router.push('/orders/' + order.id);\n    },\n\n    editOrder(order) {\n      this.$emit('selected', order);\n    },\n\n    deleteRecord(order) {\n      this.$emit('delete-order', order);\n    },\n\n    getStatusBadgeStyle(status) {\n      return {\n        backgroundColor: this.getStatusColor(status)\n      };\n    },\n\n    // getInformationRequestUrl(informationRequest) {\n    //    return '/information-requests/' + informationRequest.id + '/edit';\n    // }\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrdersTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrdersTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrdersTable.vue?vue&type=template&id=627a0d8e&\"\nimport script from \"./OrdersTable.vue?vue&type=script&lang=js&\"\nexport * from \"./OrdersTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home\">\n    <loading-screen\n        :is-loading=\"isLoadingSuppliers || isDeleting\"\n    ></loading-screen>\n\n    <div class=\"page-header\">\n      <h1 class=\"page-title\">Orders</h1>\n      <div class=\"actions\">\n        <a-input-search\n            placeholder=\"Search orders\"\n            style=\"width: 200px\"\n            v-model=\"searchQuery\"\n        />\n\n        <orders-filters\n            @filter-updated=\"handleFilterUpdated\"\n            @set-filters=\"setFilters\"\n            :filters=\"filters\"\n        ></orders-filters>\n\n        <a-button icon=\"export\">Export</a-button>\n        <a-button\n            icon=\"form\"\n            @click=\"requestInformation\"\n            :loading=\"isRequestingInformation\"\n            :disabled=\"selectedOrderIds.length == 0\"\n        >Request Information\n        </a-button>\n        <a-button\n            @click=\"createOrder\"\n            icon=\"plus\"\n            type=\"primary\"\n            :loading=\"isLoading\"\n        >Add Order\n        </a-button>\n      </div>\n    </div>\n\n    <orders-table\n        @set-selected-order-ids=\"setSelectedOrderIds\"\n        @delete-order=\"deleteOrder\"\n        :search-query=\"searchQuery\"\n        :filters=\"filters\"\n        :reload-key=\"reloadOrdersKey\"\n        @selected=\"handleOrderSelected\"\n    ></orders-table>\n\n    <edit-order-modal :suppliers=\"suppliers\" v-if=\"order && type === 'order'\">\n    </edit-order-modal>\n  </div>\n</template>\n\n<script>\nimport OrdersTable from \"../components/Orders/OrdersTable\";\nimport EditOrderModal from \"../components/Orders/EditOrderModal\";\nimport OrdersFilters from \"../components/Orders/OrdersFilters\";\n\nimport {mapGetters, mapActions} from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Orders\",\n  computed: {\n    ...mapGetters(\"orderEditor\", {\n      type: \"type\",\n      order: \"order\",\n      reloadOrdersKey: \"reloadOrdersKey\",\n      isLoading: \"isLoading\",\n    }),\n  },\n  components: {OrdersTable, EditOrderModal, OrdersFilters},\n  data() {\n    return {\n      suppliers: [],\n      isLoadingSuppliers: false,\n      isRequestingInformation: false,\n      selectedOrderIds: [],\n      isDeleting: false,\n      searchQuery: \"\",\n      filters: {\n        filters_enabled: {},\n      },\n    };\n  },\n  created() {\n    this.loadSuppliers();\n  },\n  methods: {\n    ...mapActions(\"orderEditor\", {\n      loadOrder: \"loadOrder\",\n      setWizardStage: \"setWizardStage\",\n      createOrder: \"createOrder\",\n      incrementReloadOrdersKey: \"incrementReloadOrdersKey\",\n    }),\n\n    setFilters(filters) {\n      this.filters = filters;\n    },\n\n    loadSuppliers() {\n      let vm = this;\n      vm.isLoadingSuppliers = true;\n      axios\n          .get(window.API_BASE + \"/suppliers\")\n          .then((r) => {\n            vm.suppliers = r.data;\n            vm.isLoadingSuppliers = false;\n          })\n          .catch((e) => {\n            console.log(e);\n            vm.isLoadingSuppliers = false;\n            vm.$message.error(\"Error loading suppliers\");\n          });\n    },\n\n    requestInformation() {\n      let vm = this;\n\n      if (vm.selectedOrderIds.length === 0) {\n        return false;\n      }\n\n      vm.isRequestingInformation = true;\n      axios\n          .post(window.API_BASE + \"/request-information\", {\n            ids: vm.selectedOrderIds,\n          })\n          .then(() => {\n            vm.isRequestingInformation = false;\n            vm.$message.success(\"Information requested successfully\");\n            vm.incrementReloadOrdersKey();\n          })\n          .catch((e) => {\n            console.log(e);\n            vm.isRequestingInformation = false;\n            this.$message.error(\"Error requesting information\");\n          });\n    },\n\n    deleteOrder(order) {\n      let vm = this;\n      vm.isDeleting = true;\n      axios\n          .delete(window.API_BASE + \"/orders/\" + order.id)\n          .then(() => {\n            vm.isDeleting = false;\n            vm.$message.success(\"Order deleted successfully\");\n            vm.incrementReloadOrdersKey();\n          })\n          .catch((e) => {\n            console.log(e);\n            vm.isDeleting = false;\n            vm.$message.success(\"Error deleting order\");\n          });\n    },\n\n    setSelectedOrderIds(ids) {\n      this.selectedOrderIds = ids;\n    },\n\n    handleOrderSelected(order) {\n      this.setWizardStage(0);\n      this.loadOrder(order.id);\n    },\n\n    handleFilterUpdated() {\n      this.incrementReloadOrdersKey();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=55cf17ff&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-popover',{attrs:{\"placement\":\"bottomLeft\",\"trigger\":\"click\"}},[_c('template',{slot:\"title\"},[_c('div',{staticClass:\"filter-title-wrapper\"},[_c('div',{staticClass:\"left\"},[_c('a-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){$event.preventDefault();return _vm.clear($event)}}},[_vm._v(\"Clear\")])],1),_c('div',{staticClass:\"center\"},[_vm._v(\" Filters \")]),_c('div',{staticClass:\"right\"},[_c('a-button',{key:_vm.unsavedReloadKey,attrs:{\"disabled\":!_vm.hasUnsavedChanges,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.save}},[_vm._v(\"Save \")])],1)])]),_c('template',{slot:\"content\"},[_c('div',{staticClass:\"filters-inner\"},[_c('inline-filter',{attrs:{\"filters\":_vm.filtersLocal,\"id\":\"product_type\",\"label\":\"Type\",\"type\":\"categorical\",\"options\":_vm.typeOptions},on:{\"filter-updated\":_vm.handleFilterUpdated}})],1)]),_c('a-button',{attrs:{\"icon\":\"filter\"}},[_vm._v(\"Filter\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-popover placement=\"bottomLeft\" trigger=\"click\">\n    <template slot=\"title\">\n      <div class=\"filter-title-wrapper\">\n        <div class=\"left\">\n          <a-button size=\"small\" @click.prevent=\"clear\">Clear</a-button>\n        </div>\n        <div class=\"center\">\n          Filters\n        </div>\n        <div class=\"right\">\n          <a-button :key=\"unsavedReloadKey\"\n              :disabled=\"!hasUnsavedChanges\" @click=\"save\"\n                    type=\"primary\" size=\"small\">Save\n          </a-button>\n        </div>\n      </div>\n    </template>\n    <template slot=\"content\">\n      <div class=\"filters-inner\">\n\n        <inline-filter :filters=\"filtersLocal\"\n                       id=\"product_type\"\n                       label=\"Type\"\n                       type=\"categorical\"\n                       @filter-updated=\"handleFilterUpdated\"\n                       :options=\"typeOptions\"></inline-filter>\n\n        <!--        <inline-filter :filters=\"filtersLocal\"-->\n        <!--                       id=\"product_type\"-->\n        <!--                       label=\"Order Type\"-->\n        <!--                       type=\"categorical\"-->\n        <!--                       @filter-updated=\"handleFilterUpdated\"-->\n        <!--                       :options=\"typeOptions\"></inline-filter>-->\n\n      </div>\n    </template>\n    <a-button icon=\"filter\">Filter</a-button>\n  </a-popover>\n</template>\n\n<script>\nimport InlineFilter from \"./InlineFilter\";\n\nconst _ = require('lodash');\n\nexport default {\n  name: \"OrdersFilters\",\n  props: ['filters'],\n  components: {InlineFilter},\n  data() {\n    return {\n      filtersLocal: null,\n      hasUnsavedChangesFromEvent: false,\n      unsavedReloadKey: 1,\n      typeOptions: [\n        {\n         value: 'ERP',\n         label: 'ERP'\n        },\n        {\n          value: 'print',\n          label: 'Print'\n        },\n        {\n          value: 'pos',\n          label: 'POS'\n        },\n        {\n          value: 'apparel',\n          label: 'Apparel'\n        },\n        {\n          value: 'merchandise',\n          label: 'Merchandise'\n        },\n        {\n          value: 'packaging',\n          label: 'Packaging'\n        }\n      ]\n    }\n  },\n  created() {\n    this.filtersLocal = _.cloneDeep(this.filters);\n  },\n  computed: {\n    hasUnsavedChanges() {\n      let hasUnsaved = false;\n\n      let diffOne = _.difference(this.filters.filters_enabled, this.filtersLocal.filters_enabled);\n      let diffTwo = _.difference(this.filtersLocal.filters_enabled, this.filters.filters_enabled);\n      if (_.merge(diffOne, diffTwo).length) {\n        hasUnsaved = true;\n      }\n\n      if (this.filters['product_type'] !== this.filtersLocal['product_type']) {\n        hasUnsaved = true;\n      }\n\n      return (hasUnsaved || this.hasUnsavedChangesFromEvent);\n    }\n  },\n  methods: {\n    handleFilterUpdated() {\n      // this.incrementUnsavedReloadKey();\n      // this.$emit('filter-updated');\n      this.hasUnsavedChangesFromEvent = true;\n      // console.log('hasUnsavedChangesFromEvent = true');\n    },\n\n    incrementUnsavedReloadKey() {\n     this.unsavedReloadKey += 1;\n    },\n\n    clear() {\n      this.filtersLocal.filters_enabled = [];\n    },\n\n    save() {\n      this.$emit('set-filters', _.cloneDeep(this.filtersLocal));\n      this.$emit('filter-updated');\n      this.hasUnsavedChangesFromEvent = false;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.filters-inner {\n  min-width: 200px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrdersFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrdersFilters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrdersFilters.vue?vue&type=template&id=e7cf4886&scoped=true&\"\nimport script from \"./OrdersFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./OrdersFilters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrdersFilters.vue?vue&type=style&index=0&id=e7cf4886&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7cf4886\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InlineFilter.vue?vue&type=style&index=0&id=3a2d8a40&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"filter-wrapper\"},[_c('div',{staticClass:\"filter-header\"},[_c('a-checkbox',{attrs:{\"checked\":_vm.isFilterEnabled},on:{\"change\":_vm.toggleFilterEnabled}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")])],1),(_vm.isFilterEnabled)?_c('div',{staticClass:\"filter\"},[(_vm.type === 'categorical')?_c('a-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.details),callback:function ($$v) {_vm.details=$$v},expression:\"details\"}},_vm._l((_vm.options),function(option,i){return _c('a-select-option',{key:i,attrs:{\"value\":option.value}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),1):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"filter-wrapper\">\n    <div class=\"filter-header\">\n      <a-checkbox @change=\"toggleFilterEnabled\" :checked=\"isFilterEnabled\">\n        {{ label }}\n      </a-checkbox>\n    </div>\n    <div v-if=\"isFilterEnabled\" class=\"filter\">\n      <a-select style=\"width: 100%;\" v-if=\"type === 'categorical'\" v-model=\"details\">\n        <a-select-option v-for=\"(option, i) in options\" :key=\"i\" :value=\"option.value\">\n          {{ option.label }}\n        </a-select-option>\n      </a-select>\n    </div>\n  </div>\n</template>\n\n<script>\nconst _ = require('lodash');\nexport default {\n  name: \"InlineFilter\",\n  props: ['filters', 'id', 'label', 'type', 'options'],\n  data() {\n    return {\n      details: null,\n      watchingEnabled: false\n    }\n  },\n  created() {\n    this.details = this.filters[this.id];\n    this.$nextTick(() => {\n      this.watchingEnabled = true;\n    })\n  },\n  computed: {\n    isFilterEnabled() {\n      return _.includes(this.filters.filters_enabled, this.id);\n    }\n  },\n  methods: {\n    toggleFilterEnabled() {\n      this.filters.filters_enabled = _.xor(this.filters.filters_enabled, [this.id]);\n      this.$emit('filter-updated');\n    }\n  },\n  watch: {\n    details(newVal) {\n      if (this.watchingEnabled) {\n        this.filters[this.id] = newVal;\n        this.$emit('filter-updated');\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.filter-body {\n  padding-top: 10px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InlineFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InlineFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InlineFilter.vue?vue&type=template&id=3a2d8a40&scoped=true&\"\nimport script from \"./InlineFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./InlineFilter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InlineFilter.vue?vue&type=style&index=0&id=3a2d8a40&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a2d8a40\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=style&index=0&id=d3c5ff78&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('loading-screen',{attrs:{\"is-loading\":_vm.isLoading}}),(_vm.order)?_c('a-page-header',{attrs:{\"title\":_vm.order.product_name},on:{\"back\":_vm.backToAllOrders}}):_vm._e(),(_vm.order)?_c('div',{staticClass:\"page-body\"},[_c('order-description',{attrs:{\"order\":_vm.order}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <loading-screen :is-loading=\"isLoading\"></loading-screen>\n\n    <a-page-header v-if=\"order\"\n        :title=\"order.product_name\"\n        @back=\"backToAllOrders\"\n    />\n\n    <div class=\"page-body\" v-if=\"order\">\n      <order-description :order=\"order\"></order-description>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport OrderDescription from \"../../components/Orders/Show/OrderDescription\";\n\nlet _ = require('lodash');\n\nexport default {\n  name: 'Show',\n  components: {OrderDescription},\n  data() {\n    return {\n      order: null,\n      isLoading: false,\n      serverErrors: []\n    }\n  },\n  created() {\n    this.loadOrder(this.$route.params.id);\n  },\n  methods: {\n    backToAllOrders() {\n      this.$router.push('/orders');\n    },\n\n    loadOrder(id) {\n      let vm = this;\n      vm.order = null;\n      vm.isLoading = true;\n      axios.get(window.API_BASE + '/orders/' + id).then(r => {\n        vm.isLoading = false;\n        vm.order = r.data;\n      }).catch(e => {\n        vm.isLoading = false;\n        vm.$message.error('Error loading order');\n        console.log(e);\n\n        let errors;\n        if (e.response && e.response.data && typeof e.response.data === 'object') {\n          errors = _.flatten(_.toArray(e.response.data.errors));\n        } else {\n          errors = ['Something went wrong. Please try again.'];\n        }\n        vm.serverErrors = errors;\n      });\n    }\n  }\n}\n</script>\n<style scoped lang=\"scss\">\n.page-body {\n  margin-top: 25px;\n  padding-bottom: 10px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=d3c5ff78&scoped=true&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Show.vue?vue&type=style&index=0&id=d3c5ff78&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3c5ff78\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrdersFilters.vue?vue&type=style&index=0&id=e7cf4886&scoped=true&lang=css&\""],"sourceRoot":""}