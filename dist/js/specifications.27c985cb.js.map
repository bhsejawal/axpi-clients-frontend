{"version":3,"sources":["webpack:///./src/views/Specifications.vue?704d","webpack:///./src/components/Specifications/SpecificationsTable.vue?ef02","webpack:///src/components/Specifications/SpecificationsTable.vue","webpack:///./src/components/Specifications/SpecificationsTable.vue?eb6f","webpack:///./src/components/Specifications/SpecificationsTable.vue","webpack:///src/views/Specifications.vue","webpack:///./src/views/Specifications.vue?59b1","webpack:///./src/views/Specifications.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isDeleting","_v","isLoading","on","createSpecification","reloadOrdersKey","setSelectedSpecificationIds","deleteSpecification","handleSpecificationSelected","order","type","_e","staticRenderFns","rowSelection","columns","record","id","data","pagination","loading","handleTableChange","scopedSlots","_u","key","fn","name","$event","preventDefault","handleRecordSelected","_s","formatType","updated_at","displayTimeAgo","actions","e","slot","deleteRecord","props","selectedSpecificationIds","mixins","Orders","mounted","fetch","watch","reloadKey","$emit","newSelection","computed","onChange","getCheckboxProps","methods","pager","current","results_per_page","pageSize","page","sort_field","sorter","field","sort_order","status","statusToShow","total","r","console","log","component","components","vm","$message","success","incrementReloadOrdersKey","ids","setWizardStage","loadSpecification"],"mappings":"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","file":"js/specifications.27c985cb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"specifications\"},[_c('loading-screen',{attrs:{\"is-loading\":_vm.isDeleting}}),_c('div',{staticClass:\"page-header\"},[_c('h1',{staticClass:\"page-title\"},[_vm._v(\"Specifications\")]),_c('div',{staticClass:\"actions\"},[_c('a-button',{attrs:{\"icon\":\"plus\",\"type\":\"primary\",\"loading\":_vm.isLoading},on:{\"click\":_vm.createSpecification}},[_vm._v(\"Add Specification \")])],1)]),_c('specifications-table',{attrs:{\"reload-key\":_vm.reloadOrdersKey},on:{\"set-selected-specification-ids\":_vm.setSelectedSpecificationIds,\"delete-specification\":_vm.deleteSpecification,\"selected\":_vm.handleSpecificationSelected}}),(_vm.order && _vm.type === 'specification')?_c('edit-order-modal'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-table',{staticClass:\"axpi-table\",attrs:{\"row-selection\":_vm.rowSelection,\"columns\":_vm.columns,\"row-key\":function (record) { return record.id; },\"data-source\":_vm.data,\"pagination\":_vm.pagination,\"loading\":_vm.loading},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"name\",fn:function(name, record){return _c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleRecordSelected(record)}}},[_vm._v(_vm._s(name))])}},{key:\"type\",fn:function(type){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.formatType(type))+\" \")])}},{key:\"updated_at\",fn:function(updated_at){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.displayTimeAgo(updated_at))+\" \")])}},{key:\"actions\",fn:function(actions, record){return _c('div',{staticClass:\"table-actions\"},[_c('a-dropdown',{attrs:{\"trigger\":['click']}},[_c('a-button',{attrs:{\"type\":\"link\",\"icon\":\"ellipsis\"},on:{\"click\":function($event){$event.preventDefault();return (function (e) { return e.preventDefault(); })($event)}}}),_c('a-menu',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},[_c('a-menu-item',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.handleRecordSelected(record)}}},[_vm._v(\"Edit\")])]),_c('a-menu-item',[_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteRecord(record)}}},[_vm._v(\"Delete\")])])],1)],1)],1)}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-table class=\"axpi-table\"\n             :row-selection=\"rowSelection\"\n             :columns=\"columns\"\n             :row-key=\"record => record.id\"\n             :data-source=\"data\"\n             :pagination=\"pagination\"\n             :loading=\"loading\"\n             @change=\"handleTableChange\"\n    >\n      <a href=\"#\" slot=\"name\" slot-scope=\"name, record\" @click.prevent=\"handleRecordSelected(record)\">{{\n          name\n        }}</a>\n      <div slot=\"type\" slot-scope=\"type\">\n        {{ formatType(type) }}\n      </div>\n      <div slot=\"updated_at\" slot-scope=\"updated_at\">\n        {{ displayTimeAgo(updated_at) }}\n      </div>\n      <div slot=\"actions\" class=\"table-actions\" slot-scope=\"actions, record\">\n        <a-dropdown :trigger=\"['click']\">\n          <a-button type=\"link\" icon=\"ellipsis\" @click.prevent=\"e => e.preventDefault()\"></a-button>\n          <a-menu slot=\"overlay\">\n            <a-menu-item>\n              <a href=\"#\" @click=\"handleRecordSelected(record)\">Edit</a>\n            </a-menu-item>\n            <a-menu-item>\n              <a href=\"#\" class=\"text-danger\" @click.prevent=\"deleteRecord(record)\">Delete</a>\n            </a-menu-item>\n          </a-menu>\n        </a-dropdown>\n      </div>\n    </a-table>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nimport Orders from \"../../mixins/Orders\";\nimport Dates from \"../../mixins/Dates\";\n\nconst columns = [\n  {\n    title: 'Name',\n    dataIndex: 'product_name',\n    sorter: true,\n    scopedSlots: {customRender: 'name'}\n  },\n  {\n    title: 'Type',\n    dataIndex: 'product_type',\n    sorter: true,\n    scopedSlots: {customRender: 'type'}\n  },\n  {\n    title: 'Last Updated',\n    dataIndex: 'updated_at',\n    sorter: true,\n    scopedSlots: {customRender: 'updated_at'}\n  },\n  {\n    title: '',\n    scopedSlots: {customRender: 'actions'},\n    width: 10\n  }\n];\n\nexport default {\n  props: ['reloadKey'],\n  data() {\n    return {\n      data: [],\n      pagination: {},\n      loading: false,\n      columns,\n      selectedSpecificationIds: []\n    };\n  },\n  mixins: [Orders, Dates],\n  mounted() {\n    this.fetch();\n  },\n  watch: {\n    reloadKey() {\n      this.fetch();\n    },\n    selectedSpecificationIds(newSelection) {\n      this.$emit('set-selected-specification-ids', newSelection);\n    }\n  },\n  computed: {\n    rowSelection() {\n      return {\n        onChange: (selectedRowKeys) => {\n          this.selectedSpecificationIds = selectedRowKeys;\n          // console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n        },\n        getCheckboxProps: record => ({\n          props: {\n            disabled: record.name === 'Disabled User', // Column configuration not to be checked\n            name: record.name,\n          },\n        }),\n      };\n    }\n  },\n  methods: {\n    handleTableChange(pagination, filters, sorter) {\n      const pager = {...this.pagination};\n      pager.current = pagination.current;\n      this.pagination = pager;\n      this.fetch({\n        results_per_page: pagination.pageSize,\n        page: pagination.current,\n        sort_field: sorter.field,\n        sort_order: sorter.order,\n        ...filters,\n      });\n    },\n\n    fetch(params = {}) {\n      this.loading = true;\n      axios.post(window.API_BASE + '/specifications/search', {\n        results_per_page: 10,\n        status: this.statusToShow,\n        ...params\n      }).then(r => {\n        const pagination = {...this.pagination};\n        // Read total count from server\n        pagination.total = r.data.total;\n        this.loading = false;\n        this.data = r.data.data;\n        this.pagination = pagination;\n      }).catch(e => {\n        console.log(e);\n        this.$message.error('Error loading specifications');\n      });\n    },\n\n    handleRecordSelected(order) {\n      this.$emit('selected', order);\n    },\n\n    deleteRecord(order) {\n      this.$emit('delete-specification', order);\n    },\n\n    // getInformationRequestUrl(informationRequest) {\n    //    return '/information-requests/' + informationRequest.id + '/edit';\n    // }\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpecificationsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpecificationsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpecificationsTable.vue?vue&type=template&id=1ab6ff29&\"\nimport script from \"./SpecificationsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SpecificationsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"specifications\">\n    <loading-screen :is-loading=\"isDeleting\"></loading-screen>\n\n    <div class=\"page-header\">\n      <h1 class=\"page-title\">Specifications</h1>\n      <div class=\"actions\">\n        <a-button @click=\"createSpecification\"\n                  icon=\"plus\" type=\"primary\" :loading=\"isLoading\">Add Specification\n        </a-button>\n      </div>\n    </div>\n\n    <specifications-table @set-selected-specification-ids=\"setSelectedSpecificationIds\"\n                  @delete-specification=\"deleteSpecification\"\n                  :reload-key=\"reloadOrdersKey\" @selected=\"handleSpecificationSelected\"></specifications-table>\n\n    <edit-order-modal v-if=\"order && type === 'specification'\">\n    </edit-order-modal>\n  </div>\n</template>\n\n<script>\nimport SpecificationsTable from \"../components/Specifications/SpecificationsTable\";\nimport EditOrderModal from \"../components/Orders/EditOrderModal\";\nimport {mapGetters, mapActions} from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  name: \"Specifications\",\n  computed: {\n    ...mapGetters('orderEditor', {\n      type: 'type',\n      order: 'order',\n      reloadOrdersKey: 'reloadOrdersKey',\n      isLoading: 'isLoading'\n    })\n  },\n  components: {SpecificationsTable, EditOrderModal},\n  data() {\n    return {\n      selectedSpecificationIds: [],\n      isDeleting: false\n    }\n  },\n  methods: {\n    ...mapActions('orderEditor', {\n      loadSpecification: 'loadSpecification',\n      setWizardStage: 'setWizardStage',\n      createSpecification: 'createSpecification',\n      incrementReloadOrdersKey: 'incrementReloadOrdersKey'\n    }),\n\n    deleteSpecification(specification) {\n      let vm = this;\n      vm.isDeleting = true;\n      axios.delete(window.API_BASE + '/specifications/' + specification.id).then(() => {\n        vm.isDeleting = false;\n        vm.$message.success('Specification deleted successfully');\n        vm.incrementReloadOrdersKey();\n      }).catch(e => {\n        console.log(e);\n        vm.isDeleting = false;\n        vm.$message.success('Error deleting order');\n      });\n    },\n\n    setSelectedSpecificationIds(ids) {\n      this.selectedSpecificationIds = ids;\n    },\n\n    handleSpecificationSelected(specification) {\n      this.setWizardStage(0);\n      this.loadSpecification(\n          specification.id\n      );\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifications.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifications.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Specifications.vue?vue&type=template&id=b7dbab8a&scoped=true&\"\nimport script from \"./Specifications.vue?vue&type=script&lang=js&\"\nexport * from \"./Specifications.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7dbab8a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}